{
  "hash": "738abb2af5b09a241a8012c6d4866cc4",
  "result": {
    "markdown": "# Introduction to Options {#sec-c_calls-puts}\n\n<a target=\"_blank\" href=\"https://colab.research.google.com/github/math-finance-book/notebooks/blob/main/chapter1.ipynb\">\n  <img src=\"images/Open in Colab.png\" alt=\"Open Chapter Code In Colab\" width=\"200\" height=\"34\"/>\n</a>  \n\nFinancial options are rights to buy and sell assets at pre-specified prices.  The rights are traded on exchanges and also as private contracts (called over-the-counter or OTC).  A call option is a right to buy an asset.  A put option is a right to sell an asset.  The pre-specified price is called the exercise price, the strike price, or simply the strike.   The asset to which an option pertains is called the underlying asset, or, more briefly, the underlying.  \n\nHere is a snapshot of market statistics regarding call options on Apple stock (AAPL) traded on the Chicago Board Options Exchange (CBOE).  We are accessing the data courtesy of Yahoo Finance.  We will refer to this data throughout the chapter.\n\n::: {.cell execute='auto' execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport yfinance as yf\nfrom datetime import datetime\nimport pytz\nfrom datetime import datetime\n\nest = pytz.timezone('US/Eastern')\nfmt = '%Y-%m-%d %H:%M:%S %Z%z'\nnow = datetime.today().astimezone(est).strftime(fmt)\n\nticker = \"AAPL\"         # ticker to pull\nkind = \"call\"           # call or put\nmaturity = 4            # option maturity in order of maturities trading\n\ntick = yf.Ticker(ticker.upper())\n\n# Pull last stock price\nclose = tick.history().iloc[-1].Close\n\n# Get maturity date\ndate = tick.options[maturity]\n\n# Pull options data\ndf = (\n    tick.option_chain(date).calls\n    if kind == \"call\"\n    else tick.option_chain(date).puts\n)\n\ndf.lastTradeDate = df.lastTradeDate.map(\n    lambda x: x.astimezone(est).strftime(fmt)\n)\n\n# Formatting\ncols = [\n    \"strike\",\n    \"bid\",\n    \"ask\",\n    \"lastPrice\",\n    \"change\",\n    \"percentChange\",\n    \"lastTradeDate\",\n    \"volume\",\n    \"openInterest\",\n    \"impliedVolatility\",\n]\ndf = df[cols]\ndf[\"impliedVolatility\"] = df[\"impliedVolatility\"].map(\"{:.1%}\".format)\ndf[\"change\"] = df[\"change\"].round(2)\ndf[\"percentChange\"] = (df[\"percentChange\"]/100).map(\"{:.1%}\".format)\ndf.columns = [\n    \"Strike\",\n    \"Bid\",\n    \"Ask\",\n    \"Last Price\",\n    \"Change\",\n    \"% Change\",\n    \"Time of Last Trade\",\n    \"Volume\",\n    \"Open Interest\",\n    \"Implied Volatility\",\n] \ndf = df.set_index(\"Strike\")\nprint(f\"Code was executed at \\t{now}\")\nprint(f\"Last {ticker.upper()} price was \\t${close:.2f}.\")\nprint(f'Maturity date of options:\\t{date}')\npd.set_option('display.max_rows', 500)\npd.set_option('display.max_columns', 500)\npd.set_option('display.width', 1000)\nprint(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nCode was executed at \t2024-10-03 19:12:23 EDT-0400\nLast AAPL price was \t$225.67.\nMaturity date of options:\t2024-11-01\n          Bid    Ask  Last Price  Change % Change            Time of Last Trade  Volume  Open Interest Implied Volatility\nStrike                                                                                                                   \n140.0   85.90  86.90       87.99    0.00     0.0%  2024-09-26 11:15:04 EDT-0400     2.0              9              94.0%\n145.0   80.85  81.80       72.48    0.00     0.0%  2024-09-16 13:48:31 EDT-0400     NaN              2              86.3%\n150.0   75.85  77.00       78.97    0.00     0.0%  2024-09-23 12:11:44 EDT-0400     1.0             30              82.8%\n160.0   65.95  67.10       73.50    0.00     0.0%  2024-09-30 09:34:35 EDT-0400     1.0             37              73.4%\n165.0   61.00  62.15       63.00    0.00     0.0%  2024-09-25 10:17:07 EDT-0400     1.0              6              68.8%\n170.0   56.05  57.20       62.85    0.00     0.0%  2024-09-30 12:37:48 EDT-0400     1.0              3              64.1%\n175.0   51.10  52.10       51.00    0.00     0.0%  2024-10-01 13:56:07 EDT-0400    10.0             40              58.4%\n180.0   46.15  47.35       44.68   -7.95   -15.1%  2024-10-03 13:07:25 EDT-0400   107.0             16              55.0%\n185.0   41.25  42.45       40.82   -2.43    -5.6%  2024-10-02 14:12:27 EDT-0400     5.0             76              50.8%\n190.0   36.45  37.60       36.30   -1.22    -3.3%  2024-10-03 11:20:29 EDT-0400     2.0              9              52.2%\n195.0   32.05  32.80       30.20   -2.10    -6.5%  2024-10-03 11:34:10 EDT-0400     7.0            319              48.0%\n200.0   27.30  28.80       25.55   -0.64    -2.4%  2024-10-03 14:20:55 EDT-0400     5.0             71              48.5%\n205.0   22.55  23.10       23.00   -1.00    -4.2%  2024-10-03 15:59:04 EDT-0400    14.0             70              38.0%\n210.0   18.20  18.75       18.50   -1.15    -5.9%  2024-10-03 15:58:15 EDT-0400     6.0             64              35.3%\n215.0   14.25  14.65       13.23   -2.52   -16.0%  2024-10-03 13:11:21 EDT-0400   132.0            376              32.7%\n220.0   10.80  11.00       10.45   -1.54   -12.8%  2024-10-03 15:33:00 EDT-0400   234.0            617              30.8%\n225.0    7.65   7.85        7.75   -0.82    -9.6%  2024-10-03 15:58:54 EDT-0400   592.0           1153              29.1%\n230.0    5.10   5.25        5.21   -0.54    -9.4%  2024-10-03 15:59:42 EDT-0400   925.0           2125              27.7%\n235.0    3.15   3.30        3.25   -0.40   -11.0%  2024-10-03 15:59:03 EDT-0400   950.0          11709              26.6%\n240.0    1.81   1.92        1.85   -0.30   -14.0%  2024-10-03 15:55:51 EDT-0400   358.0           2713              25.6%\n245.0    0.97   1.07        1.04   -0.17   -14.0%  2024-10-03 15:59:13 EDT-0400   496.0           5471              25.1%\n250.0    0.51   0.57        0.48   -0.17   -26.2%  2024-10-03 15:49:17 EDT-0400    96.0           1488              24.8%\n255.0    0.24   0.32        0.24   -0.10   -29.4%  2024-10-03 15:49:07 EDT-0400   102.0            987              25.1%\n260.0    0.12   0.15        0.15   -0.03   -16.7%  2024-10-03 15:53:13 EDT-0400    43.0           1286              24.8%\n265.0    0.07   0.10        0.08   -0.03   -27.3%  2024-10-03 14:42:27 EDT-0400    10.0            181              26.0%\n270.0    0.04   0.07        0.04   -0.02   -33.3%  2024-10-03 14:52:07 EDT-0400    32.0            169              27.1%\n275.0    0.01   0.04        0.04   -0.02   -33.3%  2024-10-03 13:34:37 EDT-0400     1.0             74              27.6%\n280.0    0.01   0.04        0.04    0.00     0.0%  2024-10-02 14:15:56 EDT-0400     2.0            261              29.9%\n285.0    0.02   0.05        0.02   -0.01   -33.3%  2024-10-03 15:01:26 EDT-0400    15.0           2866              32.8%\n290.0    0.02   0.03        0.03   -0.02   -40.0%  2024-09-30 11:23:20 EDT-0400    30.0            163              33.0%\n295.0    0.00   0.07        0.03    0.00     0.0%  2024-10-01 14:59:08 EDT-0400    54.0             98              38.5%\n300.0    0.00   0.03        0.03    0.00     0.0%  2024-10-01 15:45:16 EDT-0400   160.0            224              36.9%\n```\n:::\n:::\n\n\n![](images/under_construction.png){fig-align=\"center\"}\n\n## Intrinsic Value and Time Value\n\n\n## Investing in Options\n\n\n## Hedging with Options\n\n\n## Selling Options for Income\n\n\n## Option Spreads\n\n\n## Put-Call Parity\n\n\n## American Options\n\n\n## Dividends\n\n",
    "supporting": [
      "Chapter1_files"
    ],
    "filters": [],
    "includes": {}
  }
}