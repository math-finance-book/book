<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Pricing and Hedging Derivative Securities: Theory and Methods - 1&nbsp; Calls and Puts</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Chapter2.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter1.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Calls and Puts</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Pricing and Hedging Derivative Securities: Theory and Methods</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Calls and Puts</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Binomial Model and Changes of Measure</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Continuous-Time Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Black-Scholes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Estimating and Modeling Volatility</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Monte Carlo and Binomial Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Foreign Exchange</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Forward, Futures, and Exchange Options</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Exotic Options</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Finite Difference Methods</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Fixed Income Concepts</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Introduction to Fixed Income Derivatives</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Valuing Derivatives in the Extended Vasicek Model</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter15.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">A Brief Survey of Term Structure Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./AppendixB.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Miscellaneous Facts about Continuous-Time Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Chapter contents</h2>
   
  <ul class="collapse">
  <li><a href="#intrinsic-value-and-time-value" id="toc-intrinsic-value-and-time-value" class="nav-link active" data-scroll-target="#intrinsic-value-and-time-value"><span class="header-section-number">1.1</span> Intrinsic Value and Time Value</a></li>
  <li><a href="#investing-in-options" id="toc-investing-in-options" class="nav-link" data-scroll-target="#investing-in-options"><span class="header-section-number">1.2</span> Investing in Options</a></li>
  <li><a href="#hedging-with-options" id="toc-hedging-with-options" class="nav-link" data-scroll-target="#hedging-with-options"><span class="header-section-number">1.3</span> Hedging with Options</a></li>
  <li><a href="#selling-options-for-income" id="toc-selling-options-for-income" class="nav-link" data-scroll-target="#selling-options-for-income"><span class="header-section-number">1.4</span> Selling Options for Income</a></li>
  <li><a href="#option-spreads" id="toc-option-spreads" class="nav-link" data-scroll-target="#option-spreads"><span class="header-section-number">1.5</span> Option Spreads</a></li>
  <li><a href="#put-call-parity" id="toc-put-call-parity" class="nav-link" data-scroll-target="#put-call-parity"><span class="header-section-number">1.6</span> Put-Call Parity</a></li>
  <li><a href="#american-options" id="toc-american-options" class="nav-link" data-scroll-target="#american-options"><span class="header-section-number">1.7</span> American Options</a></li>
  <li><a href="#dividends" id="toc-dividends" class="nav-link" data-scroll-target="#dividends"><span class="header-section-number">1.8</span> Dividends</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-c_calls-puts" class="quarto-section-identifier"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Calls and Puts</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p><a target="_blank" href="https://colab.research.google.com/github/math-finance-book/notebooks/blob/main/chapter1.ipynb"> <img src="images/Open in Colab.png" alt="Open Chapter Code In Colab" width="200" height="34"> </a></p>
<p>Financial options are rights to buy and sell assets at pre-specified prices. The rights are traded on exchanges and also as private contracts (called over-the-counter or OTC). A call option is a right to buy an asset. A put option is a right to sell an asset. The pre-specified price is called the exercise price, the strike price, or simply the strike. The asset to which an option pertains is called the underlying asset, or, more briefly, the underlying.</p>
<p>Here is a snapshot of market statistics regarding call options on Apple stock (AAPL) traded on the Chicago Board Options Exchange (CBOE). We are accessing the data courtesy of Yahoo Finance. We will refer to this data throughout the chapter.</p>
<div class="cell" data-execute="auto" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> yfinance <span class="im">as</span> yf</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pytz</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> datetime</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>est <span class="op">=</span> pytz.timezone(<span class="st">'US/Eastern'</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>fmt <span class="op">=</span> <span class="st">'%Y-%m-</span><span class="sc">%d</span><span class="st"> %H:%M:%S %Z%z'</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>now <span class="op">=</span> datetime.today().astimezone(est).strftime(fmt)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>ticker <span class="op">=</span> <span class="st">"AAPL"</span>         <span class="co"># ticker to pull</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>kind <span class="op">=</span> <span class="st">"call"</span>           <span class="co"># call or put</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>maturity <span class="op">=</span> <span class="dv">4</span>            <span class="co"># option maturity in order of maturities trading</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>tick <span class="op">=</span> yf.Ticker(ticker.upper())</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull last stock price</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>close <span class="op">=</span> tick.history().iloc[<span class="op">-</span><span class="dv">1</span>].Close</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Get maturity date</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>date <span class="op">=</span> tick.options[maturity]</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Pull options data</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> (</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    tick.option_chain(date).calls</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> kind <span class="op">==</span> <span class="st">"call"</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> tick.option_chain(date).puts</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>df.lastTradeDate <span class="op">=</span> df.lastTradeDate.<span class="bu">map</span>(</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    <span class="kw">lambda</span> x: x.astimezone(est).strftime(fmt)</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Formatting</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> [</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">"strike"</span>,</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">"bid"</span>,</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ask"</span>,</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">"lastPrice"</span>,</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">"change"</span>,</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">"percentChange"</span>,</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">"lastTradeDate"</span>,</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">"volume"</span>,</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">"openInterest"</span>,</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">"impliedVolatility"</span>,</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[cols]</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"impliedVolatility"</span>] <span class="op">=</span> df[<span class="st">"impliedVolatility"</span>].<span class="bu">map</span>(<span class="st">"</span><span class="sc">{:.1%}</span><span class="st">"</span>.<span class="bu">format</span>)</span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"change"</span>] <span class="op">=</span> df[<span class="st">"change"</span>].<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"percentChange"</span>] <span class="op">=</span> (df[<span class="st">"percentChange"</span>]<span class="op">/</span><span class="dv">100</span>).<span class="bu">map</span>(<span class="st">"</span><span class="sc">{:.1%}</span><span class="st">"</span>.<span class="bu">format</span>)</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>df.columns <span class="op">=</span> [</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Strike"</span>,</span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Bid"</span>,</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ask"</span>,</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Last Price"</span>,</span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Change"</span>,</span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>    <span class="st">"% Change"</span>,</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Time of Last Trade"</span>,</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Volume"</span>,</span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Open Interest"</span>,</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Implied Volatility"</span>,</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>] </span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.set_index(<span class="st">"Strike"</span>)</span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Code was executed at </span><span class="ch">\t</span><span class="sc">{</span>now<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"Last </span><span class="sc">{</span>ticker<span class="sc">.</span>upper()<span class="sc">}</span><span class="ss"> price was </span><span class="ch">\t</span><span class="ss">$</span><span class="sc">{</span>close<span class="sc">:.2f}</span><span class="ss">."</span>)</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Maturity date of options:</span><span class="ch">\t</span><span class="sc">{</span>date<span class="sc">}</span><span class="ss">'</span>)</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.max_rows'</span>, <span class="dv">500</span>)</span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.max_columns'</span>, <span class="dv">500</span>)</span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>pd.set_option(<span class="st">'display.width'</span>, <span class="dv">1000</span>)</span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Code was executed at    2024-09-04 01:02:09 EDT-0400
Last AAPL price was     $222.77.
Maturity date of options:   2024-10-04
        Bid  Ask  Last Price  Change % Change            Time of Last Trade  Volume  Open Interest Implied Volatility
Strike                                                                                                               
140.0   0.0  0.0       89.17     0.0     0.0%  2024-08-30 11:11:09 EDT-0400     3.0              0               0.0%
145.0   0.0  0.0       87.62     0.0     0.0%  2024-08-29 13:45:13 EDT-0400     1.0              0               0.0%
165.0   0.0  0.0       60.47     0.0     0.0%  2024-08-22 14:07:12 EDT-0400     NaN              0               0.0%
170.0   0.0  0.0       56.00     0.0     0.0%  2024-08-26 11:22:14 EDT-0400     NaN              0               0.0%
175.0   0.0  0.0       54.38     0.0     0.0%  2024-09-03 09:33:26 EDT-0400     1.0              0               0.0%
185.0   0.0  0.0       40.50     0.0     0.0%  2024-09-03 11:07:03 EDT-0400     5.0              0               0.0%
190.0   0.0  0.0       36.60     0.0     0.0%  2024-09-03 10:30:26 EDT-0400     1.0              0               0.0%
195.0   0.0  0.0       28.20     0.0     0.0%  2024-09-03 15:47:14 EDT-0400   250.0              0               0.0%
200.0   0.0  0.0       24.60     0.0     0.0%  2024-09-03 15:59:02 EDT-0400    32.0              0               0.0%
205.0   0.0  0.0       19.90     0.0     0.0%  2024-09-03 15:56:05 EDT-0400    20.0              0               0.0%
210.0   0.0  0.0       15.60     0.0     0.0%  2024-09-03 15:31:16 EDT-0400    49.0              0               0.0%
215.0   0.0  0.0       11.85     0.0     0.0%  2024-09-03 15:33:20 EDT-0400    53.0              0               0.0%
220.0   0.0  0.0        8.70     0.0     0.0%  2024-09-03 15:59:02 EDT-0400   139.0              0               0.0%
225.0   0.0  0.0        5.96     0.0     0.0%  2024-09-03 15:59:34 EDT-0400   783.0              0               0.8%
230.0   0.0  0.0        3.80     0.0     0.0%  2024-09-03 15:59:56 EDT-0400  1641.0              0               3.1%
235.0   0.0  0.0        2.29     0.0     0.0%  2024-09-03 15:59:59 EDT-0400  4144.0              0               3.1%
240.0   0.0  0.0        1.29     0.0     0.0%  2024-09-03 15:59:37 EDT-0400  1727.0              0               6.3%
245.0   0.0  0.0        0.71     0.0     0.0%  2024-09-03 15:57:10 EDT-0400   194.0              0               6.3%
250.0   0.0  0.0        0.40     0.0     0.0%  2024-09-03 15:57:46 EDT-0400   483.0              0               6.3%
255.0   0.0  0.0        0.23     0.0     0.0%  2024-09-03 15:45:10 EDT-0400    42.0              0              12.5%
260.0   0.0  0.0        0.14     0.0     0.0%  2024-09-03 14:05:06 EDT-0400    69.0              0              12.5%
265.0   0.0  0.0        0.10     0.0     0.0%  2024-09-03 14:11:39 EDT-0400    78.0              0              12.5%
270.0   0.0  0.0        0.06     0.0     0.0%  2024-09-03 13:48:50 EDT-0400     3.0              0              12.5%
275.0   0.0  0.0        0.04     0.0     0.0%  2024-09-03 13:44:13 EDT-0400     4.0              0              12.5%
280.0   0.0  0.0        0.03     0.0     0.0%  2024-09-03 10:29:33 EDT-0400     3.0              0              12.5%
285.0   0.0  0.0        0.02     0.0     0.0%  2024-09-03 10:18:32 EDT-0400     1.0              0              12.5%
290.0   0.0  0.0        0.03     0.0     0.0%  2024-09-03 15:53:05 EDT-0400    68.0              0              25.0%
295.0   0.0  0.0        0.02     0.0     0.0%  2024-09-03 09:41:15 EDT-0400     5.0              0              25.0%
300.0   0.0  0.0        0.02     0.0     0.0%  2024-09-03 13:49:19 EDT-0400    37.0              0              25.0%</code></pre>
</div>
</div>
<section id="intrinsic-value-and-time-value" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="intrinsic-value-and-time-value"><span class="header-section-number">1.1</span> Intrinsic Value and Time Value</h2>
</section>
<section id="investing-in-options" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="investing-in-options"><span class="header-section-number">1.2</span> Investing in Options</h2>
</section>
<section id="hedging-with-options" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="hedging-with-options"><span class="header-section-number">1.3</span> Hedging with Options</h2>
</section>
<section id="selling-options-for-income" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="selling-options-for-income"><span class="header-section-number">1.4</span> Selling Options for Income</h2>
</section>
<section id="option-spreads" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="option-spreads"><span class="header-section-number">1.5</span> Option Spreads</h2>
</section>
<section id="put-call-parity" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="put-call-parity"><span class="header-section-number">1.6</span> Put-Call Parity</h2>
</section>
<section id="american-options" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="american-options"><span class="header-section-number">1.7</span> American Options</h2>
</section>
<section id="dividends" class="level2" data-number="1.8">
<h2 data-number="1.8" class="anchored" data-anchor-id="dividends"><span class="header-section-number">1.8</span> Dividends</h2>
<p>If the market value of the asset exceeds the exercise price, then we say the call option is in the money. Buying a call option is a way to bet on the upside of the underlying asset.</p>
<p>A put option is the right to sell an asset at a pre-specified (exercise, strike) price. Buying a put is a way to bet on an asset price becoming low (similar to shorting). A put option is in the money if the exercise price exceeds the value of the asset. Both puts and calls are potentially valuable and hence the buyer of a put or call must pay the seller.</p>
<p>A long put option provides insurance to someone who is long the underlying asset, because it guarantees that the asset can always be sold at the strike price of the put (of course, it can be sold at the market price, if that is higher than the strike of the put). Symmetrically, a long call option provides insurance to someone who is short the underlying asset. The terminology in option markets reflects the parallels between options and insurance contracts. In particular, the seller of an option is said to write the option and the compensation (price) he receives from the buyer is called the option premium, just as an insurance company writes insurance contracts in exchange for premium income. Calculating the price at which one should be willing to trade an option is the main topic of this book.</p>
<p>It is important to recognize the different situations of someone who is short a call option and someone who is long a put. Both positions are bets on the downside of the asset. Both the investor who is short a call and the investor who is long a put may eventually sell the underlying asset and receive the exercise price in exchange. However, the investor who is long a put has an option to sell the asset at the exercise price and the investor who is short a call has an to sell the asset at the exercise price, should the counterparty choose to exercise the call. Thus, the investor who is long a put will be selling at the exercise price when it is profitable to do so, whereas the investor who is short a call will be selling at the exercise price when it is unprofitable. The buyer of a put must pay the premium to the seller; he then profits if the asset price is low, with his maximum possible profit being quite large (the maximum value is attained when the market value of the underlying asset reaches zero). In contrast, the seller of a call receives premium income, and the premium is his maximum possible profit, whereas his potential losses are unbounded. Thus, these are very different positions.</p>
<p>Individuals who sell calls usually sell out-of-the-money covered calls. Covered means that they own the underlying asset and can therefore deliver the underlying if the call is exercised without incurring any further expense—they experience only an opportunity cost in delivering it for less than the market price.^[In contrast, one who sells a call without owning the underlying is said to sell a naked call. A call being out of the money implies that the price of the underlying must rise before the call would be exercised against the seller; thus, the seller of an out-of-the money covered call still has some potential for profit from the underlying. In addition, of course, the seller receives the premium income from the call. Institutions often follow this strategy also, using the premium income to enhance their return from the underlying. One can hedge a short call without owning a full share of the underlying asset, if one is able to rebalance the hedge over time. Calculating such hedges is another of the principal topics of this book.</p>
<p>In a certain sense, option markets are zero-sum games. The profit earned by one counterparty to an option transaction is a loss suffered by the other. However, options can allow for an increase in the welfare of all investors by improving the allocation of risk. A producer who must purchase a certain input may buy a call option, giving him the right to buy the input at a fixed price. This caps his expense. The seller of the call now bears the risk that the input price will be high—in this case, the option will be exercised and he will be forced to sell at a price below the market price. It may be that the seller is in a better position to bear the risk (for example, he may have less of the risk in his portfolio) and the option transaction may thereby improve the allocation of risks across investors. The similarity to insurance should be apparent.</p>
<p>Quite complex bets or hedges can be created by combining options. For example, a long call and put with the same strike price is called a straddle. Such a portfolio is (almost) always in the money. It is in fact a bet on volatility—a big move in the underlying asset value away from the exercise price will lead to either the call or put having a high value. Another important example of an option portfolio is a collar. A collar consists of a long put and a short call, or a short call and a long put, with the options having the same maturity. As mentioned before, a long put provides insurance to someone who is long the underlying asset. Selling a call provides premium income that can be used to offset the cost of the put (the most popular type of collar is a zero-cost collar: a collar in which the premium of the call is equal to the premium of the put). The cost of selling a call for an owner of the underlying is that it sells off the upside of the underlying asset—if the value of the asset exceeds the strike price of the call, then the call will be exercised and the underlying asset must be delivered for the strike price (rather than the higher market price). Thus, one can purchase the downside insurance provided by a long put by selling part of the upside potential of the asset, rather than paying the cost of the insurance out of pocket. There are many other examples of option portfolios that could be given.</p>
<p>Some puts and calls are traded on exchanges. In this case, the exchange clearinghouse steps between the buyer and seller and becomes the counterparty to both the buyer and seller. This eliminates the risk that the seller might default on his obligation when the buyer chooses to exercise his option. If the owner of an option chooses to exercise, the clearinghouse randomly chooses someone who is short the option to fulfill the obligation. Most exchange traded options are never exercised, because any gain on a long contract can be captured by selling the contract at the market price, thus cancelling the position. Obviously, however, the right to exercise is essential, because it determines the market price. Puts and calls are also transacted over the counter, which means that they are private contracts of the counterparties. Moreover, puts and calls are embedded in many other financial instruments. A prosaic but important example is that most homeowners have the right to pay off their mortgages early. This means they have call options on their mortgages, with exercise price equal to the remaining mortgage principal. Similarly, callable bonds can be redeemed early by the company issuing them, convertible bonds have embedded call options on the company’s stock (which are exercised by converting the bonds) and there are many, many other examples. Puts and calls also exist outside financial markets. For example, a company may begin manufacturing a new product at a small scale; if the product is successful, the scale can be expanded. In this case, the company buys a call option on large-scale production with the premium being the cost of launching small-scale production. Adapting the methods developed for financial options to value such real options is an important and growing field. </p>
<section id="exercise-policies-for-calls-and-puts" class="level3">
<h3 class="anchored" data-anchor-id="exercise-policies-for-calls-and-puts">Exercise Policies for Calls and Puts</h3>
<p>It may be rational to exercise a call if the asset value exceeds the exercise price. Thus, denoting the price of the asset by <span class="math inline">\(S\)</span> and the exercise price by <span class="math inline">\(K\)</span>, the owner of a call option can profit by <span class="math inline">\(S-K\)</span> dollars by exercising the option when <span class="math inline">\(S&gt;K\)</span>. If <span class="math inline">\(S&lt;K\)</span>, exercise would be irrational. Thus, the payoff to the owner of the call option is<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> <span class="math inline">\(\max(0,S-K)\)</span>. It has been said that timing is everything, and the timing here should be made clearer. The simplest type of option is called a European option. A European option has a finite lifetime and can only be exercised at its maturity date. For a European call option, the exercise strategy just described is the optimal one, with <span class="math inline">\(S\)</span> representing the asset price at the maturity date of the option. Equally, if not more, important are American options, which can be exercised at any time before maturity.</p>
<p>For an American call option, the exercise strategy just described is the optimal one at the maturity date, but it may also be optimal to exercise prior to maturity. Let <span class="math inline">\(K\)</span> denote the exercise price, <span class="math inline">\(T\)</span> the date the option matures, and <span class="math inline">\(S_T\)</span> the price of the underlying asset at date <span class="math inline">\(t \leq T\)</span>. The intrinsic value of the call option at date <span class="math inline">\(t\)</span> is defined to be <span class="math inline">\(\max(0,S_T-K)\)</span>. One would of course never exercise unless the intrinsic value is positive—i.e., unless the option is in the money. Moreover, if the asset does not pay a dividend (or other type of cash flow) prior to the option maturity then one should not exercise in any circumstances prior to maturity. This is captured in the saying: calls are better alive than dead. Exercise being suboptimal is equivalent to the value of the option exceeding the intrinsic value.</p>
<p>The principle that calls on non-dividend-paying assets are better alive than dead follows from two facts: (i) it is generally a good thing (in financial markets as well as in life) to keep one’s options open, and (ii) early exercise implies early payment of the exercise price and hence foregone interest. The usual protest that is heard when this statement is made is that one should surely exercise if he expects the stock price to plummet, because by exercising (and then selling the stock acquired) one can lock in the current stock price rather than waiting for it to fall, in which case the option will surely be worth less. This intuition is a reasonable one, but it ignores the fact that the investor could short sell the stock if he expects it to plummet—he doesn’t need to exercise the option to lock in the current stock price. In fact, shorting the stock and retaining the option is always better than exercising, assuming the underlying asset does not pay a dividend.</p>
<p>Specifically, suppose an investor considers exercising at date <span class="math inline">\(t\)</span>. As an alternative to exercising early, consider shorting the stock at date <span class="math inline">\(t\)</span> and retaining the option. This is always better than exercising at date <span class="math inline">\(t\)</span>, because the short position can be covered (the stock can be purchased and returned to the lender to cancel the short position) at cost <span class="math inline">\(K\)</span> at date <span class="math inline">\(T\)</span> by exercising the option, and paying <span class="math inline">\(K\)</span> at date <span class="math inline">\(T\)</span> is better than paying it at date <span class="math inline">\(t\)</span>, given that interest rates must be nonnegative. To be more precise, note that exercise at date <span class="math inline">\(t\)</span> produces <span class="math inline">\(S_T-K\)</span> dollars at date <span class="math inline">\(t\)</span>. On the other hand, retaining the option, shorting the stock at date <span class="math inline">\(t\)</span>, and covering the short either by exercising the option or buying the stock in the market (whichever is cheaper) produces <span class="math inline">\(S_T\)</span> dollars at date <span class="math inline">\(t\)</span> and <span class="math display">\[\max(0,S_T-K) - S_T = \max(-S_T, -K) = -\min(S_T,K) \geq -K\]</span> dollars at date <span class="math inline">\(T\)</span>. If <span class="math inline">\(S_T&gt;K\)</span>, one has <span class="math inline">\(-K\)</span> dollars at date <span class="math inline">\(T\)</span>, in which case retaining the option has been superior due to the time value of money. Furthermore, if <span class="math inline">\(S_T&lt;K\)</span>, the strategy of retaining the option and shorting the stock produces <span class="math inline">\(-S_T &gt; -K\)</span> dollars at date <span class="math inline">\(T\)</span>, so retaining the option is superior due both to flexibility (waiting until <span class="math inline">\(T\)</span> to decide whether to exercise turns out to be better than committing at date <span class="math inline">\(t\)</span>) and because of the time value of money.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<p>Early exercise of a call option can be optimal when the underlying asset pays a dividend. The above analysis does not apply in this case, because paying the dividend to the lender of the stock is an additional cost for the strategy of retaining the option and shorting the stock. If the dividend is so small that it cannot offset the time value of money on the exercise price, then early exercise will not be optimal. In other cases, deriving the optimal exercise strategy is a complicated problem that we will first begin to study in <a href="Chapter6.html"><span>Chapter&nbsp;6</span></a>.</p>
<p>A European put option will be exercised at its maturity <span class="math inline">\(T\)</span> if the price <span class="math inline">\(S_T\)</span> of the underlying asset is below the exercise price <span class="math inline">\(K\)</span>. In general, the value at maturity can be expressed as <span class="math inline">\(\max(0,K-S_T)\)</span>. Early exercise of an American put can be optimal, regardless of whether the underlying pays a dividend. While it is valuable to keep one’s options open (for puts as well as calls) the time value of money works in the opposite direction for puts. Early exercise of a put option implies early receipt of the exercise price, and it is better to receive cash earlier rather than later. In general, whether early exercise is optimal depends on how deeply the option is in the money—if the underlying asset price is sufficiently low, then it will be fairly certain that exercise will be optimal, whether earlier or late; in this case, one should exercise earlier to earn interest on the exercise price. How low it should be to justify early exercise depends on the interest rate (a higher rate makes the time-value-of-money issue more important, leading to earlier exercise) and the volatility of the underlying asset price (a lower volatility reduces the value of keeping one’s options open, leading also to earlier exercise). We will begin to study the valuation of American puts in <a href="Chapter6.html"><span>Chapter&nbsp;6</span></a> also.</p>
</section>
<section id="compounding-interest" class="level3">
<h3 class="anchored" data-anchor-id="compounding-interest">Compounding Interest</h3>
<p>During most of the first two parts of the book (the only exception being <a href="Chapter8.html"><span>Chapter&nbsp;8</span></a>) we will assume there is a risk-free asset earning a constant rate of return. For simplicity, we will specify the rate of return as a continuously compounded rate. For example, if the annual rate with annual compounding is <span class="math inline">\(r_a\)</span>, then the corresponding continuously compounded rate is <span class="math inline">\(r\)</span> defined as <span class="math inline">\(r = \log (1+r_a)\)</span>, where <span class="math inline">\(\log\)</span> denotes the natural logarithm function. This means that the gross return over a year (one plus the rate of return) is <span class="math inline">\(\mathrm{e}^r = 1+r_a\)</span>. More generally, an investment of <span class="math inline">\(x\)</span> dollars for a time period of length <span class="math inline">\(T\)</span> (we measure time in years, so, e.g., a six-month investment would mean <span class="math inline">\(T=0.5\)</span>) will result in the ownership of <span class="math inline">\(x\mathrm{e}^{rT}\)</span> dollars at the end of the time period.</p>
<p>Expressing the interest rate as a continuously compounded rate enables us to avoid having to specify in each instance whether the rate is for annual compounding, semi-annual compounding, monthly compounding, etc. For example, the meaning of an annualized rate <span class="math inline">\(r_s\)</span> for semi-annual compounding is that an investment of <span class="math inline">\(x\)</span> dollars will grow over a year to <span class="math inline">\(x(1+r_s/2)^2\)</span>. The equivalent continuously compounded rate is defined as <span class="math inline">\(r = \log (1+r_s/2)^2\)</span>, and in terms of this rate we can say that the investment will grow in six months to <span class="math inline">\(x\mathrm{e}^{0.5 r}\)</span> and that it will grow in one year to <span class="math inline">\(x\mathrm{e}^r\)</span>. We can interpret this rate as being continuously compounded because compounding <span class="math inline">\(n\)</span> times per year at an annualized rate of <span class="math inline">\(r\)</span> results in $1 growing in a year to <span class="math inline">\((1+r/n)^n\)</span> and <span class="math display">\[\lim_{n \rightarrow \infty} \left(1+\frac{r}{n}\right)^n = \mathrm{e}^r\;\;.\]</span> To develop pricing and hedging formulas for derivative securities, it is a great convenience to assume that investors can trade continuously in time. This requires us to assume also that returns are computed continuously. In the case of a risk-free investment of <span class="math inline">\(x(t)\)</span> dollars at any date <span class="math inline">\(t\)</span> at a continuously compounded rate of <span class="math inline">\(r\)</span>, we will say that the interest earned in an instant <span class="math inline">\(\mathrm{d} t\)</span> is <span class="math inline">\(x(t)r\,\mathrm{d} t\)</span> dollars. This is only meaningful when we accumulate the interest over a non-infinitesimal period of time. So consider investing <span class="math inline">\(x(0)\)</span> dollars at time 0 and reinvesting interest in the risk-free asset over a time period of length <span class="math inline">\(T\)</span>. Let <span class="math inline">\(x(t)\)</span> denote the account balance at date <span class="math inline">\(t\)</span>, for <span class="math inline">\(0\leq t \leq T\)</span>. The change in the account balance in each instant is the interest earned, so we have <span class="math inline">\(\mathrm{d} x(t) = x(t)r\,\mathrm{d} t\)</span>. The real meaning of this equation is that <span class="math inline">\(x(t)\)</span> satisfies the differential equation <span class="math display">\[\frac{\mathrm{d} x(t)}{\mathrm{d} t} = x(t)r\; ,\]</span> and it is well known (and easy to verify) that the solution is <span class="math display">\[x(t) = x(0)\mathrm{e}^{rt}\; ,\]</span> leading to an account balance at the end of the time period of <span class="math inline">\(x(T) = x(0)\mathrm{e}^{rT}\)</span>. Thus, the statement that the interest earned in an instant <span class="math inline">\(\mathrm{d} t\)</span> is <span class="math inline">\(x(t)r\,\mathrm{d} t\)</span> is equivalent to the statement that interest is continuously compounded at the rate <span class="math inline">\(r\)</span>.</p>
<p>In the last part of the book, we will drop the assumption that the risk-free asset earns a constant rate of return. In this case, we will still generally assume that there is a risk-free asset for very short-term investments (i.e., for investments with infinitesimal durations!). We will let <span class="math inline">\(r(t)\)</span> denote the risk-free rate for an instantaneous investment at date <span class="math inline">\(t\)</span>. This means that an investment of <span class="math inline">\(x(t)\)</span> dollars at date <span class="math inline">\(t\)</span> in the risk-free asset earns interest in an instant <span class="math inline">\(\mathrm{d} t\)</span> equal to <span class="math inline">\(x(t)r(t)\,\mathrm{d} t\)</span>. Consider again an investment of <span class="math inline">\(x(0)\)</span> dollars at date 0 in this instantaneously risk-free asset with interest reinvested and let <span class="math inline">\(x(t)\)</span> denote the account balance at date <span class="math inline">\(t\)</span>. Then <span class="math inline">\(x(t)\)</span> must satisfy the differential equation <span class="math display">\[\frac{\mathrm{d} x(t)}{\mathrm{d} t} = x(t)r(t)\;\;.\]</span> The solution of this differential equation is <span class="math display">\[x(t) = x(0)\exp\left(\int_0^t r(s)\,ds\right)\;\;.\]</span> The expression <span class="math inline">\(\int_0^t r(s)\,ds\)</span> can be interpreted as a continuous sum over time of the rates of interest <span class="math inline">\(r(s)\)</span> earned at times <span class="math inline">\(s\)</span> between 0 and <span class="math inline">\(t\)</span>. If these rates are all the same, say equal to <span class="math inline">\(r\)</span>, then <span class="math inline">\(\int_0^t r(s)\,ds = rt\)</span> and our compounding factor <span class="math inline">\(\exp\left(\int_0^t r(s)\,ds\right)\)</span> is <span class="math inline">\(\mathrm{e}^{rt}\)</span> as before.</p>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>We use the standard notation: <span class="math inline">\(\max(a,b)\)</span> denotes the larger of <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> and <span class="math inline">\(\min(a,b)\)</span> denotes the smaller.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Recall that we are assuming investors earn interest on the proceeds of short sales; otherwise, the <span class="math inline">\(S_T\)</span> dollars earned from exercising the option and selling the stock will be worth more than the <span class="math inline">\(S_T\)</span> dollars earned from shorting the stock. In this case, early exercise could be optimal. However, assuming institutional investors can earn interest on the proceeds of shorts, such investors should prefer owning the option and shorting the stock to exercising. This means they should bid up the price of the option to the point where it exceeds the value <span class="math inline">\(S_T-K\)</span> of exercise. If this is the case, then an investor who cannot earn interest on the proceeds of shorts should simply sell the option in the market rather than exercise it. Thus, a sufficient condition for calls to be better alive than dead is that there be some investors who can earn interest on the proceeds of shorts. This type of reasoning is possible for each situation in this book where the assumption of earning interest on margin deposits is important, and we will not deal with it in this much detail again.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Chapter2.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Binomial Model and Changes of Measure</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>