<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Pricing and Hedging Derivative Securities - 1&nbsp; Asset Pricing Basics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Chapter2.html" rel="next">
<link href="./index.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter1.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Asset Pricing Basics</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Pricing and Hedging Derivative Securities</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter1.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Asset Pricing Basics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Continuous-Time Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Black-Scholes</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Estimating and Modelling Volatility</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Introduction to Monte Carlo\ and Binomial Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Foreign Exchange</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Forward, Futures, and Exchange Options</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Exotic Options</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">More on Monte Carlo and Binomial Valuation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Finite Difference Methods</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter11.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Fixed Income Concepts</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter12.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Introduction to Fixed Income Derivatives</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter13.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Valuing Derivatives in the Extended Vasicek Model</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter14.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">A Brief Survey of Term Structure Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./AppendixB.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Miscellaneous Facts about Continuous-Time Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-s_fundamentalconcepts" id="toc-sec-s_fundamentalconcepts" class="nav-link active" data-scroll-target="#sec-s_fundamentalconcepts"><span class="header-section-number">1.1</span> Fundamental Concepts</a>
  <ul class="collapse">
  <li><a href="#longs-shorts-and-margin" id="toc-longs-shorts-and-margin" class="nav-link" data-scroll-target="#longs-shorts-and-margin">Longs, Shorts, and Margin</a></li>
  <li><a href="#calls-and-puts" id="toc-calls-and-puts" class="nav-link" data-scroll-target="#calls-and-puts">Calls and Puts</a></li>
  <li><a href="#exercise-policies-for-calls-and-puts" id="toc-exercise-policies-for-calls-and-puts" class="nav-link" data-scroll-target="#exercise-policies-for-calls-and-puts">Exercise Policies for Calls and Puts</a></li>
  <li><a href="#compounding-interest" id="toc-compounding-interest" class="nav-link" data-scroll-target="#compounding-interest">Compounding Interest</a></li>
  </ul></li>
  <li><a href="#sec-s_oneperiodbinomial" id="toc-sec-s_oneperiodbinomial" class="nav-link" data-scroll-target="#sec-s_oneperiodbinomial"><span class="header-section-number">1.2</span> State Prices in a One-Period Binomial Model</a></li>
  <li><a href="#probabilities-and-numeraires" id="toc-probabilities-and-numeraires" class="nav-link" data-scroll-target="#probabilities-and-numeraires"><span class="header-section-number">1.3</span> Probabilities and Numeraires</a></li>
  <li><a href="#asset-pricing-with-a-continuum-of-states" id="toc-asset-pricing-with-a-continuum-of-states" class="nav-link" data-scroll-target="#asset-pricing-with-a-continuum-of-states"><span class="header-section-number">1.4</span> Asset Pricing with a Continuum of States</a></li>
  <li><a href="#sec-s_introoptions" id="toc-sec-s_introoptions" class="nav-link" data-scroll-target="#sec-s_introoptions"><span class="header-section-number">1.5</span> Introduction to Option Pricing</a>
  <ul class="collapse">
  <li><a href="#pricing-share-digitals" id="toc-pricing-share-digitals" class="nav-link" data-scroll-target="#pricing-share-digitals">Pricing Share Digitals</a></li>
  <li><a href="#pricing-digitals" id="toc-pricing-digitals" class="nav-link" data-scroll-target="#pricing-digitals">Pricing Digitals</a></li>
  <li><a href="#a-remark" id="toc-a-remark" class="nav-link" data-scroll-target="#a-remark">A Remark</a></li>
  </ul></li>
  <li><a href="#sec-s_incomplete" id="toc-sec-s_incomplete" class="nav-link" data-scroll-target="#sec-s_incomplete"><span class="header-section-number">1.6</span> An Incomplete Markets Example</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="header-section-number">1.7</span> Exercises</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-c_basics" class="quarto-section-identifier"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Asset Pricing Basics</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>This chapter introduces the change of numeraire (or martingale) method for valuing derivative securities. The method is introduced in a binomial model and then extended to more general (continuum of states) models. Computations in the more general model require the continuous-time mathematics that will be presented in <a href="Chapter2.html"><span>Chapter&nbsp;2</span></a>. We will begin with a brief description of the basic derivatives (calls and puts) and some other financial concepts. More detailed descriptions can be found in any of the many introductory books on derivative securities (e.g., <span class="citation" data-cites="Hull">(<a href="#ref-Hull" role="doc-biblioref">Hull 2002</a>)</span> or <span class="citation" data-cites="McDonald">(<a href="#ref-McDonald" role="doc-biblioref">McDonald 2003</a>)</span>).</p>
<p>It should be noted that the pricing and hedging results in this book are not tied to any particular currency. However, for specificity (and as a consequence of the author’s habit) the discussion will generally be in terms of dollars. Multiple currencies are addressed in <a href="Chapter6.html"><span>Chapter&nbsp;6</span></a>.</p>
<section id="sec-s_fundamentalconcepts" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="sec-s_fundamentalconcepts"><span class="header-section-number">1.1</span> Fundamental Concepts</h2>
<section id="longs-shorts-and-margin" class="level3">
<h3 class="anchored" data-anchor-id="longs-shorts-and-margin">Longs, Shorts, and Margin</h3>
<p>In financial markets, the owner of an asset is said to be long the asset. If person A owes something to person B, the debt is an asset to person B but a liability to person A. One also says that person A is short the asset. For example, if someone borrows money and invests the money in stocks, then the individual is short cash and long stocks.</p>
<p>One must invest some of one’s own money when borrowing money to buy stocks. For example, an individual could invest $600, borrow $400, and buy $1000 of stock. The $600 is called the margin posted by the investor, and buying stocks in this way is called buying on margin. The investor, or the portfolio, is also said to be levered, because buying $1000 of stock with only a $600 investment amplifies the risk and return per dollar of investment. On a percentage basis, we would say the account has 60% margin, the 60% being the ratio of the equity (assets minus liabilities = $1000 of stock minus $400 debt) to the assets ($1000 of stock). If the value of the stock drops sufficiently far, then it may become doubtful whether the investor can repay the $400. In this case, the investor must either sell the stock or invest more of his own funds (i.e., he receives a margin call). In other words, in actual markets there are margin requirements, that specify a minimum percent margin an investor must have initially (when borrowing money) and a minimum percent margin the investor must maintain.</p>
<p>Rather than borrowing money to buy stocks, an investor can do the opposite—he can borrow stocks to buy money. In this case, buying money means selling the borrowed stocks for cash. Such an investor will be short stocks and long cash. This is called short selling (or, more briefly, shorting) stocks. For example, suppose individual A borrows 100 shares of stock from individual B and then sells them to individual C. Both B and C are long the 100 shares and A is short, so the net long position is <span class="math inline">\(2 \times 100 - 100\)</span>, which is the original 100 shares that B was long. A short seller of stocks must pay to the lender of the stocks any dividends that are paid on the stock. In our example, both B and C own the 100 shares so both expect to receive dividends. The company will pay dividends only to C, and A must pay the dividends to~B.</p>
<p>Of course, investors always wish to buy low and sell high. The usual method is to buy stocks and hope they rise. An investor who short sells also wishes to buy low and sell high, but he reverses the order—he sells first and then hopes the stocks fall. The risk is that the stocks will instead rise, which will increase the value of his liability (short stock position) without increasing the value of his assets (long cash position), thus putting him under water. To shield the lender of the stocks from this risk, a short seller must also invest some of his own funds, and this amount is again called the investor’s margin. For example, an investor might invest $600, and borrow and sell $1000 of stock. In this case, the investor will be long $1600 cash and short $1000 worth of stock. His equity is $600 and his percent margin is calculated as $600/$1000 = 60%. Again, there are typically both initial and maintenance margin requirements. An additional feature of short selling for small individual investors is that they typically will not earn interest on the proceeds of the short sale (the $1000 cash obtained from selling stocks in the above example).</p>
<p>In this book, we will assume there is a single risk-free rate at which one can both borrow and lend. Moreover, we will assume that investors earn this rate on margin deposits, including the proceeds of short sales (and including any margin that may be required when buying and selling forward and futures contracts). Thus, investors gain from buying on margin if the asset return is sure to exceed the risk-free rate, and they gain from short selling if the return on an asset is sure to be below the risk-free rate. These assumptions are not reasonable for small individual investors, but they are fairly reasonable for institutional investors. We will assume that no asset has a return that is certain to be above the risk-free rate nor certain to be below the risk-free rate, because institutional investors could arbitrage such guaranteed high-return or guaranteed low-return assets.</p>
</section>
<section id="calls-and-puts" class="level3">
<h3 class="anchored" data-anchor-id="calls-and-puts">Calls and Puts</h3>
<p>Call and put options are the basic derivative securities and the building blocks of many others. A derivative security is a security the value of which depends upon another security. A call option is the right to buy an asset at a pre-specified price. The pre-specified price is called the exercise price, the strike price, or simply the strike. We will often call the asset a stock, but there are options on many other types of assets also, and everything we say will be applicable to those as well.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> The asset to which the call option pertains is called the underlying asset, or, more briefly, the underlying. If the market value of the asset exceeds the exercise price, then we say the call option is in the money. Buying a call option is a way to bet on the upside of the underlying asset.</p>
<p>A put option is the right to sell an asset at a pre-specified (exercise, strike) price. Buying a put is a way to bet on an asset price becoming low (similar to shorting). A put option is in the money if the exercise price exceeds the value of the asset. Both puts and calls are potentially valuable and hence the buyer of a put or call must pay the seller.</p>
<p>A long put option provides insurance to someone who is long the underlying asset, because it guarantees that the asset can always be sold at the strike price of the put (of course, it can be sold at the market price, if that is higher than the strike of the put). Symmetrically, a long call option provides insurance to someone who is short the underlying asset. The terminology in option markets reflects the parallels between options and insurance contracts. In particular, the seller of an option is said to write the option and the compensation (price) he receives from the buyer is called the option premium, just as an insurance company writes insurance contracts in exchange for premium income. Calculating the price at which one should be willing to trade an option is the main topic of this book.</p>
<p>It is important to recognize the different situations of someone who is short a call option and someone who is long a put. Both positions are bets on the downside of the asset. Both the investor who is short a call and the investor who is long a put may eventually sell the underlying asset and receive the exercise price in exchange. However, the investor who is long a put has an option to sell the asset at the exercise price and the investor who is short a call has an to sell the asset at the exercise price, should the counterparty choose to exercise the call. Thus, the investor who is long a put will be selling at the exercise price when it is profitable to do so, whereas the investor who is short a call will be selling at the exercise price when it is unprofitable. The buyer of a put must pay the premium to the seller; he then profits if the asset price is low, with his maximum possible profit being quite large (the maximum value is attained when the market value of the underlying asset reaches zero). In contrast, the seller of a call receives premium income, and the premium is his maximum possible profit, whereas his potential losses are unbounded. Thus, these are very different positions.</p>
<p>Individuals who sell calls usually sell out-of-the-money covered calls. Covered means that they own the underlying asset and can therefore deliver the underlying if the call is exercised without incurring any further expense—they experience only an opportunity cost in delivering it for less than the market price.^[In contrast, one who sells a call without owning the underlying is said to sell a naked call. A call being out of the money implies that the price of the underlying must rise before the call would be exercised against the seller; thus, the seller of an out-of-the money covered call still has some potential for profit from the underlying. In addition, of course, the seller receives the premium income from the call. Institutions often follow this strategy also, using the premium income to enhance their return from the underlying. One can hedge a short call without owning a full share of the underlying asset, if one is able to rebalance the hedge over time. Calculating such hedges is another of the principal topics of this book.</p>
<p>In a certain sense, option markets are zero-sum games. The profit earned by one counterparty to an option transaction is a loss suffered by the other. However, options can allow for an increase in the welfare of all investors by improving the allocation of risk. A producer who must purchase a certain input may buy a call option, giving him the right to buy the input at a fixed price. This caps his expense. The seller of the call now bears the risk that the input price will be high—in this case, the option will be exercised and he will be forced to sell at a price below the market price. It may be that the seller is in a better position to bear the risk (for example, he may have less of the risk in his portfolio) and the option transaction may thereby improve the allocation of risks across investors. The similarity to insurance should be apparent.</p>
<p>Quite complex bets or hedges can be created by combining options. For example, a long call and put with the same strike price is called a straddle. Such a portfolio is (almost) always in the money. It is in fact a bet on volatility—a big move in the underlying asset value away from the exercise price will lead to either the call or put having a high value. Another important example of an option portfolio is a collar. A collar consists of a long put and a short call, or a short call and a long put, with the options having the same maturity. As mentioned before, a long put provides insurance to someone who is long the underlying asset. Selling a call provides premium income that can be used to offset the cost of the put (the most popular type of collar is a zero-cost collar: a collar in which the premium of the call is equal to the premium of the put). The cost of selling a call for an owner of the underlying is that it sells off the upside of the underlying asset—if the value of the asset exceeds the strike price of the call, then the call will be exercised and the underlying asset must be delivered for the strike price (rather than the higher market price). Thus, one can purchase the downside insurance provided by a long put by selling part of the upside potential of the asset, rather than paying the cost of the insurance out of pocket. There are many other examples of option portfolios that could be given.</p>
<p>Some puts and calls are traded on exchanges. In this case, the exchange clearinghouse steps between the buyer and seller and becomes the counterparty to both the buyer and seller. This eliminates the risk that the seller might default on his obligation when the buyer chooses to exercise his option. If the owner of an option chooses to exercise, the clearinghouse randomly chooses someone who is short the option to fulfill the obligation. Most exchange traded options are never exercised, because any gain on a long contract can be captured by selling the contract at the market price, thus cancelling the position. Obviously, however, the right to exercise is essential, because it determines the market price. Puts and calls are also transacted over the counter, which means that they are private contracts of the counterparties. Moreover, puts and calls are embedded in many other financial instruments. A prosaic but important example is that most homeowners have the right to pay off their mortgages early. This means they have call options on their mortgages, with exercise price equal to the remaining mortgage principal. Similarly, callable bonds can be redeemed early by the company issuing them, convertible bonds have embedded call options on the company’s stock (which are exercised by converting the bonds) and there are many, many other examples. Puts and calls also exist outside financial markets. For example, a company may begin manufacturing a new product at a small scale; if the product is successful, the scale can be expanded. In this case, the company buys a call option on large-scale production with the premium being the cost of launching small-scale production. Adapting the methods developed for financial options to value such real options is an important and growing field. </p>
</section>
<section id="exercise-policies-for-calls-and-puts" class="level3">
<h3 class="anchored" data-anchor-id="exercise-policies-for-calls-and-puts">Exercise Policies for Calls and Puts</h3>
<p>It may be rational to exercise a call if the asset value exceeds the exercise price. Thus, denoting the price of the asset by <span class="math inline">\(S\)</span> and the exercise price by <span class="math inline">\(K\)</span>, the owner of a call option can profit by <span class="math inline">\(S-K\)</span> dollars by exercising the option when <span class="math inline">\(S&gt;K\)</span>. If <span class="math inline">\(S&lt;K\)</span>, exercise would be irrational. Thus, the payoff to the owner of the call option is<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> <span class="math inline">\(\max(0,S-K)\)</span>. It has been said that timing is everything, and the timing here should be made clearer. The simplest type of option is called a European option. A European option has a finite lifetime and can only be exercised at its maturity date. For a European call option, the exercise strategy just described is the optimal one, with <span class="math inline">\(S\)</span> representing the asset price at the maturity date of the option. Equally, if not more, important are American options, which can be exercised at any time before maturity.</p>
<p>For an American call option, the exercise strategy just described is the optimal one at the maturity date, but it may also be optimal to exercise prior to maturity. Let <span class="math inline">\(K\)</span> denote the exercise price, <span class="math inline">\(T\)</span> the date the option matures, and <span class="math inline">\(S(t)\)</span> the price of the underlying asset at date <span class="math inline">\(t \leq T\)</span>. The intrinsic value of the call option at date <span class="math inline">\(t\)</span> is defined to be <span class="math inline">\(\max(0,S(t)-K)\)</span>. One would of course never exercise unless the intrinsic value is positive—i.e., unless the option is in the money. Moreover, if the asset does not pay a dividend (or other type of cash flow) prior to the option maturity then one should not exercise in any circumstances prior to maturity. This is captured in the saying: calls are better alive than dead. Exercise being suboptimal is equivalent to the value of the option exceeding the intrinsic value.</p>
<p>The principle that calls on non-dividend-paying assets are better alive than dead follows from two facts: (i) it is generally a good thing (in financial markets as well as in life) to keep one’s options open, and (ii) early exercise implies early payment of the exercise price and hence foregone interest. The usual protest that is heard when this statement is made is that one should surely exercise if he expects the stock price to plummet, because by exercising (and then selling the stock acquired) one can lock in the current stock price rather than waiting for it to fall, in which case the option will surely be worth less. This intuition is a reasonable one, but it ignores the fact that the investor could short sell the stock if he expects it to plummet—he doesn’t need to exercise the option to lock in the current stock price. In fact, shorting the stock and retaining the option is always better than exercising, assuming the underlying asset does not pay a dividend.</p>
<p>Specifically, suppose an investor considers exercising at date <span class="math inline">\(t\)</span>. As an alternative to exercising early, consider shorting the stock at date~<span class="math inline">\(t\)</span> and retaining the option. This is always better than exercising at date~<span class="math inline">\(t\)</span>, because the short position can be covered (the stock can be purchased and returned to the lender to cancel the short position) at cost <span class="math inline">\(K\)</span> at date~<span class="math inline">\(T\)</span> by exercising the option, and paying <span class="math inline">\(K\)</span> at date <span class="math inline">\(T\)</span> is better than paying it at date <span class="math inline">\(t\)</span>, given that interest rates must be nonnegative. To be more precise, note that exercise at date <span class="math inline">\(t\)</span> produces <span class="math inline">\(S(t)-K\)</span> dollars at date <span class="math inline">\(t\)</span>. On the other hand, retaining the option, shorting the stock at date <span class="math inline">\(t\)</span>, and covering the short either by exercising the option or buying the stock in the market (whichever is cheaper) produces <span class="math inline">\(S(t)\)</span> dollars at date <span class="math inline">\(t\)</span> and <span class="math display">\[\max(0,S(T)-K) - S(T) = \max(-S(T), -K) = -\min(S(T),K) \geq -K\]</span> dollars at date <span class="math inline">\(T\)</span>. If <span class="math inline">\(S(T)&gt;K\)</span>, one has <span class="math inline">\(-K\)</span> dollars at date <span class="math inline">\(T\)</span>, in which case retaining the option has been superior due to the time value of money. Furthermore, if <span class="math inline">\(S(T)&lt;K\)</span>, the strategy of retaining the option and shorting the stock produces <span class="math inline">\(-S(T) &gt; -K\)</span> dollars at date <span class="math inline">\(T\)</span>, so retaining the option is superior due both to flexibility (waiting until <span class="math inline">\(T\)</span> to decide whether to exercise turns out to be better than committing at date <span class="math inline">\(t\)</span>) and because of the time value of money.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<p>Early exercise of a call option can be optimal when the underlying asset pays a dividend. The above analysis does not apply in this case, because paying the dividend to the lender of the stock is an additional cost for the strategy of retaining the option and shorting the stock. If the dividend is so small that it cannot offset the time value of money on the exercise price, then early exercise will not be optimal. In other cases, deriving the optimal exercise strategy is a complicated problem that we will first begin to study in <a href="Chapter5.html"><span>Chapter&nbsp;5</span></a>.</p>
<p>A European put option will be exercised at its maturity <span class="math inline">\(T\)</span> if the price <span class="math inline">\(S(T)\)</span> of the underlying asset is below the exercise price <span class="math inline">\(K\)</span>. In general, the value at maturity can be expressed as <span class="math inline">\(\max(0,K-S(T))\)</span>. Early exercise of an American put can be optimal, regardless of whether the underlying pays a dividend. While it is valuable to keep one’s options open (for puts as well as calls) the time value of money works in the opposite direction for puts. Early exercise of a put option implies early receipt of the exercise price, and it is better to receive cash earlier rather than later. In general, whether early exercise is optimal depends on how deeply the option is in the money—if the underlying asset price is sufficiently low, then it will be fairly certain that exercise will be optimal, whether earlier or late; in this case, one should exercise earlier to earn interest on the exercise price. How low it should be to justify early exercise depends on the interest rate (a higher rate makes the time-value-of-money issue more important, leading to earlier exercise) and the volatility of the underlying asset price (a lower volatility reduces the value of keeping one’s options open, leading also to earlier exercise). We will begin to study the valuation of American puts in <a href="Chapter5.html"><span>Chapter&nbsp;5</span></a> also.</p>
</section>
<section id="compounding-interest" class="level3">
<h3 class="anchored" data-anchor-id="compounding-interest">Compounding Interest</h3>
<p>During most of the first two parts of the book (the only exception being <a href="Chapter7.html"><span>Chapter&nbsp;7</span></a>) we will assume there is a risk-free asset earning a constant rate of return. For simplicity, we will specify the rate of return as a continuously compounded rate. For example, if the annual rate with annual compounding is~<span class="math inline">\(r_a\)</span>, then the corresponding continuously compounded rate is <span class="math inline">\(r\)</span> defined as <span class="math inline">\(r = \log (1+r_a)\)</span>, where <span class="math inline">\(\log\)</span> denotes the natural logarithm function. This means that the gross return over a year (one plus the rate of return) is <span class="math inline">\(\mathrm{e}^r = 1+r_a\)</span>. More generally, an investment of <span class="math inline">\(x\)</span> dollars for a time period of length~<span class="math inline">\(T\)</span> (we measure time in years, so, e.g., a six-month investment would mean <span class="math inline">\(T=0.5\)</span>) will result in the ownership of <span class="math inline">\(x\mathrm{e}^{rT}\)</span> dollars at the end of the time period.</p>
<p>Expressing the interest rate as a continuously compounded rate enables us to avoid having to specify in each instance whether the rate is for annual compounding, semi-annual compounding, monthly compounding, etc. For example, the meaning of an annualized rate <span class="math inline">\(r_s\)</span> for semi-annual compounding is that an investment of <span class="math inline">\(x\)</span> dollars will grow over a year to <span class="math inline">\(x(1+r_s/2)^2\)</span>. The equivalent continuously compounded rate is defined as <span class="math inline">\(r = \log (1+r_s/2)^2\)</span>, and in terms of this rate we can say that the investment will grow in six months to <span class="math inline">\(x\mathrm{e}^{0.5 r}\)</span> and that it will grow in one year to <span class="math inline">\(x\mathrm{e}^r\)</span>. We can interpret this rate as being continuously compounded because compounding <span class="math inline">\(n\)</span> times per year at an annualized rate of <span class="math inline">\(r\)</span> results in $1 growing in a year to <span class="math inline">\((1+r/n)^n\)</span> and <span class="math display">\[\lim_{n \rightarrow \infty} \left(1+\frac{r}{n}\right)^n = \mathrm{e}^r\;\;.\]</span> To develop pricing and hedging formulas for derivative securities, it is a great convenience to assume that investors can trade continuously in time. This requires us to assume also that returns are computed continuously. In the case of a risk-free investment of <span class="math inline">\(x(t)\)</span> dollars at any date <span class="math inline">\(t\)</span> at a continuously compounded rate of <span class="math inline">\(r\)</span>, we will say that the interest earned in an instant <span class="math inline">\(\mathrm{d} t\)</span> is <span class="math inline">\(x(t)r\,\mathrm{d} t\)</span> dollars. This is only meaningful when we accumulate the interest over a non-infinitesimal period of time. So consider investing <span class="math inline">\(x(0)\)</span> dollars at time 0 and reinvesting interest in the risk-free asset over a time period of length <span class="math inline">\(T\)</span>. Let <span class="math inline">\(x(t)\)</span> denote the account balance at date <span class="math inline">\(t\)</span>, for <span class="math inline">\(0\leq t \leq T\)</span>. The change in the account balance in each instant is the interest earned, so we have <span class="math inline">\(\mathrm{d} x(t) = x(t)r\,\mathrm{d} t\)</span>. The real meaning of this equation is that <span class="math inline">\(x(t)\)</span> satisfies the differential equation <span class="math display">\[\frac{\mathrm{d} x(t)}{\mathrm{d} t} = x(t)r\; ,\]</span> and it is well known (and easy to verify) that the solution is <span class="math display">\[x(t) = x(0)\mathrm{e}^{rt}\; ,\]</span> leading to an account balance at the end of the time period of <span class="math inline">\(x(T) = x(0)\mathrm{e}^{rT}\)</span>. Thus, the statement that the interest earned in an instant <span class="math inline">\(\mathrm{d} t\)</span> is <span class="math inline">\(x(t)r\,\mathrm{d} t\)</span> is equivalent to the statement that interest is continuously compounded at the rate <span class="math inline">\(r\)</span>.</p>
<p>In the last part of the book, we will drop the assumption that the risk-free asset earns a constant rate of return. In this case, we will still generally assume that there is a risk-free asset for very short-term investments (i.e., for investments with infinitesimal durations!). We will let <span class="math inline">\(r(t)\)</span> denote the risk-free rate for an instantaneous investment at date <span class="math inline">\(t\)</span>. This means that an investment of <span class="math inline">\(x(t)\)</span> dollars at date <span class="math inline">\(t\)</span> in the risk-free asset earns interest in an instant <span class="math inline">\(\mathrm{d} t\)</span> equal to <span class="math inline">\(x(t)r(t)\,\mathrm{d} t\)</span>. Consider again an investment of <span class="math inline">\(x(0)\)</span> dollars at date 0 in this instantaneously risk-free asset with interest reinvested and let <span class="math inline">\(x(t)\)</span> denote the account balance at date <span class="math inline">\(t\)</span>. Then <span class="math inline">\(x(t)\)</span> must satisfy the differential equation <span class="math display">\[\frac{\mathrm{d} x(t)}{\mathrm{d} t} = x(t)r(t)\;\;.\]</span> The solution of this differential equation is <span class="math display">\[x(t) = x(0)\exp\left(\int_0^t r(s)\,ds\right)\;\;.\]</span> The expression <span class="math inline">\(\int_0^t r(s)\,ds\)</span> can be interpreted as a continuous sum over time of the rates of interest <span class="math inline">\(r(s)\)</span> earned at times <span class="math inline">\(s\)</span> between 0 and <span class="math inline">\(t\)</span>. If these rates are all the same, say equal to <span class="math inline">\(r\)</span>, then <span class="math inline">\(\int_0^t r(s)\,ds = rt\)</span> and our compounding factor <span class="math inline">\(\exp\left(\int_0^t r(s)\,ds\right)\)</span> is <span class="math inline">\(\mathrm{e}^{rt}\)</span> as before.</p>
</section>
</section>
<section id="sec-s_oneperiodbinomial" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="sec-s_oneperiodbinomial"><span class="header-section-number">1.2</span> State Prices in a One-Period Binomial Model</h2>
<p>To introduce the concepts that will be discussed in the remainder of the chapter, we will consider in this and the following section the following very simple framework. There is a stock with price <span class="math inline">\(S\)</span> today (which we will call date~0). At the end of some period of time of length <span class="math inline">\(T\)</span>, the stock price will take one of two values: either <span class="math inline">\(S_u\)</span> or <span class="math inline">\(S_d\)</span>, where <span class="math inline">\(S_u &gt; S_d\)</span>. If the stock price equals <span class="math inline">\(S_u\)</span> we say we are in the up state of the world, and if it equals~<span class="math inline">\(S_d\)</span> we say we are in the down state. The stock does not pay a dividend. There is also a risk-free asset earning a continuously compounded rate of interest~<span class="math inline">\(r\)</span>. Finally we want to consider a European call option on the stock with maturity <span class="math inline">\(T\)</span> and strike <span class="math inline">\(K\)</span>. The value of the call option at the end of the period is <span class="math inline">\(C_u=\max(0,S_u-K)\)</span> in the up state and <span class="math inline">\(C_d=\max(0,S_d-K)\)</span> in the down state.</p>
<p>We will assume <span id="eq-binomialnoarbitrage"><span class="math display">\[
\frac{S_u}{S} &gt; \mathrm{e}^{rT} &gt; \frac{S_d}{S}\;.
\tag{1.1}\]</span></span></p>
<p>This condition means that the rate of return on the stock in the up state is greater than the risk-free rate, and the rate of return on the stock in the down state is less than the risk-free rate. If it were not true, there would be an arbitrage opportunity: if the rate of return on the stock were greater than the risk-free rate in both states, then one should buy an infinite amount of the stock on margin, and conversely if the rate of return on the stock were less than the risk-free rate in both states, then one should short an infinite amount of stock and put the proceeds in the risk-free asset. So what we are assuming is that there are no arbitrage opportunities in the market for the stock and risk-free asset.</p>
<p>The delta of the call option is <span class="math inline">\(\delta = (C_u-C_d)/(S_u-S_d)\)</span>. Multiplying by <span class="math inline">\(S_u-S_d\)</span> gives us <span class="math inline">\(\delta(S_u-S_d) = C_u-C_d\)</span> and rearranging yields <span class="math inline">\(\delta S_u - C_u = \delta S_d-C_d\)</span>, which is critical to what follows. Consider purchasing <span class="math inline">\(\delta\)</span> shares of the stock at date 0 and borrowing <span class="math display">\[\mathrm{e}^{-rT}(\delta S_u-C_u) = \mathrm{e}^{-rT}(\delta S_d-C_d)\]</span> dollars at date 0. Then you will owe <span class="math display">\[\delta S_u-C_u = \delta S_d-C_d\]</span> dollars at date <span class="math inline">\(T\)</span>, and hence the value of the portfolio at date <span class="math inline">\(T\)</span> in the up state will be <span class="math display">\[\text{Value of delta shares} - \text{Dollars owed} = \delta S_u - (\delta S_u-C_u) = C_u\; ,\]</span> and the value of the portfolio at date <span class="math inline">\(T\)</span> in the down state will be <span class="math display">\[\text{Value of delta shares} - \text{Dollars owed} = \delta S_d - (\delta S_d-C_d) = C_d\;\;.\]</span> Thus, this portfolio of buying delta shares and borrowing money (i.e., buying delta shares on margin) replicates the call option. Consequently, the value~<span class="math inline">\(C\)</span> of the option at date 0 must be the date–0 cost of the portfolio; i.e., <span id="eq-C0"><span class="math display">\[
C = \text{Cost of delta shares} - \text{Dollars borrowed} = \delta S - \mathrm{e}^{-rT}(\delta S_u-C_u)\;.
\tag{1.2}\]</span></span></p>
<p>Because the call option is equivalent to buying the stock on margin, it can be considered a levered investment in the stock. </p>
<p>We will now rewrite the option pricing formula <a href="#eq-C0">Equation&nbsp;<span>1.2</span></a> in terms of state prices. By substituting for <span class="math inline">\(\delta\)</span> in <a href="#eq-C0">Equation&nbsp;<span>1.2</span></a>, we can rearrange it as</p>
<p><span id="eq-binomialC1"><span class="math display">\[
C = \frac{S-\mathrm{e}^{-rT}S_d}{S_u-S_d} \times C_u + \frac{\mathrm{e}^{-rT}S_u-S}{S_u-S_d}\times C_d\; .
\tag{1.3}\]</span></span></p>
<p>A little algebra also shows that <span id="eq-binomialS1"><span class="math display">\[
S = \frac{S-\mathrm{e}^{-rT}S_d}{S_u-S_d} \times
S_u + \frac{\mathrm{e}^{-rT}S_u-S}{S_u-S_d}\times S_d\; ,
\tag{1.4}\]</span></span></p>
<p>and <span id="eq-binomialR1"><span class="math display">\[
1 = \frac{S-\mathrm{e}^{-rT}S_d}{S_u-S_d} \times \mathrm{e}^{rT}+ \frac{\mathrm{e}^{-rT}S_u-S}{S_u-S_d}\times \mathrm{e}^{rT}\;.
\tag{1.5}\]</span></span></p>
<p>It is convenient to denote the factors appearing in these equations as <span id="eq-binomialstateprices"><span class="math display">\[
\pi_u = \frac{S-\mathrm{e}^{-rT}S_d}{S_u-S_d} \quad \text{and} \quad \pi_d = \frac{\mathrm{e}^{-rT}S_u-S}{S_u-S_d}\;.
\tag{1.6}\]</span></span></p>
<p>The numbers <span class="math inline">\(\pi_u\)</span> and <span class="math inline">\(\pi_d\)</span> are called the state prices, for reasons that will be explained below.</p>
<p>With these definitions, we can write <a href="#eq-binomialC1">Equation&nbsp;<span>1.3</span></a>–<a href="#eq-binomialR1">Equation&nbsp;<span>1.5</span></a> as</p>
<p><span id="eq-binomialC2"><span class="math display">\[
C = \pi_uC_u + \pi_dC_d\;,
\tag{1.7}\]</span></span></p>
<p><span id="eq-binomialS2"><span class="math display">\[
S = \pi_uS_u+\pi_dS_d\;,
\tag{1.8}\]</span></span></p>
<p><span id="eq-binomialR2"><span class="math display">\[
1 = \pi_u\mathrm{e}^{rT} + \pi_d \mathrm{e}^{rT}\;.
\tag{1.9}\]</span></span></p>
<p>These equations have the following interpretation: the value of a security today is its value in the up state times <span class="math inline">\(\pi_u\)</span> plus its value in the down state times <span class="math inline">\(\pi_d\)</span>. This applies to <a href="#eq-binomialR2">Equation&nbsp;<span>1.9</span></a> by considering an investment of $1 today in the risk-free asset—it has value 1 today and will have value <span class="math inline">\(\mathrm{e}^{rT}\)</span> in both the up and down states at date <span class="math inline">\(T\)</span>. Moreover, this same equation will hold for any other derivative asset. For example, if we considered a put option, then a delta–hedging argument analogous to that we just gave for the call option will lead to a formula for the value <span class="math inline">\(P\)</span> of the put today which can be expressed as <span class="math inline">\(P = \pi_uP_u+\pi_dP_d\)</span> for the same <span class="math inline">\(\pi_u\)</span> and <span class="math inline">\(\pi_d\)</span> defined in <a href="#eq-binomialstateprices">Equation&nbsp;<span>1.6</span></a>.</p>
<p>In this model, we can think of any security as a portfolio of what are called Arrow securities (in recognition of the seminal work of Kenneth Arrow <span class="citation" data-cites="Arrow">(<a href="#ref-Arrow" role="doc-biblioref">Arrow 1964</a>)</span>). One of the Arrow securities pays $1 at date <span class="math inline">\(T\)</span> if the up state occurs and the other pays $1 at date <span class="math inline">\(T\)</span> if the down state occurs. For example, the stock is equivalent to a portfolio consisting of <span class="math inline">\(S_u\)</span> units of the first Arrow security and~<span class="math inline">\(S_d\)</span> units of the second, because the stock is worth <span class="math inline">\(S_u\)</span> dollars in the up state and <span class="math inline">\(S_d\)</span> dollars in the down state. Equations <a href="#eq-binomialC2">Equation&nbsp;<span>1.7</span></a>–<a href="#eq-binomialR2">Equation&nbsp;<span>1.9</span></a> show that~ <span class="math inline">\(\pi_u\)</span> is the price of the first Arrow security and <span class="math inline">\(\pi_d\)</span> is the price of the second. For example, the right-hand side of <a href="#eq-binomialS2">Equation&nbsp;<span>1.8</span></a> is the value of the stock at date 0 viewed as a portfolio of Arrow securities when the Arrow securities have prices <span class="math inline">\(\pi_u\)</span> and~<span class="math inline">\(\pi_d\)</span>. Because the stock clearly is such a portfolio, its price today must equal its value as that portfolio, which is what <a href="#eq-binomialS2">Equation&nbsp;<span>1.8</span></a> asserts.</p>
<p>As mentioned before, the prices <span class="math inline">\(\pi_u\)</span> and <span class="math inline">\(\pi_d\)</span> of the Arrow securities are called the state prices, because they are the prices of receiving $1 in the two states of the world. The state prices should be positive, because the payoff of each Arrow security is nonnegative in both states and positive in one. A little algebra shows that the conditions <span class="math inline">\(\pi_u&gt;0\)</span> and <span class="math inline">\(\pi_d&gt;0\)</span> are exactly equivalent to our no-arbitrage assumption <a href="#eq-binomialnoarbitrage">Equation&nbsp;<span>1.1</span></a>. Thus, we conclude that <strong>in the absence of arbitrage opportunities, there exist positive state prices such that the price of any security is the sum across the states of the world of its payoff multiplied by the state price.</strong></p>
<p>This conclusion generalizes to other models, including models in which the stock price takes a continuum of possible values. We will discuss more general models later in this chapter. It is a powerful result that tremendously simplifies derivative security pricing.</p>
</section>
<section id="probabilities-and-numeraires" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="probabilities-and-numeraires"><span class="header-section-number">1.3</span> Probabilities and Numeraires</h2>
<p>In this section, we will continue our analysis of the binomial example. To apply the statement about state prices appearing in boldface type above in the most convenient way, we will manipulate the state prices so we can interpret the sums on the right-hand sides of <a href="#eq-binomialC2">Equation&nbsp;<span>1.7</span></a>–<a href="#eq-binomialR2">Equation&nbsp;<span>1.9</span></a> in terms of expectations. The expectation (or mean) of a random variable is of course its probability-weighted average value.</p>
<p>In general, there are different expectations that are useful. In this model, there are two that we can define: one corresponding to the risk-free asset and one corresponding to the stock. Many readers will have experience with the first in the form of risk-neutral probabilities.</p>
<p>The risk-neutral probabilities are defined as <span class="math inline">\(\pi_u\mathrm{e}^{rT}\)</span> for the up state and <span class="math inline">\(\pi_d\mathrm{e}^{rT}\)</span> for the down state. Denoting these as <span class="math inline">\(p_u\)</span> and <span class="math inline">\(p_d\)</span> respectively, <a href="#eq-binomialC2">Equation&nbsp;<span>1.7</span></a>–<a href="#eq-binomialR2">Equation&nbsp;<span>1.9</span></a> can be written as</p>
<p><span id="eq-binomialC3"><span class="math display">\[
C = \mathrm{e}^{-rT}[p_uC_u+p_dC_d]\;,
\tag{1.10}\]</span></span></p>
<p><span id="eq-binomialS3"><span class="math display">\[
S = \mathrm{e}^{-rT}[p_uS_u+p_dS_d]\;,
\tag{1.11}\]</span></span></p>
<p><span id="eq-binomialR3"><span class="math display">\[
1= p_u+p_d\;.
\tag{1.12}\]</span></span></p>
<p>The numbers <span class="math inline">\(p_u\)</span> and <span class="math inline">\(p_d\)</span> are both positive (because the state prices are positive under our no-arbitrage assumption) and <a href="#eq-binomialR3">Equation&nbsp;<span>1.12</span></a> states that they sum to one, so it is indeed sensible to consider them as probabilities. Equations <a href="#eq-binomialC3">Equation&nbsp;<span>1.10</span></a> and <a href="#eq-binomialS3">Equation&nbsp;<span>1.11</span></a> state that the value of a security today is its expected value at date <span class="math inline">\(T\)</span> (the expectation taken with respect to the risk-neutral probabilities) discounted at the risk-free rate. Thus, these are present value formulas. Unlike the Capital Asset Pricing Model, for example, there is no risk premium in the discount rate. This is the calculation we would do to price assets under the actual probabilities if investors were risk neutral (or for zero-beta assets). So, we can act as if investors are risk neutral by adjusting the probabilities. Of course, we are not really assuming investors are risk neutral. We have simply embedded any risk premia in the probabilities.<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a></p>
<p>Equations <a href="#eq-binomialC3">Equation&nbsp;<span>1.10</span></a> and <a href="#eq-binomialS3">Equation&nbsp;<span>1.11</span></a> can be written in an equivalent form, which, though somewhat less intuitive, generalizes more readily. First, let’s introduce some notation for the price of the risk-free asset. Considering an investment of $1 today which grows to <span class="math inline">\(\mathrm{e}^{rT}\)</span> at date <span class="math inline">\(T\)</span>, it is sensible to take the price today to be <span class="math inline">\(R=1\)</span> and the price in the up and down states at date <span class="math inline">\(T\)</span> to be <span class="math inline">\(R_u=R_d=\mathrm{e}^{rT}\)</span>.^[All of the equations appearing below will also be true if instead we take <span class="math inline">\(R=\mathrm{e]^{-rT}\)</span> and <span class="math inline">\(R_u=R_d=1\)</span>.} In terms of this notation, <a href="#eq-binomialC3">Equation&nbsp;<span>1.10</span></a>–<a href="#eq-binomialR3">Equation&nbsp;<span>1.12</span></a> can be written as:</p>
<p><span id="eq-binomialC4"><span class="math display">\[
\frac{C}{R} = p_u \frac{C_u}{R_u} + p_d \frac{C_d}{R_d}\;,
\tag{1.13}\]</span></span></p>
<p><span id="eq-binomialS4"><span class="math display">\[
\frac{S}{R} = p_u \frac{S_u}{R_u} + p_d \frac{S_d}{R_d}\;,
\tag{1.14}\]</span></span></p>
<p><span id="eq-binomialR4"><span class="math display">\[
1=p_u+p_d\;.
\tag{1.15}\]</span></span></p>
<p>Each of equations <a href="#eq-binomialC4">Equation&nbsp;<span>1.13</span></a> and <a href="#eq-binomialS4">Equation&nbsp;<span>1.14</span></a> states that the price of a security today divided by the price of the risk-free asset equals the expected future value of the same ratio, when we take expectations using the risk-neutral probabilities. In other words, the mean of the date–<span class="math inline">\(T\)</span> value of the ratio is equal to the ratio today. We will discuss the interpretation and significance of these equations further below. First, we consider the other type of expectation in this model, which is based on probabilities corresponding to the stock.</p>
<p>Note that the risk-neutral probabilities are the state prices multiplied by the gross return on the risk-free asset. Analogously, define numbers <span class="math inline">\(q_u = \pi_uS_u/S\)</span> and <span class="math inline">\(q_d = \pi_dS_d/S\)</span>. Substituting for <span class="math inline">\(\pi_u\)</span> and <span class="math inline">\(\pi_d\)</span> in <a href="#eq-binomialC2">Equation&nbsp;<span>1.7</span></a>–<a href="#eq-binomialR2">Equation&nbsp;<span>1.9</span></a> and continuing to use the notation <span class="math inline">\(R\)</span> for the price of the risk-free asset, we obtain</p>
<p><span id="eq-binomialC5"><span class="math display">\[
\frac{C}{S} = q_u \frac{C_u}{S_u} + q_d \frac{C_d}{S_d}\;,
\tag{1.16}\]</span></span></p>
<p><span id="eq-binomialS5"><span class="math display">\[
1 = q_u + q_d\;,
\tag{1.17}\]</span></span></p>
<p><span id="eq-binomialR5"><span class="math display">\[
\frac{R}{S} = q_u \frac{R_u}{S_u} + q_d \frac{R_d}{S_d}\;.
\tag{1.18}\]</span></span></p>
<p>Equation <a href="#eq-binomialS5">Equation&nbsp;<span>1.17</span></a> establishes that we can view the <span class="math inline">\(q\)</span>’s as probabilities (like the risk-neutral probabilities, they are positive because the state prices are positive). Equations <a href="#eq-binomialC5">Equation&nbsp;<span>1.16</span></a> and <a href="#eq-binomialR5">Equation&nbsp;<span>1.18</span></a> both state that the ratio of a security price to the price of the stock today equals the mean value of the same ratio at date <span class="math inline">\(T\)</span>, when we compute expectations using the <span class="math inline">\(q\)</span>’s as probabilities.</p>
<p>Here is some useful terminology:</p>
<ul>
<li>An assignment of probabilities to events is called a , or simply a (because it measures the events, in a sense). Thus, we have described two different probability measures in this section. </li>
<li>The ratio of one price to another is the value of the first (numerator) asset when we are using the second (denominator) asset as the . The term numeraire means a unit of measurement. For example, the ratio <span class="math inline">\(C/S\)</span> is the value of the call when we use the stock as the unit of measurement: it is the number of shares of stock for which one call option can be exchanged (to see this, note that <span class="math inline">\(C/S\)</span> shares is worth <span class="math inline">\(C/S \times S = C\)</span> dollars, so <span class="math inline">\(C/S\)</span> shares is worth the same as one call.)</li>
<li>A variable that changes randomly over time with the expected future value being always equal to the current value is called a . </li>
</ul>
<p>The right-hand sides of <a href="#eq-binomialC4">Equation&nbsp;<span>1.13</span></a>–<a href="#eq-binomialS4">Equation&nbsp;<span>1.14</span></a> and <a href="#eq-binomialC5">Equation&nbsp;<span>1.16</span></a> and <a href="#eq-binomialR5">Equation&nbsp;<span>1.18</span></a> are expectations under different (the <span class="math inline">\(p\)</span>’s or <span class="math inline">\(q\)</span>’s). The expected future (date–<span class="math inline">\(T\)</span>) value equals the current (date–0) value, so the random variables (<span class="math inline">\(C/R\)</span> and <span class="math inline">\(S/R\)</span> or <span class="math inline">\(C/S\)</span> and <span class="math inline">\(R/S\)</span>) are . The values <span class="math inline">\(C/R\)</span> and <span class="math inline">\(S/R\)</span> are the values of the call and stock , and the values <span class="math inline">\(C/S\)</span> and <span class="math inline">\(R/S\)</span> are the values of the call and risk-free asset . Thus, we will express <a href="#eq-binomialC4">Equation&nbsp;<span>1.13</span></a>–<a href="#eq-binomialS4">Equation&nbsp;<span>1.14</span></a> as the call and stock are martingales when we use the risk-free asset as numeraire. Likewise, we will express <a href="#eq-binomialC5">Equation&nbsp;<span>1.16</span></a> and <a href="#eq-binomialR5">Equation&nbsp;<span>1.18</span></a> as the call and risk-free asset are martingales when we use the stock as numeraire. It should be understood in both cases that using an asset as numeraire means that we also use the corresponding probability measure (i.e., the <span class="math inline">\(p\)</span>’s or <span class="math inline">\(q\)</span>’s). In general, our conclusion that assets can be priced in terms of positive state prices when there are no arbitrage opportunities can be rephrased as: <strong>if there are no arbitrage opportunities, then for each (non-dividend-paying) asset, there exists a probability measure such that the ratio of any other (non-dividend-paying) asset price to the first (numeraire) asset price is a martingale.</strong>^[We have applied this statement to the risk-free asset, which pays dividends (interest). However, the price <span class="math inline">\(R_u=R_d=\mathrm{e]^{rT}\)</span> includes the interest, so no interest has been withdrawn—the interest has been reinvested—prior to the maturity <span class="math inline">\(T\)</span> of the option. This is what we mean by a non-dividend-paying asset. In general, we will apply the formulas developed in this and the following section to dividend-paying assets by considering the portfolios in which dividends are reinvested.}</p>
<p>For this exposition, it was convenient to first calculate the state prices and then calculate the various probabilities. However, that is not the most efficient way to proceed in most applications. In a typical application, we would view the prices of the stock and risk-free asset in the various states of the world as given, and we would be attempting to compute the value of the call option. Note that the sets of equations <a href="#eq-binomialC2">Equation&nbsp;<span>1.7</span></a>–<a href="#eq-binomialR2">Equation&nbsp;<span>1.9</span></a>, <a href="#eq-binomialC4">Equation&nbsp;<span>1.13</span></a>–<a href="#eq-binomialR4">Equation&nbsp;<span>1.15</span></a>, and <a href="#eq-binomialC5">Equation&nbsp;<span>1.16</span></a>–<a href="#eq-binomialR5">Equation&nbsp;<span>1.18</span></a> are all equivalent. In each case we would consider that there are three unknowns—the value <span class="math inline">\(C\)</span> of the call option and either two state prices or two probabilities. In each case the state prices or probabilities can be computed from the last two equations in the set of three equations and then the call value <span class="math inline">\(C\)</span> can be computed from the first equation in the set. All three sets of equations produce the same call value.</p>
<p>In fact, as we will see, it will not even be necessary to calculate the probabilities. The fact that ratios of non-dividend paying asset prices to the numeraire asset price are martingales will tell us enough about the probabilities to calculate derivative values without having to calculate the probabilities themselves.</p>
<p>We conclude this section with another reformulation of the pricing relations <a href="#eq-binomialC2">Equation&nbsp;<span>1.7</span></a>–<a href="#eq-binomialR2">Equation&nbsp;<span>1.9</span></a>. This formulation will generalize more easily to pricing when there are a continuum of states, the subject of the next section.<br>
Let <span class="math inline">\(\text{prob}_u\)</span> denote the actual probability of the up state and <span class="math inline">\(\text{prob}_d\)</span> denote the probability of the down state. These probabilities are irrelevant for pricing derivatives in the binomial model, but we will use them to write the pricing relations <a href="#eq-binomialC2">Equation&nbsp;<span>1.7</span></a>–<a href="#eq-binomialR2">Equation&nbsp;<span>1.9</span></a> as expectations with respect to the actual probabilities. To do this, we can define <span class="math display">\[\begin{align*}
\phi_u &amp;= \frac{\pi_u}{\text{prob}_u}\; ,\\
\phi_d &amp;= \frac{\pi_d}{\text{prob}_d}\;.
\end{align*}\]</span> Then <a href="#eq-binomialC2">Equation&nbsp;<span>1.7</span></a>–<a href="#eq-binomialR2">Equation&nbsp;<span>1.9</span></a> can be written as</p>
<p><span id="eq-binomialC6"><span class="math display">\[
C = \text{prob}_u\phi_uC_u + \text{prob}_d\phi_dC_d\;,
\tag{1.19}\]</span></span></p>
<p><span id="eq-binomialS6"><span class="math display">\[
S = \text{prob}_u\phi_uS_u + \text{prob}_d\phi_dS_d\;,
\tag{1.20}\]</span></span></p>
<p><span id="eq-binomialR6"><span class="math display">\[
R = \text{prob}_u\phi_uR_u + \text{prob}_d\phi_dR_d\;.
\tag{1.21}\]</span></span></p>
<p>The right-hand sides are expectations with respect to the actual probabilities. For example, the right-hand side of equation <a href="#eq-binomialC6">Equation&nbsp;<span>1.19</span></a> is the expectation of the random variable that equals <span class="math inline">\(\phi_uC_u\)</span> in the up state and <span class="math inline">\(\phi_dC_d\)</span> in the down state. The risk-neutral probabilities can be calculated from <span class="math inline">\(\phi_u\)</span> and <span class="math inline">\(\phi_d\)</span> as <span class="math inline">\(p_u=\text{prob}_u\phi_uR_u/R\)</span> and <span class="math inline">\(p_d=\text{prob}_d\phi_dR_d/R\)</span>. Likewise, the probabilities using the stock as the numeraire can be calculated from <span class="math inline">\(\phi_u\)</span> and <span class="math inline">\(\phi_d\)</span> as <span class="math inline">\(q_u=\text{prob}_u\phi_uS_u/S\)</span> and <span class="math inline">\(q_d=\text{prob}_d\phi_dS_d/S\)</span>. In the following section, we will assume (which can be shown to be true under some technical conditions) that relations such as <a href="#eq-binomialC6">Equation&nbsp;<span>1.19</span></a>–<a href="#eq-binomialR6">Equation&nbsp;<span>1.21</span></a> hold in a general (non-binomial) model given the absence of arbitrage opportunities. We will then show, using definitions analogous to the definitions of <span class="math inline">\(p_u\)</span>, <span class="math inline">\(p_d\)</span>, <span class="math inline">\(q_u\)</span>, and <span class="math inline">\(q_d\)</span> in this paragraph, that relations analogous to <a href="#eq-binomialC4">Equation&nbsp;<span>1.13</span></a>–<a href="#eq-binomialR4">Equation&nbsp;<span>1.15</span></a> and <a href="#eq-binomialC5">Equation&nbsp;<span>1.16</span></a>–<a href="#eq-binomialR5">Equation&nbsp;<span>1.18</span></a> hold.</p>
</section>
<section id="asset-pricing-with-a-continuum-of-states" class="level2" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="asset-pricing-with-a-continuum-of-states"><span class="header-section-number">1.4</span> Asset Pricing with a Continuum of States</h2>
<p>In this section, we will define the concepts of state prices and probabilities corresponding to different numeraires in a more general framework than that of the preceding section. This leads to what we will call the fundamental pricing equation, namely equation <a href="#eq-formula">Equation&nbsp;<span>1.28</span></a>. There are really no new concepts in this section, only a bit more mathematics.</p>
<p>Consider a non-dividend-paying security having the random price <span class="math inline">\(S(T)\)</span> at date <span class="math inline">\(T\)</span>. We call the contingencies that affect the price <span class="math inline">\(S(T)\)</span> the states of the world. Our principle regarding state prices developed in the preceding section can in general be expressed as:<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> <strong>if there are no arbitrage opportunities, there exists for each date <span class="math inline">\(T\)</span> a positive random variable <span class="math inline">\(\phi(T)\)</span> such that the value at date 0 of a non-dividend-paying security with price <span class="math inline">\(S\)</span> is </strong> <span id="eq-continuum1"><span class="math display">\[
S(0) = E[\phi(T)S(T)]\;.
\tag{1.22}\]</span></span></p>
<p>Here, <span class="math inline">\(E[\phi(T)S(T)]\)</span> denotes the expectation of the random variable <span class="math inline">\(\phi(T)S(T)\)</span>. The random variable <span class="math inline">\(\phi(T)\)</span> is called the state price density.<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> In a binomial model (or in any model with only a finite number of states of the world), the concept of an expectation is clear: it is just a weighted average of outcomes, the weights being the probabilities. In the binomial model, the right-hand side of equation <a href="#eq-binomialS6">Equation&nbsp;<span>1.20</span></a> is the same as the right-hand side of equation <a href="#eq-continuum1">Equation&nbsp;<span>1.22</span></a>.<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a></p>
<p>To convert from state prices to probabilities corresponding to different numeraires, we follow the same procedure as at the end of the previous section: we multiply together (i) the probability of the state, (ii) the value of <span class="math inline">\(\phi(T)\)</span> in the state, and (iii) the gross return of the numeraire in the state. If there is a continuum of states, then the actual probability of any individual state will typically be zero, so this multiplication will produce a zero probability. However, we can nevertheless add up these probabilities to define the probability of any event <span class="math inline">\(A\)</span>, an event being a set of states of the world. To do this, let <span class="math inline">\(1_A\)</span> denote the random variable that takes the value 1 when <span class="math inline">\(A\)</span> is true and which is zero otherwise. Then the probability of <span class="math inline">\(A\)</span> using <span class="math inline">\(S\)</span> as the numeraire is defined as <span id="eq-probSnumeraire"><span class="math display">\[
E\left[1_A\phi(T)\frac{S(T)}{S(0)}\right]\;.
\tag{1.23}\]</span></span></p>
<p>This makes sense as a probability because it is nonnegative and because, if <span class="math inline">\(A\)</span> is the set of all states of the world, then its probability is <span class="math inline">\(E[\phi(T)S(T)/S(0)]\)</span>, which equals one by virtue of <a href="#eq-continuum1">Equation&nbsp;<span>1.22</span></a>. From the definition <a href="#eq-probSnumeraire">Equation&nbsp;<span>1.23</span></a> of the probability of any event <span class="math inline">\(A\)</span>, it can be shown that the expectation of any random variable <span class="math inline">\(X\)</span> using <span class="math inline">\(S\)</span> as the numeraire is <span id="eq-expSnumeraire"><span class="math display">\[
E\left[X\phi(T)\frac{S(T)}{S(0)}\right]\;.
\tag{1.24}\]</span></span></p>
<p>The use of the symbol <span class="math inline">\(S\)</span> to denote the price of the numeraire may be confusing, because~<span class="math inline">\(S\)</span> is usually used to denote a stock price. The numeraire here could be any non-dividend-paying asset. For example, we can take <span class="math inline">\(S(t)=\mathrm{e}^{rt}\)</span>, the price of the risk-free asset. The definition of probabilities as <span id="eq-riskneutralprob00"><span class="math display">\[
E[1_A\phi(T)\mathrm{e}^{rT}]
\tag{1.25}\]</span></span></p>
<p>will be called the risk-neutral probability measure or simply risk-neutral measure as before. </p>
<p>Different numeraires lead to different probability measures and hence to different expectations. To keep this straight, we will use the numeraire as a superscript on the expectation symbol: for example, <span class="math inline">\(E^S\)</span> will denote expectation with respect to the probability measure that corresponds to <span class="math inline">\(S\)</span> being the numeraire. Also, we will use the symbol <span class="math inline">\(\text{prob}^S(A)\)</span> to denote the probability of an event <span class="math inline">\(A\)</span> when we use <span class="math inline">\(S\)</span> as the numeraire. So, <a href="#eq-probSnumeraire">Equation&nbsp;<span>1.23</span></a> and <a href="#eq-expSnumeraire">Equation&nbsp;<span>1.24</span></a> will be written as</p>
<p><span id="eq-probSnumeraire2"><span class="math display">\[
\text{prob}^S(A) = E\left[1_A\phi(T)\frac{S(T)}{S(0)}\right]\;,
\tag{1.26}\]</span></span></p>
<p>$$</p>
<p>E^S[X] = E;. $$ {#eq-expSnumeraire2}</p>
<p>Our key result in the preceding section was that the ratio of the price of any non-dividend paying asset to the price of the numeraire asset is not expected to change when we use the probability measure corresponding to the numeraire. We will demonstrate the same result in this more general model. Recall that <span class="math inline">\(T\)</span> denotes an arbitrary but fixed date at which we have defined the probabilities using <span class="math inline">\(S\)</span> as the numeraire in <a href="#eq-probSnumeraire">Equation&nbsp;<span>1.23</span></a>. At each date <span class="math inline">\(t&lt;T\)</span>, let <span class="math inline">\(E^S_t\)</span> denote the expectation given information at time <span class="math inline">\(t\)</span> and using <span class="math inline">\(S\)</span> as the numeraire (we will continue to write the expectation at date 0 without a subscript; i.e., <span class="math inline">\(E^S\)</span> has the same meaning as <span class="math inline">\(E^S_0\)</span>). Let <span class="math inline">\(Y\)</span> denote the price of another non-dividend-paying asset. We will show that <span id="eq-preformula"><span class="math display">\[
\frac{Y(t)}{S(t)} = E^S_t \left[\frac{Y(T)}{S(T)}\right]\;.
\tag{1.27}\]</span></span></p>
<p>Thus, the expected future (date–<span class="math inline">\(T\)</span>) value of the ratio <span class="math inline">\(Y/S\)</span> always equals the current (date–<span class="math inline">\(t\)</span>) value when we use <span class="math inline">\(S\)</span> as the numeraire. As discussed in the preceding section, the mathematical term for a random variable whose expected future value always equals its current value is martingale. Thus, we can express equation <a href="#eq-preformula">Equation&nbsp;<span>1.27</span></a> as stating that the ratio <span class="math inline">\(Y/S\)</span> is a martingale when we compute expectations using the probability measure that corresponds to~<span class="math inline">\(S\)</span> being the numeraire.</p>
<p>The usefulness of equation <a href="#eq-preformula">Equation&nbsp;<span>1.27</span></a> is that it gives us a formula for the asset price <span class="math inline">\(Y(t)\)</span> at any time <span class="math inline">\(t\)</span>—and recall that this formula holds for every non-dividend paying asset. The formula is obtained from <a href="#eq-preformula">Equation&nbsp;<span>1.27</span></a> by multiplying through by <span class="math inline">\(S(t)\)</span>: <span id="eq-formula"><span class="math display">\[
Y(t) = S(t)E^S_t \left[\frac{Y(T)}{S(T)}\right]\;.
\tag{1.28}\]</span></span></p>
<p><strong>We will call equation <a href="#eq-formula">Equation&nbsp;<span>1.28</span></a></strong> the fundamental pricing formula. It is at the heart of modern pricing of derivative securities. It is a present value relation: the value at time~<span class="math inline">\(t\)</span> of the asset is the expectation of its value <span class="math inline">\(Y(T)\)</span> at time~<span class="math inline">\(T\)</span> discounted by the (possibly random) factor <span class="math inline">\(S(t)/S(T)\)</span>. To emphasize that the numeraire can be any non-dividend-paying asset (and not necessarily a stock price, as the symbol <span class="math inline">\(S\)</span> might suggest), we can write equation <a href="#eq-formula">Equation&nbsp;<span>1.28</span></a> in the equivalent form <span id="eq-formula10"><span class="math display">\[
Y(t) = \text{num}(t)E^\text{num}_t \left[\frac{Y(T)}{\text{num}(T)}\right]\;,
\tag{1.29}\]</span></span></p>
<p>where now <span class="math inline">\(\text{num}(t)\)</span> denotes the price of the (non-dividend-paying) numeraire asset at time~<span class="math inline">\(t\)</span>.</p>
<p>For example, letting <span class="math inline">\(R(t)\)</span> denote the value <span class="math inline">\(\mathrm{e}^{rt}\)</span> of the risk-free asset and using it as the numeraire, equation <a href="#eq-formula">Equation&nbsp;<span>1.28</span></a> becomes <span id="eq-riskneutralformula"><span class="math display">\[
Y(t) = \mathrm{e}^{rt}E^R_t\left[\frac{Y(T)}{\mathrm{e}^{rT}}\right] = \mathrm{e}^{-r(T-t)}E^R_t [Y(T)]\;,
\tag{1.30}\]</span></span></p>
<p>which means that the value <span class="math inline">\(Y(t)\)</span> is the expected value of <span class="math inline">\(Y(T)\)</span> discounted at the risk-free rate for the remaining time <span class="math inline">\(T\!-\!t\)</span>, when the expectation is computed under the risk-neutral probability measure.</p>
<p>We end this section with a proof of <a href="#eq-preformula">Equation&nbsp;<span>1.27</span></a>, a proof that the reader may skip if desired.<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a></p>
<div class="callout callout-style-default callout-note no-icon callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>## Consider any time <span class="math inline">\(t\)</span> and any event <span class="math inline">\(A\)</span> that is distinguishable by time <span class="math inline">\(t\)</span>. Consider the trading strategy of buying one share of the asset with price <span class="math inline">\(Y\)</span> at time <span class="math inline">\(t\)</span> when <span class="math inline">\(A\)</span> has happened and financing this purchase by short selling <span class="math inline">\(Y(t)/S(t)\)</span> shares of the asset with price <span class="math inline">\(S\)</span>. Each share of this asset that you short brings in <span class="math inline">\(S(t)\)</span> dollars, so shorting <span class="math inline">\(Y(t)/S(t)\)</span> shares brings in <span class="math inline">\(Y(t)\)</span> dollars, exactly enough to purchase the desired share of the first asset. Hold this portfolio until time <span class="math inline">\(T\)</span> and then liquidate it. Liquidating it will generate <span class="math display">\[1_A\left(Y(T)-\frac{Y(t)}{S(t)}S(T)\right)\]</span> dollars. The multiplication by the random variable <span class="math inline">\(1_A\)</span> is because we only implement this strategy when <span class="math inline">\(A\)</span> occurs (i.e., when <span class="math inline">\(1_A=1\)</span>). Consider the security that pays this number of dollars at time <span class="math inline">\(T\)</span>. Because we obtained it with a trading strategy that required no investment at time <span class="math inline">\(t\)</span>, its price at time 0 must be 0. We already observed that we can represent the price in terms of state prices, so we conclude that <span class="math display">\[E \left[\phi(T)1_A\left(Y(T)-\frac{Y(t)}{S(t)}S(T)\right)\right] = 0\;\;.\]</span> When we divide by <span class="math inline">\(S(0)\)</span>, this will still equal zero. Factoring <span class="math inline">\(S(T)\)</span> outside the parentheses gives <span class="math display">\[E \left[1_A\frac{S(T)}{S(0)}\phi(T)\left(\frac{Y(T)}{S(T)}-\frac{Y(t)}{S(t)}\right)\right] = 0\;\;.\]</span> We see from the formula <span class="quarto-unresolved-ref">?eq-expSnumeraire2</span> for expectations using <span class="math inline">\(S\)</span> as the numeraire that we can write this as <span class="math display">\[E^S\left[1_A\left(\frac{Y(T)}{S(T)}-\frac{Y(t)}{S(t)}\right)\right]=0\;.\]</span> This is true for any event <span class="math inline">\(A\)</span> distinguishable at time <span class="math inline">\(t\)</span>, so the expectation of <span class="math inline">\(Y(T)/S(T)-Y(t)/S(t)\)</span> must be zero given any information at time <span class="math inline">\(t\)</span> when we use <span class="math inline">\(S\)</span> as the numeraire; i.e., <span class="math display">\[E^S_t\left[\frac{Y(T)}{S(T)}-\frac{Y(t)}{S(t)}\right]=0\; ,\]</span> or, equivalently <span class="math display">\[E^S_t\left[\frac{Y(T)}{S(T)}\right] = \frac{Y(t)}{S(t)}\;.\]</span></p>
</div>
</div>
</section>
<section id="sec-s_introoptions" class="level2" data-number="1.5">
<h2 data-number="1.5" class="anchored" data-anchor-id="sec-s_introoptions"><span class="header-section-number">1.5</span> Introduction to Option Pricing</h2>
<p>A complete development of derivative pricing requires the continuous-time mathematics to be covered in the next chapter. However, we can present the basic ideas using the tools already developed. Consider the problem of pricing a European call option. Let <span class="math inline">\(T\)</span> denote the maturity of the option and <span class="math inline">\(K\)</span> its strike price, and let <span class="math inline">\(S\)</span> denote the price of the underlying. We will assume for now that the underlying does not pay dividends, but we will make no assumptions about the distribution of its price <span class="math inline">\(S(T)\)</span> at the maturity of the option. Assume there is a risk-free asset with constant interest rate <span class="math inline">\(r\)</span>.</p>
<p>Our convention will be that date 0 denotes the date at which we are attempting to value a derivative. The value of the option at maturity is <span class="math inline">\(\max(0,S(T)-K)\)</span>. Consider a contract that pays <span class="math inline">\(S(T)\)</span> at date <span class="math inline">\(T\)</span> when <span class="math inline">\(S(T) \geq K\)</span> and that pays zero when <span class="math inline">\(S(T)&lt;K\)</span>, and consider another contract that pays <span class="math inline">\(K\)</span> at date <span class="math inline">\(T\)</span> when <span class="math inline">\(S(T)\geq K\)</span> and zero when <span class="math inline">\(S(T)&lt;K\)</span>. In <a href="Chapter3.html"><span>Chapter&nbsp;3</span></a>, we will call the first contract a share digital and the second contract a digital. The call option is equivalent to a portfolio that is long the first contract and short the second, because the value of the call at maturity is <span class="math inline">\(S(T)-K\)</span> when <span class="math inline">\(S(T)\geq K\)</span> and it is zero otherwise. So, we can value the call if we can value the share digital and the digital. This splitting up of complex payoffs into simpler contracts is a key to analyzing many types of derivatives.</p>
<section id="pricing-share-digitals" class="level3">
<h3 class="anchored" data-anchor-id="pricing-share-digitals">Pricing Share Digitals</h3>
<p>Consider first the problem of valuing the share digital. Let <span class="math inline">\(Y(t)\)</span> denote its value at each date <span class="math inline">\(t \leq T\)</span>. We seek to find <span class="math inline">\(Y(0)\)</span>. Our fundamental pricing formula <a href="#eq-formula">Equation&nbsp;<span>1.28</span></a> tells us that <span class="math display">\[Y(0) = \text{num}(0) E^\text{num} \left[\frac{Y(T)}{\text{num}(T)}\right]\; ,\]</span> for any numeraire with price <span class="math inline">\(\text{num}(t)\)</span>. We want to choose the numeraire to simplify the calculation of the expectation. The expectation only involves the states of the world in which <span class="math inline">\(S(T) \geq K\)</span>, because <span class="math inline">\(Y(T)=0\)</span> when <span class="math inline">\(S(T)&lt;K\)</span>. In the states of the world in which <span class="math inline">\(S(T) \geq K\)</span>, the value of the share digital is <span class="math inline">\(S(T)\)</span>. The calculation of the expectation would be simplified if the value were a constant when it was nonzero, because, if you are to receive a constant amount in a certain event, your expected payoff is the constant times the probability of the event (e.g., the expected payoff of a gamble that pays $1 when a fair die rolls a 6 is 1/6). This suggests we should use the stock as the numeraire, because then we will have <span class="math display">\[\frac{Y(T)}{\text{num}(T)} = \frac{S(T)}{S(T)} = 1\]</span> when <span class="math inline">\(S(T) \geq K\)</span>, implying that <span class="math display">\[E^\text{num} \left[\frac{Y(T)}{\text{num}(T)}\right] = \text{prob}^S\big(S(T)\geq K\big)\; ,\]</span> where <span class="math inline">\(\text{prob}^S\)</span> denotes the probability using <span class="math inline">\(S\)</span> as the numeraire. This implies that the value of the share digital is <span class="math display">\[S(0) \times \text{prob}^S\big(S(T)\geq K\big)\;.\]</span> The remaining question is obviously how to compute the probability. We will <strong>not</strong> use the formula <a href="#eq-probSnumeraire">Equation&nbsp;<span>1.23</span></a> which expresses the probability in terms of an expectation involving state prices. To attempt to do so would simply raise the question of how to compute the state prices. Instead, we use the fundamental pricing formula again, this time replacing the derivative value <span class="math inline">\(Y\)</span> with the value of the risk-free asset. This is exactly analogous to computing the <span class="math inline">\(q\)</span> probabilities from <a href="#eq-binomialS5">Equation&nbsp;<span>1.17</span></a> and <a href="#eq-binomialR5">Equation&nbsp;<span>1.18</span></a> in <span class="citation" data-cites="sec">(<a href="#ref-sec" role="doc-biblioref"><strong>sec?</strong></a>)</span>-{s_oneperiodbinomial. Recall that the fundamental formula holds for any non-dividend-paying asset, so it holds for <span class="math inline">\(R(t)=\mathrm{e}^{rt}\)</span>, telling us that the ratio <span class="math inline">\(R(t)/S(t)\)</span> is a martingale when we use <span class="math inline">\(S\)</span> as the numeraire. In a continuous-time model (at least until we introduce stochastic volatility) this will give us exactly the information we need to compute the distribution of <span class="math inline">\(S(T)\)</span> when we use <span class="math inline">\(S\)</span> as the numeraire, and from the distribution of <span class="math inline">\(S(T)\)</span> we can easily compute <span class="math inline">\(\text{prob}^S\big(S(T)\geq K\big)\)</span>. This calculation will be covered in <a href="Chapter3.html"><span>Chapter&nbsp;3</span></a> for the Black-Scholes model.</p>
</section>
<section id="pricing-digitals" class="level3">
<h3 class="anchored" data-anchor-id="pricing-digitals">Pricing Digitals</h3>
<p>Now consider the problem of pricing the digital. We will change notation to let <span class="math inline">\(Y(t)\)</span> denote now the value of the digital at time <span class="math inline">\(t\)</span>. Again we want to compute <span class="math display">\[Y(0) = \text{num}(0) E^\text{num}\left[\frac{Y(T)}{\text{num}(T)}\right]\; ,\]</span> and again this expectation only involves the states of the world in which <span class="math inline">\(S(T) \geq K\)</span>. In these states of the world, the value of the digital is already a constant <span class="math inline">\(K\)</span>, so we should take the numeraire to have a constant value at~<span class="math inline">\(T\)</span>, so that the ratio <span class="math inline">\(Y(T)/\text{num}(T)\)</span> will be constant in the states in which <span class="math inline">\(S(T) \geq K\)</span>. This means that we should take the numeraire to be the risk-free asset. For this numeraire, the pricing formula is <span class="math display">\[Y(0) = \mathrm{e}^{-rT}E^R[Y(T)] = \mathrm{e}^{-rT}K\times \text{prob}^R \big(S(T)\geq K\big)\; ,\]</span> so we need to compute the risk-neutral probability that <span class="math inline">\(S(T) \geq K\)</span>. We will do this by using the fact that <span class="math inline">\(S(t)/R(t) = \mathrm{e}^{-rt}S(t)\)</span> is a martingale under the risk-neutral probability measure. This is analogous to computing the risk-neutral probabilities from <a href="#eq-binomialS4">Equation&nbsp;<span>1.14</span></a> and <a href="#eq-binomialR4">Equation&nbsp;<span>1.15</span></a> in <span class="citation" data-cites="sec">(<a href="#ref-sec" role="doc-biblioref"><strong>sec?</strong></a>)</span>-{s_oneperiodbinomial. This calculation will also be covered in <a href="Chapter3.html"><span>Chapter&nbsp;3</span></a> for the Black-Scholes model.</p>
<p>Readers familiar with the Black-Scholes formula may already have surmised that, under the Black-Scholes assumptions, <span class="math display">\[\text{prob}^S\big(S(T)\geq K\big) = \mathrm{N}(d_1) \quad \text{and} \quad \text{prob}^R\big(S(T)\geq K\big) = \mathrm{N}(d_2)\; ,\]</span> where <span class="math inline">\(\mathrm{N}\)</span> denotes the cumulative normal distribution function . The numbers <span class="math inline">\(d_1\)</span> and <span class="math inline">\(d_2\)</span> are different, and hence these are different probabilities, even though they are both probabilities of the option finishing in the money (<span class="math inline">\(S(T) \geq K\)</span>). They are different probabilities because they are computed under different numeraires.</p>
</section>
<section id="a-remark" class="level3">
<h3 class="anchored" data-anchor-id="a-remark">A Remark</h3>
<p>It seems worthwhile here to step back a bit from the calculations and try to offer some perspectives on the methods developed in this chapter. The change of numeraire technique probably seems mysterious. Even though one may agree that it works after following the steps in the chapter, there is probably a lingering question about why it works. The author’s opinion is that it may be best to regard it simply as a computational trick. Fundamentally it works because valuation is linear. Linearity simply means that the value of a cash flow <span class="math inline">\(X=X_1+X_2\)</span> is the sum of the values of the cash flows <span class="math inline">\(X_1\)</span> and~<span class="math inline">\(X_2\)</span> and the value of the cash flow <span class="math inline">\(aX\)</span> is <span class="math inline">\(a\)</span> times the value of <span class="math inline">\(X\)</span>, for any constant <span class="math inline">\(a\)</span>. This linearity is manifested in the statement that the value of a cash flow is the sum across states of the world of the state prices multiplied by the size of the cash flow in each state. The change of numeraire technique exploits the linearity to further simplify the valuation exercise. There are other ways the linearity can be used (for example, it produces solvable partial differential equations) but the particular trick we have developed in this chapter seems the most useful to the author (and to others, though perhaps not to everyone). After enough practice with it, it will seem as natural as other computational tricks one might have learned.</p>
</section>
</section>
<section id="sec-s_incomplete" class="level2" data-number="1.6">
<h2 data-number="1.6" class="anchored" data-anchor-id="sec-s_incomplete"><span class="header-section-number">1.6</span> An Incomplete Markets Example</h2>
<p>In this section, we consider a more difficult valuation problem than the binomial model and discuss the general implications of this example. We only need to make the problem slightly more difficult to see the issues. Consider a trinomial model, in which the asset price takes three possible values: <span class="math inline">\(S_u &gt; S_m &gt; S_d\)</span> (<span class="math inline">\(m\)</span> for middle, medium, median, …). We continue to make the no arbitrage assumption <a href="#eq-binomialnoarbitrage">Equation&nbsp;<span>1.1</span></a>. State prices <span class="math inline">\(\pi_u\)</span>, <span class="math inline">\(\pi_m\)</span> and <span class="math inline">\(\pi_m\)</span> must satisfy equations analogous to <a href="#eq-binomialS2">Equation&nbsp;<span>1.8</span></a>–<a href="#eq-binomialR2">Equation&nbsp;<span>1.9</span></a>; specifically,</p>
<p><span id="eq-binomialS10"><span class="math display">\[
S = \pi_uS_u+\pi_mS_m+\pi_dS_d\;,
\tag{1.31}\]</span></span></p>
<p><span id="eq-binomialR10"><span class="math display">\[
1 = \pi_u\mathrm{e}^{rT} + \pi_m\mathrm{e}^{rT} +\pi_d \mathrm{e}^{rT}\;.
\tag{1.32}\]</span></span></p>
<p>In the binomial case, these equations can be solved for <span class="math inline">\(\pi_u\)</span> and <span class="math inline">\(\pi_d\)</span>, as shown in <a href="#eq-binomialstateprices">Equation&nbsp;<span>1.6</span></a>. However, in the trinomial case, we have only two equations in three unknowns. Thus, there exist many solutions.</p>
<p>Given any particular solution <span class="math inline">\((\pi_u,\pi_m,\pi_d)\)</span> of <span class="quarto-unresolved-ref">?eq-binomialSR10combined</span>, we can define the risk-neutral probabilities <span class="math inline">\(p_u\)</span>, <span class="math inline">\(p_m\)</span> and <span class="math inline">\(p_d\)</span> as before—e.g., <span class="math inline">\(p_u = \pi_u\mathrm{e}^{rT}\)</span>. Likewise, we can define the probabilities using the stock as numeraire. Thus, we can value calls and puts and other derivative securities. However, the values we obtain will depend on the particular solution <span class="math inline">\((\pi_u,\pi_m,\pi_d)\)</span>. There are many arbitrage-free values for a call option, one for each solution of <span class="quarto-unresolved-ref">?eq-binomialSR10combined</span>.</p>
<p>The reason that there are many arbitrage-free values for a call (or put) is that a call cannot be replicated in a trinomial model using the stock and risk-free asset; we can say equivalently that there is no delta hedge for a call option. Recall that we first found the value of a call in the binomial model by finding the replicating portfolio and calculating its cost. A similar analysis is impossible in the trinomial model. To see this, consider a portfolio of <span class="math inline">\(a\)</span> dollars invested in the risk free asset and <span class="math inline">\(b\)</span> dollars invested in the stock. The value of the portfolio at date <span class="math inline">\(T\)</span> will be <span class="math inline">\(a\mathrm{e}^{rT} + bS_x/S\)</span>, where <span class="math inline">\(x \in \{u,m,d\}\)</span>. To replicate the call, we need <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> to satisfy</p>
<p><span class="math display">\[
a\mathrm{e}^{rT} + bS_u/S = \max(0,S_u-K)\; ,
\]</span> <span class="math display">\[
a\mathrm{e}^{rT} + bS_m/S = \max(0,S_m-K)\; ,
\]</span> <span class="math display">\[
a\mathrm{e}^{rT} + bS_d/S = \max(0,S_d-K)\;.
\]</span> These are three linear equations in the two unknowns <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span>. For any strike price <span class="math inline">\(K\)</span> between <span class="math inline">\(S_d\)</span> and <span class="math inline">\(S_u\)</span>, none of the equations is redundant, and the system has no solution. When there are state-contingent claims (such as the call option payoff) that cannot be replicated by trading in the marketed assets (the stock and risk-free asset in this case), one says that the market is incomplete. Thus, the trinomial model is an example of an incomplete market. </p>
<p>To value derivative securities in this situation, we have to select some particular solution <span class="math inline">\((\pi_u,\pi_m,\pi_d)\)</span> of <span class="quarto-unresolved-ref">?eq-binomialSR10combined</span> and assume that the market uses that solution for valuation. Equivalently, we can assume the market uses a particular set of risk-neutral probabilities <span class="math inline">\((p_u, p_m, p_d)\)</span>. This type of valuation is often called equilibrium valuation, as opposed to arbitrage valuation, because to give a foundation for our particular choice of risk-neutral probabilities, we would have to assume something about the preferences and endowments of investors and the production possibilities. We will encounter incomplete markets when we consider stochastic volatility in <a href="Chapter4.html"><span>Chapter&nbsp;4</span></a>.</p>
</section>
<section id="exercises" class="level2" data-number="1.7">
<h2 data-number="1.7" class="anchored" data-anchor-id="exercises"><span class="header-section-number">1.7</span> Exercises</h2>
<div id="exr-e_binomialcall" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 1.1 </strong></span>Create an Excel worksheet in which the user inputs <span class="math inline">\(S\)</span>, <span class="math inline">\(S_d\)</span>, <span class="math inline">\(S_u\)</span>, <span class="math inline">\(K\)</span>, <span class="math inline">\(r\)</span> and~<span class="math inline">\(T\)</span>. Check that the no-arbitrage condition <a href="#eq-binomialnoarbitrage">Equation&nbsp;<span>1.1</span></a> is satisfied. Compute the value of a call option in each of the following ways:</p>
<ol type="1">
<li>Compute the delta and use <a href="#eq-C0">Equation&nbsp;<span>1.2</span></a>.</li>
<li>Compute the state prices and use <a href="#eq-binomialC2">Equation&nbsp;<span>1.7</span></a>.</li>
<li>Compute the risk-neutral probabilities and use <a href="#eq-binomialC3">Equation&nbsp;<span>1.10</span></a>.</li>
<li>Compute the probabilities using the stock as numeraire and use <a href="#eq-binomialC5">Equation&nbsp;<span>1.16</span></a>.</li>
</ol>
<p>Verify that all of these methods produce the same answer.</p>
</div>
<div id="exr-nolabel" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 1.2 </strong></span>In a binomial model, a put option is equivalent to <span class="math inline">\(\delta_p\)</span> shares of the stock, where <span class="math inline">\(\delta_p = (P_u-P_d)/(S_u-S_d)\)</span> (this will be negative, meaning a short position) and some money invested in the risk-free asset. Derive the amount of money <span class="math inline">\(x\)</span> that should be invested in the risk-free asset to replicate the put option. The value of the put at date~0 must be <span class="math inline">\(x+\delta_pS\)</span>.</p>
</div>
<div id="exr-nolabel" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 1.3 </strong></span>Using the result of the previous exercise, repeat Problem~<span class="math inline">\(\ref{e_binomialcall}\)</span> for a put option.</p>
</div>
<div id="exr-nolabel" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 1.4 </strong></span>Here is a chance to apply option pricing theory to real life. Suppose you have a significant other who would marry you if you ask.</p>
<ol type="1">
<li>What type of option do you have on marriage? Can you tell when it is in the money?</li>
<li>Under what circumstances should you exercise this option early?<br>
</li>
<li>What is the put option in a marriage contract called?</li>
</ol>
<p>Before anyone might be tempted to take this too literally, it should be pointed out that, in some real option settings, keeping one’s options open has both advantages and disadvantages. Airbus’ decision to build a new larger passenger plan can be seen as the early exercise of a call option, justified perhaps because by committing to do so it discouraged Boeing from launching a similar project, both companies presumably believing that the market is too small for both to enter. Thus, the exercise of a real option (commitment) can change the environment in ways that do not arise, or at least we assume not to arise, in financial markets.</p>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-Arrow" class="csl-entry" role="listitem">
Arrow, K. J. 1964. <span>“The Role of Securities in the Optimal Allocation of Risk Bearing.”</span> <em>Review of Economic Studies</em> 31: 91–96.
</div>
<div id="ref-CR" class="csl-entry" role="listitem">
Cox, J., and S. Ross. 1976. <span>“The Valuation of Options for Alternative Stochastic Processes.”</span> <em>Journal of Financial Economics</em> 3: 145–66.
</div>
<div id="ref-GKR" class="csl-entry" role="listitem">
Geman, H., N. El Karoui, and J.-C. Rochet. 1995. <span>“Changes of Numeraire, Changes of Probability Measure and Option Pricing.”</span> <em>Journal of Applied Probability</em> 32: 443–58.
</div>
<div id="ref-HK" class="csl-entry" role="listitem">
Harrison, J. M., and D. Kreps. 1979. <span>“Martingales and Arbitrage in Multiperiod Securities Markets.”</span> <em>Journal of Economic Theory</em> 20: 381–408.
</div>
<div id="ref-Hull" class="csl-entry" role="listitem">
Hull, J. 2002. <em>Options</em>. Futures,; Other Derivatives, Prentice-Hall, 5th&nbsp;ed, Upper Saddle River, New Jersey.
</div>
<div id="ref-McDonald" class="csl-entry" role="listitem">
McDonald, R. 2003. <em>Derivatives Markets</em>. Addison Wesley, Boston.
</div>
</div>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>One caveat is that by asset we mean something that can be stored; thus, for example, electricity is, practically speaking, not an asset.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>We use the standard notation: <span class="math inline">\(\max(a,b)\)</span> denotes the larger of <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> and <span class="math inline">\(\min(a,b)\)</span> denotes the smaller.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>Recall that we are assuming investors earn interest on the proceeds of short sales; otherwise, the <span class="math inline">\(S(t)\)</span> dollars earned from exercising the option and selling the stock will be worth more than the <span class="math inline">\(S(t)\)</span> dollars earned from shorting the stock. In this case, early exercise could be optimal. However, assuming institutional investors can earn interest on the proceeds of shorts, such investors should prefer owning the option and shorting the stock to exercising. This means they should bid up the price of the option to the point where it exceeds the value <span class="math inline">\(S(t)-K\)</span> of exercise. If this is the case, then an investor who cannot earn interest on the proceeds of shorts should simply sell the option in the market rather than exercise it. Thus, a sufficient condition for calls to be better alive than dead is that there be some investors who can earn interest on the proceeds of shorts. This type of reasoning is possible for each situation in this book where the assumption of earning interest on margin deposits is important, and we will not deal with it in this much detail again.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>This fundamental idea is due to Cox and Ross <span class="citation" data-cites="CR">(<a href="#ref-CR" role="doc-biblioref">Cox and Ross 1976</a>)</span>.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>We have proven this in the binomial model, but we will not prove it in general. As is standard in the literature, we will simply adopt it as an assumption. A general proof is in fact difficult and requires a definition of no arbitrage that is considerably more complicated than the simple assumption <a href="#eq-binomialnoarbitrage">Equation&nbsp;<span>1.1</span></a> that is sufficient in the binomial model.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>The term density reflects the fact that in each state of the world <span class="math inline">\(\phi(T)\)</span> can be interpreted as the state price per unit of probability, just as the normal meaning of density is mass per unit of volume.<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p> In general the expectation (or mean) of a random variable is an intuitive concept, and an intuitive understanding will be sufficient for this book, so I will not give a formal definition. It should be understood that we are assuming implicitly, whenever necessary, that the expectation exists (which is not always the case). In this regard, it is useful to note in passing that a product of two random variables <span class="math inline">\(XY\)</span> has a finite mean whenever <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> have finite variances.<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p>The proof is due to Harrison and Kreps <span class="citation" data-cites="HK">(<a href="#ref-HK" role="doc-biblioref">Harrison and Kreps 1979</a>)</span>. See also Geman, El Karoui and Rochet <span class="citation" data-cites="GKR">(<a href="#ref-GKR" role="doc-biblioref">Geman, El Karoui, and Rochet 1995</a>)</span>. We omit here technical assumptions regarding the existence of expectations.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Preface</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Chapter2.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Continuous-Time Models</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>