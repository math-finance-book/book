<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>6&nbsp; Ito’s Formula – Pricing and Hedging Derivative Securities: Theory and Methods</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Chapter_GBM.html" rel="next">
<link href="./Chapter_Brownian.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-8ea72dc5fed832574809a9c94082fbbb.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-933f24a0c1e0be8a62c2179459603458.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-217607b4065b1a3128a07792af3f8e33.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/quarto-contrib/foldbox/foldbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<style>
.Extra {
  --color1: #d5deed;
  --color2: #6d778a;
}
.Exercise {
  --color1: #ede29d;
  --color2: #8c813a;
}
.Rule {
  --color1: #a1bced;
  --color2: #38568f;
}
.Principle {
  --color1: #e3aab2;
  --color2: #8f575f;
}
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter_Brownian.html">Part II: Mathematical Tools</a></li><li class="breadcrumb-item"><a href="./Chapter_Ito.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Ito’s Formula</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Pricing and Hedging Derivative Securities: Theory and Methods</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/math-finance-book/book-code.git" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Part I: Foundations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Options</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Futures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Futures and Swaps</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Arbitrage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Arbitrage Pricing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_OptionPricing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Pricing Digitals</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Part II: Mathematical Tools</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Brownian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Brownian Motion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Ito.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Ito’s Formula</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_GBM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Geometric Brownian Motion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Girsanov.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Girsanov’s Theorem</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Martingales.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Martingale Representation and PDEs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Part III: Black-Scholes and Extensions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_BlackScholes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Black-Scholes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Americans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">American Options</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Greeks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Greeks and Hedging</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_FX.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Foreign Exchange</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Merton.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Merton, Black, and Margrabe</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Asians.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Asians, Barriers, and Spreads</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Exotics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Other Exotics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Part IV: Alternative Models</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_GARCH.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">GARCH Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_StochasticVol.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Stochastic Volatility</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Jumps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Jumps</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_VarianceSwaps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Variance Swaps</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Part V: Numerical Methods</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_MonteCarlo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Monte Carlo Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Binomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Binomial and Trinomial Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_PDEs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">PDE Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Fourier.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Fourier Transforms</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_MachineLearning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Machine Learning</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Part VI: Fixed Income</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_FixedIncome.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Fixed-Income Concepts</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_FixedIncomeDerivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Fixed-Income Derivatives</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Vasicek.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">28</span>&nbsp; <span class="chapter-title">Vasicek and Extensions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Survey.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">29</span>&nbsp; <span class="chapter-title">Term Structure Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendix</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./AppendixA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Miscellaneous Facts about Continuous-Time Models</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter_Brownian.html">Part II: Mathematical Tools</a></li><li class="breadcrumb-item"><a href="./Chapter_Ito.html"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Ito’s Formula</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-c_ito" class="quarto-section-identifier"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Ito’s Formula</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>We use the changes of a Brownian motion to model randomness. We build other stochastic process using those changes. The general idea is <span class="math display">\[\text{change} = \text{mean} + \text{std dev} \times \text{change in Brownian motion}\,.\]</span> The mathematical foundations for this construction, using changes in infinitesimal time periods so that we can model all frequencies, were created by K. Ito. The key concepts are called the Ito integral and Ito’s formula (also called Ito’s lemma). Using these techniques, we can build quite general processes, including processes with non-normal distributions.</p>
<section id="sec_f_discrete" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="sec_f_discrete"><span class="header-section-number">6.1</span> From Discrete to Continuous Time</h2>
<p>We begin with some simple discrete-time examples. Consider a discrete partition of a time interval as before <span class="math display">\[0=t_0 &lt; t_1&lt; \cdots &lt; t_{n-1} &lt; t_n=t\]</span> with equally spaced times. Let <span class="math inline">\(\Delta t\)</span> denote the difference between successive times.</p>
<p>First, we drop the randomness entirely. Consider the equation <span class="math display">\[X_{t_i} - X_{t_{i-1}} = \mu X_{t_{i-1}}\]</span> for a constant <span class="math inline">\(\mu\)</span>. Thus, we have ``change <span class="math inline">\(\,=\,\)</span> mean,’’ where the mean is proportional to the previous value. <span class="quarto-unresolved-ref">?fig-discrete-interest</span> presents a plot of <span class="math inline">\(X\)</span>, for particular values of <span class="math inline">\(\mu\)</span>, <span class="math inline">\(X_0\)</span>, <span class="math inline">\(t\)</span>, and <span class="math inline">\(n\)</span>.</p>
<p>If we increase <span class="math inline">\(n\)</span>, making <span class="math inline">\(\Delta t\)</span> smaller, then <span class="math inline">\(X\)</span> will converge to the solution of the ordinary differential equation <span class="math display">\[\,\mathrm{d}X_t = \mu X_t\,\,\mathrm{d}t\,.\]</span> The solution of this equation is also shown in <span class="quarto-unresolved-ref">?fig-discrete-interest</span>. The differential equation has a known solution, which is <span class="math display">\[X_t = X_0 \mathrm{e}^{\mu t}\,.\]</span> To verify this, we only need to differentiate: <span class="math display">\[\frac{\,\mathrm{d}X_t}{\,\mathrm{d}t} = \mu X_0 \mathrm{e}^{\mu t} = \mu X_t\,.\]</span></p>
<p>Now, let’s include randomness. Let <span class="math inline">\(B\)</span> be a standard Brownian motion and consider the equation <span class="math display">\[X_{t_i} - X_{t_{i-1}} = \mu X_{t_{i-1}} + \sigma \Delta B_{t_i}\]</span> where <span class="math inline">\(\sigma\)</span> is another constant, and <span class="math inline">\(\Delta B_{t_i} = B_{t_i} - B_{t_{i-1}}\)</span>. Now, the process <span class="math inline">\(X\)</span> has random paths, due to the random noise <span class="math inline">\(\Delta B_{t_i}\)</span>. An example of a path is shown in <span class="quarto-unresolved-ref">?fig-discrete-random</span>. Ito showed how we can take the limit of this equation as <span class="math inline">\(\Delta t\)</span> decreases and make sense of the equation <span class="math display">\[\,\mathrm{d}X_t = \mu X_t\,\,\mathrm{d}t + \sigma\,\,\mathrm{d}B_t\,.\]</span> The solution <span class="math inline">\(X\)</span> of this equation is <span class="math display">\[X_t = \mathrm{e}^{\mu t}X_0 + \int_0^t \mathrm{e}^{\mu(s-t)}\,\,\mathrm{d}B_s\,.\]</span> The integral in this solution is called an Ito integral. An approximate path of this process <span class="math inline">\(X\)</span> is also shown in <span class="quarto-unresolved-ref">?fig-discrete-random</span>. It is generated by taking <span class="math inline">\(\Delta t\)</span> very small, just as we generated approximate paths of Brownian motions in <a href="Chapter_Brownian.html" class="quarto-xref"><span>Chapter 5</span></a>.</p>
</section>
<section id="sec-s_itoprocesses" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="sec-s_itoprocesses"><span class="header-section-number">6.2</span> Ito Processes</h2>
<p>An Ito process is a variable <span class="math inline">\(X\)</span> that changes over time as <span id="eq-itoprocess"><span class="math display">\[
\,\mathrm{d}X_t = \mu_t\,\,\mathrm{d}t+\sigma_t\,\,\mathrm{d}B_t\;,
\qquad(6.1)\]</span></span></p>
<p>where <span class="math inline">\(B\)</span> is a Brownian motion, and <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> can also be random processes. Some regularity conditions are needed on <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> which we will omit, except for noting that <span class="math inline">\(\mu_t\)</span> and <span class="math inline">\(\sigma_t\)</span> should be known at time <span class="math inline">\(t\)</span>. In particular, constant <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> are certainly acceptable. When we add the changes over time, we get <span class="math display">\[X_t=X_0 + \int_0^T\mu_t\,\,\mathrm{d}t + \int_0^T\sigma_t\,\,\mathrm{d}B_t\]</span> for any <span class="math inline">\(T&gt;0\)</span>. There are other types of random processes, in particular, processes that can jump, but we will not consider them in this book.</p>
<p>We will not formally define the integral <span class="math inline">\(\int_0^T \sigma_t\,\,\mathrm{d}B_t\)</span>, but it should be understood as being approximately equal to a discrete sum of the form <span class="math display">\[\sum_{i=1}^N \sigma_{t_{i-1}}\,\Delta B_{t_i}\; ,\]</span> where <span class="math inline">\(0=t_0 &lt; \cdots t_N=T\)</span> and the time periods <span class="math inline">\(t_i-t_{i-1}\)</span> are small. Given that we can simulate the changes <span class="math inline">\(\Delta B_{t_i}\)</span> as random normals, we can approximately simulate the random variable <span class="math inline">\(\int_0^T \sigma_t\,\,\mathrm{d}B_t\)</span> and hence we can approximately simulate <span class="math inline">\(X_t\)</span>.</p>
<p>An Ito process evolves continuously over time. We interpret <span class="math inline">\(\mu_t\,\,\mathrm{d}t\)</span> as the expected change in <span class="math inline">\(X\)</span> in an instant <span class="math inline">\(\,\mathrm{d}t\)</span>. The quantity <span class="math inline">\(\mu_t\)</span> is also called the drift of the process <span class="math inline">\(X\)</span> at time <span class="math inline">\(t\)</span>. The coefficient <span class="math inline">\(\sigma_t\)</span> is called the diffusion coefficient of <span class="math inline">\(X\)</span> at time <span class="math inline">\(t\)</span>. </p>
<p>If <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> are constant, it is standard to refer to an Ito process <span class="math inline">\(X\)</span> as a <span class="math inline">\((\mu,\sigma)\)</span>–Brownian motion. In this case we have <span class="math display">\[X_t= \mu t + \sigma B_t\]</span></p>
<p>Of course, it is not a martingale when <span class="math inline">\(\mu\neq 0\)</span>. For example, when <span class="math inline">\(\mu&gt;0\)</span>, <span class="math inline">\(X\)</span> tends to increase over time. However, it has the jiggling property of a Brownian motion, scaled by the diffusion coefficient <span class="math inline">\(\sigma\)</span>.</p>
<p>A very important fact is that an Ito process such as <span class="math inline">\(X\)</span> in <a href="#eq-itoprocess" class="quarto-xref">Equation&nbsp;<span>6.1</span></a> can be a martingale only if <span class="math inline">\(\mu=0\)</span>. This should seem sensible, because <span class="math inline">\(\mu\,\,\mathrm{d}t\)</span> is the expected change in <span class="math inline">\(X\)</span>, and a process is a martingale only if its expected change is zero.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> This observation plays a fundamental role in deriving asset pricing formulas, as we will begin to see in <a href="Chapter_Girsanov.html#sec-s_girsanov" class="quarto-xref"><span>Section 8.1</span></a>. Conversely, if <span class="math inline">\(\mu=0\)</span> and <span id="eq-regularity1"><span class="math display">\[
\mathbb{E}\left[\int_0^T \sigma^2_t\,\,\mathrm{d}t\right] &lt; \infty
\qquad(6.2)\]</span></span></p>
<p>for each <span class="math inline">\(T\)</span>, then the Ito process is a continuous martingale, and the variance of its date–<span class="math inline">\(T\)</span> value, calculated with the information available at date <span class="math inline">\(0\)</span>, is: <span class="math display">\[\mathrm{var}[X_t] = \mathbb{E}\left[\int_0^T \sigma^2_t\,\,\mathrm{d}t\right]\; .\]</span></p>
<p>Whether <span class="math inline">\(\mu\)</span> is zero or not, and independently of the assumption stated as <a href="#eq-regularity1" class="quarto-xref">Equation&nbsp;<span>6.2</span></a>, the quadratic variation of the Ito process <span class="math inline">\(X\)</span> is <span id="eq-itoquadraticvariation"><span class="math display">\[
\lim_{N \rightarrow \infty} \sum_{i=1}^N[\Delta X_{t_i}]^2 = \int_0^T \sigma^2_t\,\,\mathrm{d}t
\qquad(6.3)\]</span></span></p>
<p>with probability one. Thus we obtain (when <span class="math inline">\(\mu=0\)</span> and <a href="#eq-regularity1" class="quarto-xref">Equation&nbsp;<span>6.2</span></a> holds) a continuous martingale with a different quadratic variation than a Brownian motion via the diffusion function <span class="math inline">\(\sigma\)</span>. In fact, when <a href="#eq-regularity1" class="quarto-xref">Equation&nbsp;<span>6.2</span></a> holds, a somewhat more precise definition of the stochastic integral is the (unique) martingale with quadratic variation given by <a href="#eq-itoquadraticvariation" class="quarto-xref">Equation&nbsp;<span>6.3</span></a>.</p>
<p>To compute the quadratic variation of an Ito process, we use the following simple and important rules (for the sake of brevity, we drop the <span class="math inline">\(_t\)</span> notation from <span class="math inline">\(B_t\)</span> here and sometimes later):</p>
<div id="section" class="Rule" title="">
<p></p><details class="Rule fbx-simplebox fbx-default" open=""><summary><strong>Calculation Rule 6.1</strong></summary><div><span id="eq-dtsquared"><span class="math display">\[
(\,\mathrm{d}t)^2 = 0\;,
\qquad(6.4)\]</span></span><p></p>
<p><span id="eq-dB"><span class="math display">\[
(\,\mathrm{d}t)(\,\mathrm{d}B) =0\;,
\qquad(6.5)\]</span></span></p>
<p><span id="eq-dBsquared"><span class="math display">\[
(\,\mathrm{d}B)^2 =\,\mathrm{d}t\;.
\qquad(6.6)\]</span></span></p>
</div></details>
</div>
<p>We apply these rules to compute the quadratic variation of <span class="math inline">\(X\)</span> as follows:</p>
<div id="section-1" class="Rule" title="">
<p></p><details class="Rule fbx-simplebox fbx-default" open=""><summary><strong>Calculation Rule 6.2</strong></summary><div>If <span class="math inline">\(\,\mathrm{d}X = \mu\,\,\mathrm{d}t + \sigma\,\,\mathrm{d}B\)</span> for a Brownian motion <span class="math inline">\(B\)</span>, then <span class="math display">\[\begin{align*}
(\,\mathrm{d}X)^2 &amp;= (\mu\,\,\mathrm{d}t+\sigma\,\,\mathrm{d}B)^2\\
&amp;= \mu^2(\,\mathrm{d}t)^2 + 2\mu\sigma(\,\mathrm{d}t)(\,\mathrm{d}B) + \sigma^2(\,\mathrm{d}B)^2\\
&amp;= 0 + 0 + \sigma^2\,\,\mathrm{d}t\;.
\end{align*}\]</span><p></p>
</div></details>
</div>
<p>We integrate this from 0 to <span class="math inline">\(T\)</span> to obtain the quadratic variation <a href="#eq-itoquadraticvariation" class="quarto-xref">Equation&nbsp;<span>6.3</span></a> over that time period:<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> <span id="eq-itoquadraticvariation2"><span class="math display">\[
\int_0^T (\,\mathrm{d}X_t)^2 = \int_0^T \sigma^2_t\,\,\mathrm{d}t\;.
\qquad(6.7)\]</span></span></p>
</section>
<section id="sec-s_itosformula" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="sec-s_itosformula"><span class="header-section-number">6.3</span> Ito’s Formula</h2>
<p>First we recall some facts of the ordinary calculus. If <span class="math inline">\(y=g(x)\)</span> and <span class="math inline">\(x = f_t\)</span> with <span class="math inline">\(f\)</span> and <span class="math inline">\(g\)</span> being continuously differentiable functions, then <span class="math display">\[\frac{\,\mathrm{d}y}{\,\mathrm{d}t} = \frac{\,\mathrm{d}y}{\,\mathrm{d}x}\times \frac{\,\mathrm{d}x}{\,\mathrm{d}t} = g'(x_t)f'_t\; .\]</span> Over a time period <span class="math inline">\([0,T]\)</span>, this implies that <span class="math display">\[y_t = y_0 + \int_0^T \frac{\,\mathrm{d}y}{\,\mathrm{d}t}\,\,\mathrm{d}t = y_0 + \int_0^T g'(x_t)f'_t\,\,\mathrm{d}t\; .\]</span> Substituting <span class="math inline">\(\,\mathrm{d}x_t = f'_t\,\,\mathrm{d}t\)</span>, we can also write this as <span id="eq-ordinarycalculus"><span class="math display">\[
y_t = y_0 + \int_0^T g'(x_t)\,\,\mathrm{d}x_t\;.
\qquad(6.8)\]</span></span></p>
<p>We can contrast <a href="#eq-ordinarycalculus" class="quarto-xref">Equation&nbsp;<span>6.8</span></a> with a special case of Ito’s formula for the calculus of Ito processes (the more general formula will be discussed in the next section). If <span class="math inline">\(B\)</span> is a Brownian motion and <span class="math inline">\(Y = g(B)\)</span> for a twice-continuously differentiable function <span class="math inline">\(g\)</span>, then <span id="eq-itonew1"><span class="math display">\[
Y_t = Y_0 + \int_0^T g'(B_t)\,\,\mathrm{d}B_t + \frac{1}{2}\int_0^T g''(B_t)\,\,\mathrm{d}t\;.
\qquad(6.9)\]</span></span></p>
<p>Thus, relative to the ordinary calculus, Ito’s formula has an extra term involving the second derivative <span class="math inline">\(g''\)</span>. We can write <a href="#eq-itonew1" class="quarto-xref">Equation&nbsp;<span>6.9</span></a> in differential form as <span class="math display">\[\,\,\mathrm{d}Y_t = \frac{1}{2}g''(B_t)\,\,\mathrm{d}t + g'(B_t)\,\,\mathrm{d}B_t.\]</span> Thus, <span class="math inline">\(Y=g(B)\)</span> is an Ito process with drift <span class="math inline">\(g''(B_t)/2\)</span> and diffusion coefficient <span class="math inline">\(g'(B_t)\)</span>.</p>
<p>To gain some intuition for the extra term in Ito’s formula, we return to the ordinary calculus. Given dates <span class="math inline">\(t&lt;u\)</span>, the derivative defines a linear approximation of the change in <span class="math inline">\(y\)</span> over this time period; i.e., setting <span class="math inline">\(\Delta x = x(u)-x_t\)</span> and <span class="math inline">\(\Delta y = y(u) - y_t\)</span>, we have the approximation <span class="math display">\[\Delta y \approx g'(x_t) \,\Delta x\; .\]</span> A better approximation is given by the second-order Taylor series expansion <span class="math display">\[\Delta y \approx g'(x_t)\,\Delta x + \frac{1}{2} g''(x_t)\,[\Delta x]^2\; .\]</span> An interpretation of <a href="#eq-ordinarycalculus" class="quarto-xref">Equation&nbsp;<span>6.8</span></a> is that the linear approximation works perfectly for infinitesimal time periods <span class="math inline">\(\,\mathrm{d}t\)</span>, because we can compute the change in <span class="math inline">\(y\)</span> over the time period <span class="math inline">\([0,T]\)</span> by summing up the infinitesimal changes <span class="math inline">\(g'(x_t)\,\,\mathrm{d}x_t\)</span>. In other words, the second-order term <span class="math inline">\(\frac{1}{2} g''(x_t)\,[\Delta x]^2\)</span> vanishes when we consider very small time periods.</p>
<p>The second-order Taylor series expansion in the case of <span class="math inline">\(Y=g(B)\)</span> is <span class="math display">\[\Delta Y \approx g'(B_t)\,\Delta B + \frac{1}{2} g''(B_t)\,[\Delta B]^2\; .\]</span> For example, given a partition <span class="math inline">\(0=t_0 &lt; t_1 &lt; \cdots &lt; t_N=T\)</span> of the time interval <span class="math inline">\([0,T]\)</span>, we have, with the same notation we have used earlier,</p>
<p><span class="math display">\[
Y_t = Y_0 + \sum_{i=1}^N \Delta Y_{t_i}  
\]</span> <span id="eq-itonew2"><span class="math display">\[
\approx Y_0 + \sum_{i=1}^N g'(B_{t_{i-1}})\,\Delta B_{t_i} + \frac{1}{2} \sum_{i=1}^N g''(B_{t_{i-1}})\,[\Delta B_{t_i}]^2\;.
\qquad(6.10)\]</span></span></p>
<p>If we make the time intervals <span class="math inline">\(t_i-t_{i-1}\)</span> shorter, letting <span class="math inline">\(N \rightarrow \infty\)</span>, then we cannot expect that the extra term here will disappear, leading to the result of the ordinary calculus shown in@eq-ordinarycalculus, because we know that <span class="math display">\[\lim_{N \rightarrow \infty} \sum_{i=1}^N [\Delta B_{t_i}]^2 = T\; ,\]</span> whereas for the continuously differentiable function <span class="math inline">\(x_t = f_t\)</span>, the same limit is zero. In fact it seems sensible to interpret the limit of <span class="math inline">\([\Delta B]^2\)</span> as <span class="math inline">\((\,\mathrm{d}B)^2 =\,\mathrm{d}t\)</span>. This is perfectly consistent with Ito’s formula: if we take the limit in <a href="#eq-itonew2" class="quarto-xref">Equation&nbsp;<span>6.10</span></a>, replacing the limit of <span class="math inline">\([\Delta B_{t_i}]^2\)</span> with <span class="math inline">\((\,\mathrm{d}B)^2 = \,\mathrm{d}t\)</span>, we obtain <a href="#eq-itonew1" class="quarto-xref">Equation&nbsp;<span>6.9</span></a>.</p>
<p>The code below defines a function <span class="math inline">\(g(x)=e^{x}\)</span> (<span class="math inline">\(g'(x)=e^x\)</span> and <span class="math inline">\(g''(x) = e^x\)</span>) and simulates the value <span class="math inline">\(e^{B_t}\)</span> in two ways. The first way is to simulate the Ito expansion <span class="math display">\[e^{B_t}=1 + \int_0^t e^{B_s} d B_s + \frac{1}{2}\int_0^t e^{B_s} ds\]</span> using the discretization <span class="math display">\[\Delta e^{B_t}= e^{B_t} \Delta B_t + \frac{1}{2} e^{B_t} \Delta t \]</span></p>
<div id="cell-simulated_ito" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">import numpy as np</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">n = 1000</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">m = 1</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a function and its first and second derivative</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co">G = lambda x: np.exp(x)</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">DG = lambda x: np.exp(x)</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co">DDG = lambda x: np.exp(x)</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Build G'(x)\,\d  B</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">GdB = np.zeros(shape = (n, m))</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co">GdB[0] = np.repeat(DG_0, m) * inc[0]</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co">GdB[1:] = DG(Bt[0:n - 1]) * inc[1:]</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co">SI = np.zeros(shape = (n, m))</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Stochastic Integral is cumulative sum of G'(B)dB plus initial</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co">SI = GdB.cumsum(axis = 0) + 0.5 * (DDG(Bt[0:n])*Q).cumsum(axis =0) + G_0</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Compare Ito's Lemma </span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co">plt.figure(figsize=(9,6))</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="co">plt.plot(t[0:n], SI[:,0])</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>&lt;&gt;:1: SyntaxWarning:

invalid escape sequence '\,'

&lt;&gt;:1: SyntaxWarning:

invalid escape sequence '\,'

C:\Users\kerry\AppData\Local\Temp\ipykernel_2840\3168237844.py:1: SyntaxWarning:

invalid escape sequence '\,'
</code></pre>
</div>
<div id="simulated_ito" class="cell-output cell-output-display" data-execution_count="1">
<pre><code>"\nimport numpy as np\n\nn = 1000\nm = 1\n\n# Define a function and its first and second derivative\nG = lambda x: np.exp(x)\nDG = lambda x: np.exp(x)\nDDG = lambda x: np.exp(x)\n# Build G'(x)\\,\\d  B\nGdB = np.zeros(shape = (n, m))\nGdB[0] = np.repeat(DG_0, m) * inc[0]\nGdB[1:] = DG(Bt[0:n - 1]) * inc[1:]\nSI = np.zeros(shape = (n, m))\n# Stochastic Integral is cumulative sum of G'(B)dB plus initial\nSI = GdB.cumsum(axis = 0) + 0.5 * (DDG(Bt[0:n])*Q).cumsum(axis =0) + G_0\n# Compare Ito's Lemma \nplt.figure(figsize=(9,6))\nplt.plot(t[0:n], SI[:,0])\n"</code></pre>
<p>Simulated Ito Formula</p>
</div>
</div>
<p>Below is the exact simulated solution <span class="math inline">\(e^{B_t}\)</span>. It is almost impossible to see a difference.</p>
<div id="cell-simulated_exact" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">#exact solution</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">plt.figure(figsize=(9,6))</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">plt.plot(t[0:n], G(Bt[1:n + 1, 0]))</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="simulated_exact" class="cell-output cell-output-display" data-execution_count="2">
<pre><code>'\nplt.figure(figsize=(9,6))\nplt.plot(t[0:n], G(Bt[1:n + 1, 0]))\n'</code></pre>
<p>Simulated Exact Solution</p>
</div>
</div>
<p>Below we plot the <span class="math inline">\(\int_0^t \frac{1}{2} g''(B_s) ds\)</span> term. Without this term the two plots above will not match.</p>
<div id="cell-correction" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">QVV = np.zeros(shape = (n, m))</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">QVV = 0.5*(DDG(Bt[0:n]) * Q).cumsum(axis = 0)</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">plt.figure(figsize=(9,6))</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">plt.plot(t[0:n], QVV[:,0])</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="correction" class="cell-output cell-output-display" data-execution_count="3">
<pre><code>'\nQVV = np.zeros(shape = (n, m))\nQVV = 0.5*(DDG(Bt[0:n]) * Q).cumsum(axis = 0)\nplt.figure(figsize=(9,6))\nplt.plot(t[0:n], QVV[:,0])\n'</code></pre>
<p>Second Derivative Term in Ito’s Formula</p>
</div>
</div>
<p>To see the accuracy of Ito’s approximation over different amounts of subdivisions, as well as the impact of the second derivative term <span class="math inline">\(\int_0^t (1/2)g''(B_s)ds\)</span>, we encourage readers to interact with the plot below.</p>
<div id="fig-interactive_ito" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-interactive_ito-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6.1: Accuracy of Ito’s approximation
</figcaption>
<div aria-describedby="fig-interactive_ito-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<iframe width="780" height="1000" src="https://derivatives-book-26ac36570fb8.herokuapp.com/math_finance_book_plots/ito_approx_plot">
</iframe>
</div>
</figure>
</div>
</section>
<section id="multiple-ito-processes" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="multiple-ito-processes"><span class="header-section-number">6.4</span> Multiple Ito Processes</h2>
<p>Now consider two Ito processes</p>
<p><span id="eq-itoprocess110"><span class="math display">\[
\,\mathrm{d}X_t = \mu_x_t\,\,\mathrm{d}t + \sigma_x_t\,\,\mathrm{d}B_x_t\;,
\qquad(6.11)\]</span></span></p>
<p><span id="eq-itoprocess111"><span class="math display">\[
\,\mathrm{d}Y_t = \mu_y_t\,\,\mathrm{d}t + \sigma_y_t\,\,\mathrm{d}B_y_t\;,
\qquad(6.12)\]</span></span></p>
<p>where <span class="math inline">\(B_x\)</span> and <span class="math inline">\(B_y\)</span> can be different Brownian motions. The relation between the two Brownian motions is determined by their covariance or correlation. Given dates <span class="math inline">\(t&lt;u\)</span>, we know that both changes <span class="math inline">\(B_x(u)-B_x_t\)</span> and <span class="math inline">\(B_y(u)-B_y_t\)</span> are normally distributed with mean 0 and variance equal to <span class="math inline">\(u-t\)</span>. There will exist a (possibly random) process <span class="math inline">\(\rho\)</span> such that the covariance of these two normally distributed random variables, given the information at date <span class="math inline">\(t\)</span>, is <span class="math display">\[\mathbb{E}_t \left[\int_t^u \rho_s\,\,\mathrm{d}s\right]\; .\]</span> The process <span class="math inline">\(\rho\)</span> is called the correlation coefficient of the two Brownian motions, because when it is constant the correlation of the changes <span class="math inline">\(B_x(u)-B_x_t\)</span> and <span class="math inline">\(B_y(u)-B_y_t\)</span> is <span class="math display">\[\frac{\text{covariance}}{\text{product of standard deviations}}  = \frac{\int_t^u \rho \,\,\mathrm{d}s}{\sqrt{u-t} \sqrt{u-t}} = \frac{(u-t)\rho}{u-t} = \rho\; .\]</span> Moreover, given increasingly fine partitions <span class="math inline">\(0=t_0 &lt; \cdots &lt; t_N=T\)</span> of an interval <span class="math inline">\([0,T]\)</span> as before, we will have <span class="math display">\[\sum_{i=1}^N \Delta B_x_{t_i} \times \Delta B_y_{t_i} \rightarrow \int_0^T \rho_t\,\,\mathrm{d}t\]</span> as <span class="math inline">\(N \rightarrow \infty\)</span>, with probability one.</p>
<p>We know that <span id="eq-itoprocess112"><span class="math display">\[\sum _{i=1}^N [\Delta X_{t_i}]^2 \rightarrow \int_0^T \sigma_x^2_t\,\,\mathrm{d}t \quad \text{and}\quad  \sum _{i=1}^N [\Delta Y_{t_i}]^2 \rightarrow \int_0^T\sigma_y^2_t\,\,\mathrm{d}t\;.
\qquad(6.13)\]</span></span></p>
<p>Furthermore, it can be shown that the sum of products satisfies <span id="eq-itoprocess113"><span class="math display">\[
\sum_{i=1}^N \Delta X_{t_i} \times \Delta Y_{t_i} \rightarrow \int_0^T \sigma_x_t\sigma_y_t\rho_t\,\,\mathrm{d}t\;.
\qquad(6.14)\]</span></span></p>
<div id="section-2" class="Rule" title="">
<p></p><details class="Rule fbx-simplebox fbx-default" open=""><summary><strong>Calculation Rule 6.3</strong></summary><div>By adding the rule <span class="math display">\[
(\,\mathrm{d}B_x)(\,\mathrm{d}B_y) = \rho\,\,\mathrm{d}t
\]</span> {#eq-,,} to the rules <span class="citation" data-cites="eq">(<a href="#ref-eq" role="doc-biblioref"><strong>eq?</strong></a>)</span>-,squared–<span class="citation" data-cites="eq">(<a href="#ref-eq" role="doc-biblioref"><strong>eq?</strong></a>)</span>-,squared, we can compute the limit in <a href="#eq-itoprocess113" class="quarto-xref">Equation&nbsp;<span>6.14</span></a> as<p></p>
<p><span class="math display">\[
\lim_{N \rightarrow\infty} \sum_{i=1}^N \Delta X_{t_i} \times \Delta Y_{t_i}  = \int_0^T (\,\mathrm{d}X)(\,\mathrm{d}Y)
\]</span> <span class="math display">\[
= \int_0^T (\mu_x\,\,\mathrm{d}t +\sigma_x\,\,\mathrm{d}B_x)(\mu_y\,\,\mathrm{d}t+\sigma_y\,\,\mathrm{d}B_y)
\]</span> <span id="eq-itojointvariation"><span class="math display">\[
= \int_0^T\sigma_x_t\sigma_y_t \rho_t\,\,\mathrm{d}t\;.
\qquad(6.15)\]</span></span></p>
</div></details>
</div>
<p>The most general case of Ito’s formula that we will need is for a function <span class="math inline">\(Z_t = g(t, X_t, Y_t)\)</span> where <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are Ito processes as in <a href="#eq-itoprocess110" class="quarto-xref">Equation&nbsp;<span>6.11</span></a> - <a href="#eq-itoprocess111" class="quarto-xref">Equation&nbsp;<span>6.12</span></a>. In this case, Ito’s formula is<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<p><span class="math display">\[
Z_t = Z_0 + \int_0^T \frac{\partial g}{\partial t}\,\,\mathrm{d}t + \int_0^T \frac{\partial g}{\partial x}\,\,\mathrm{d}X_t + \int_0^T \frac{\partial g}{\partial y}\,\,\mathrm{d}Y_t
\]</span> <span class="math display">\[
+ \frac{1}{2} \int_0^T \frac{\partial^2 g}{\partial x^2}\,(\,\mathrm{d}X_t)^2 +  \frac{1}{2} \int_0^T \frac{\partial^2 g}{\partial y^2}\,(\,\mathrm{d}Y_t)^2
\]</span> <span id="eq-itogeneralnew"><span class="math display">\[
+  \int_0^T \frac{\partial^2 g}{\partial x\partial y}\,(\,\mathrm{d}X_t)( \,\mathrm{d}Y_t)\;.
\qquad(6.16)\]</span></span></p>
<p>In this equation, we apply <a href="#eq-dtsquared" class="quarto-xref">Equation&nbsp;<span>6.4</span></a>–<a href="#eq-dB" class="quarto-xref">Equation&nbsp;<span>6.5</span></a> to compute <span class="math display">\[\begin{align*}
(\,\mathrm{d}X_t)^2&amp;= \sigma_x^2_t\,\,\mathrm{d}t\; ,\\
(\,\mathrm{d}Y_t)^2 &amp;= \sigma_y^2_t\,\,\mathrm{d}t\; ,\\
(\,\mathrm{d}X_t)( \,\mathrm{d}Y_t) &amp;= \sigma_x_t\sigma_y_t\rho_t\,\,\mathrm{d}t\;.
\end{align*}\]</span> Ito’s formula (<a href="#eq-itogeneralnew" class="quarto-xref">Equation&nbsp;<span>6.16</span></a>) appears a bit simpler (and easier to remember) if we write it in differential form. We have:</p>
<div id="section-3" class="Rule" title="">
<p></p><details class="Rule fbx-simplebox fbx-default" open=""><summary><strong>Calculation Rule 6.4</strong></summary><div>If <span class="math inline">\(Z_t = g(t, X_t, Y_t)\)</span> where <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are Ito processes as in <a href="#eq-itoprocess110" class="quarto-xref">Equation&nbsp;<span>6.11</span></a> - <a href="#eq-itoprocess111" class="quarto-xref">Equation&nbsp;<span>6.12</span></a>, then<p></p>
<p><span class="math display">\[
\,\mathrm{d}Z =  \frac{\partial g}{\partial t}\,\,\mathrm{d}t + \frac{\partial g}{\partial x}\,\,\mathrm{d}X +  \frac{\partial g}{\partial y}\,\,\mathrm{d}Y + \frac{1}{2} \frac{\partial^2 g}{\partial x^2}\,(\,\mathrm{d}X)^2 +  \frac{1}{2}  \frac{\partial^2 g}{\partial y^2}\,(\,\mathrm{d}Y)^2
\]</span> <span id="eq-itogeneralnew2"><span class="math display">\[
+ \frac{\partial^2 g}{\partial x\partial y}\,(\,\mathrm{d}X)(\,\mathrm{d}Y)\;.
\qquad(6.17)\]</span></span></p>
</div></details>
</div>
</section>
<section id="sec-s_examples" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="sec-s_examples"><span class="header-section-number">6.5</span> Examples of Ito’s Formula</h2>
<p>The following are the applications of Ito’s formula that will be used most frequently in the book. They follow from the boxed formula at the end of the previous section by taking <span class="math inline">\(g(x,y)=xy\)</span> or <span class="math inline">\(g(x,y)=y/x\)</span> or <span class="math inline">\(g(x)=e^x\)</span> or <span class="math inline">\(g(x) = \log x\)</span>.</p>
<div id="Rule-6.5" class="Rule">
<p></p><details class="Rule fbx-simplebox fbx-default" open=""><summary><strong>Calculation Rule 6.5</strong></summary><div><strong>Products.</strong> If <span class="math inline">\(Z=XY\)</span>, then <span class="math inline">\(\,\mathrm{d}Z=X\,\,\mathrm{d}Y+Y\,\,\mathrm{d}X + (\,\mathrm{d}X)(\,\mathrm{d}Y)\)</span>. We can write this as <span id="eq-rule2"><span class="math display">\[
\frac{\,\mathrm{d}Z}{Z}=\frac{\,\mathrm{d}X}{X} + \frac{\,\mathrm{d}Y}{Y} + \left(\frac{\,\mathrm{d}X}{X}\right)\left(\frac{\,\mathrm{d}Y}{Y}\right)\;.
\qquad(6.18)\]</span></span><p></p>
</div></details>
</div>
<div id="Rule-6.6" class="Rule">
<p></p><details class="Rule fbx-simplebox fbx-default" open=""><summary><strong>Calculation Rule 6.6</strong></summary><div><strong>Ratios.</strong> If <span class="math inline">\(Z=Y/X\)</span>, then <span id="eq-rule4"><span class="math display">\[\frac{\,\mathrm{d}Z}{Z} = \frac{\,\mathrm{d}Y}{Y} -\frac{\,\mathrm{d}X}{X} - \left(\frac{\,\mathrm{d}Y}{Y}\right)\left(\frac{\,\mathrm{d}X}{X}\right) + \left(\frac{\,\mathrm{d}X}{X}\right)^2\;.
\qquad(6.19)\]</span></span><p></p>
</div></details>
</div>
<div id="Rule-6.7" class="Rule">
<p></p><details class="Rule fbx-simplebox fbx-default" open=""><summary><strong>Calculation Rule 6.7</strong></summary><div><strong>Exponentials.</strong> If <span class="math inline">\(Z=\mathrm{e}^X\)</span>, then <span id="eq-rule5"><span class="math display">\[\frac{\,\mathrm{d}Z}{Z}=\,\mathrm{d}X + \frac{(\,\mathrm{d}X)^2}{2}\;.
\qquad(6.20)\]</span></span><p></p>
</div></details>
</div>
<div id="Rule-6.8" class="Rule">
<p></p><details class="Rule fbx-simplebox fbx-default" open=""><summary><strong>Calculation Rule 6.8</strong></summary><div><strong>Logarithms.</strong> If <span class="math inline">\(Z=\log X\)</span>, then <span id="eq-rule6"><span class="math display">\[
\,\mathrm{d}Z=\frac{\,\mathrm{d}X}{X} - \frac{1}{2}\left(\frac{\,\mathrm{d}X}{X}\right)^2\;.
\qquad(6.21)\]</span></span><p></p>
</div></details>
</div>
<div id="Rule-6.9" class="Rule">
<p></p><details class="Rule fbx-simplebox fbx-default" open=""><summary><strong>Calculation Rule 6.9</strong></summary><div><strong>Compounding/Discounting.</strong> Let<br>
<span class="math display">\[Y_t =\exp\left(\int_0^t q_s\,\,\mathrm{d}s\right)\]</span> for some (possibly random) process <span class="math inline">\(q\)</span> and define <span class="math inline">\(Z=XY\)</span> for any Ito process <span class="math inline">\(X\)</span>. The usual calculus gives us <span class="math inline">\(\,\mathrm{d}Y_t=q_tY_t\,\,\mathrm{d}t\)</span>, and the product rule above implies <span id="eq-compdisc1"><span class="math display">\[
\frac{\,\mathrm{d}Z}{Z}=q\,\,\mathrm{d}t + \frac{\,\mathrm{d}X}{X}\;.
\qquad(6.22)\]</span></span><p></p>
<p>This is the same as in the usual calculus.</p>
</div></details>
</div>
</section>
<section id="section-4" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="section-4"></h2>
<div id="Exercise-6.1" class="Exercise">
<p></p><details class="Exercise fbx-simplebox fbx-default"><summary><strong>Exercise 6.1</strong></summary><div>Consider a discrete partition <span class="math inline">\(0=t_0 &lt; t_1 &lt; \cdots t_N=T\)</span> of the time interval <span class="math inline">\([0,T]\)</span> with <span class="math inline">\(t_i - t_{i-1} = \Delta t = T/N\)</span> for each <span class="math inline">\(i\)</span>. Consider the function <span class="math display">\[X_t=\mathrm{e}^t\; .\]</span> Write a code, which computes and plots <span class="math inline">\(\sum_{i=1}^N [\Delta X_{t_i}]^2\)</span>, where <span class="math display">\[\Delta X_{t_i} = X_{t_i}-X_{t_{i-1}} = \mathrm{e}^{t_i} - \mathrm{e}^{t_{i-1}}\; .\]</span><p></p>
</div></details>
</div>
<div id="Exercise-6.2" class="Exercise">
<p></p><details class="Exercise fbx-simplebox fbx-default"><summary><strong>Exercise 6.2</strong></summary><div>Repeat the previous problem for the function <span class="math inline">\(X_t = t^3\)</span>. In both this and the previous problem, what happens to <span class="math inline">\(\sum_{i=1}^N [\Delta X_{t_i}]^2\)</span> as <span class="math inline">\(N \rightarrow \infty\)</span>?<p></p>
</div></details>
</div>
<div id="Exercise-6.3" class="Exercise">
<p></p><details class="Exercise fbx-simplebox fbx-default"><summary><strong>Exercise 6.3</strong></summary><div>Either use the code provided or write a code to compute <span class="math inline">\(\sum_{i=1}^N [\Delta B_{t_i}]^2\)</span>, where <span class="math inline">\(B\)</span> is a simulated Brownian motion. For a given <span class="math inline">\(T\)</span>, what happens to the sum as <span class="math inline">\(N \rightarrow \infty\)</span>?<p></p>
</div></details>
</div>
<div id="Exercise-6.4" class="Exercise">
<p></p><details class="Exercise fbx-simplebox fbx-default"><summary><strong>Exercise 6.4</strong></summary><div>Repeat the previous problem to compute <span class="math inline">\(\sum_{i=1}^N [\Delta B_{t_i}]^3\)</span>, where <span class="math inline">\(B\)</span> is a simulated Brownian motion. For a given <span class="math inline">\(T\)</span>, what happens to the sum as <span class="math inline">\(N \rightarrow \infty\)</span>?<p></p>
</div></details>
</div>
<div id="Exercise-6.5" class="Exercise">
<p></p><details class="Exercise fbx-simplebox fbx-default"><summary><strong>Exercise 6.5</strong></summary><div>Repeat the previous problem, computing instead <span class="math inline">\(\sum_{i=1}^N |\Delta B_{t_i}|\)</span> where <span class="math inline">\(| \cdot |\)</span> denotes the absolute value. What happens to this sum as <span class="math inline">\(N \rightarrow \infty\)</span>?<p></p>
</div></details>
</div>
<div id="Exercise-6.6" class="Exercise">
<p></p><details class="Exercise fbx-simplebox fbx-default"><summary><strong>Exercise 6.6</strong></summary><div>Use Ito’s Lemma to derive the stochastic differential equation for <span class="math inline">\(S_t^2\)</span>. Argue that <span class="math inline">\(S_t^2\)</span> is geometric Brownian motion and find <span class="math inline">\(\mathbb{E}[S_t^2]\)</span>.<p></p>
</div></details>
</div>
<div id="Exercise-6.7" class="Exercise">
<p></p><details class="Exercise fbx-simplebox fbx-default"><summary><strong>Exercise 6.7</strong></summary><div>Ito’s Lemma can be used in different ways to get the same answer. For example, let <span class="math inline">\(X_t = a t + b B_t\)</span> and use Ito’s lemma on the function <span class="math inline">\(e^{X_t}\)</span>. Alternatively, let <span class="math inline">\(f(t, B_t) = e^{a t + bB_t}\)</span>. Use Ito’s lemma on <span class="math inline">\(f(,)\)</span>.<p></p>
</div></details>
</div>
<div id="Exercise-6.8" class="Exercise">
<p></p><details class="Exercise fbx-simplebox fbx-default"><summary><strong>Exercise 6.8</strong></summary><div>Use the facts <span class="math inline">\(e^{x+y}=e^x \times e^y\)</span> and <span class="math inline">\(\frac{e^x}{e^y} = e^{x-y}\)</span> to deduce the drift and volatility of the product and ratio of two geometric Brownian motions.<p></p>
</div></details>
</div>
<div id="Exercise-6.9" class="Exercise">
<p></p><details class="Exercise fbx-simplebox fbx-default"><summary><strong>Exercise 6.9</strong></summary><div>Consider a discrete partition <span class="math inline">\(0=t_0 &lt; t_1 &lt; \cdots t_N=T\)</span> of the time interval <span class="math inline">\([0,T]\)</span> with <span class="math inline">\(t_i - t_{i-1} = \Delta t = T/N\)</span> for each <span class="math inline">\(i\)</span>. Consider a geometric Brownian motion <span class="math display">\[\frac{\,\mathrm{d}Z}{Z} = \mu\,\,\mathrm{d}t + \sigma\,\,\mathrm{d}B\; .\]</span> An approximate path <span class="math inline">\(\tilde{Z}_t\)</span> of the geometric Brownian motion can be simulated as <span id="eq-exponential111"><span class="math display">\[
\Delta \tilde{Z}_{t_i} = \tilde{Z}_{t_{i-1}} \big[ \mu\,\Delta t + \sigma\,\Delta B\big]\;.
\qquad(6.23)\]</span></span> Modify the code to generate both a path <span class="math inline">\(Z_t\)</span> and an approximate path <span class="math inline">\(\tilde{Z}_t\)</span> according to <a href="Chapter_GBM.html#eq-exponential111" class="quarto-xref">Equation&nbsp;<span>7.14</span></a>, using the same <span class="math inline">\(\Delta B\)</span> for both paths and taking <span class="math inline">\(\tilde{Z}_0 = Z_0\)</span>. Plot both paths in the same figure. How well does the approximation work for large <span class="math inline">\(N\)</span>? Warning:<br>
For <span class="math inline">\(N\)</span> larger than about <span class="math inline">\(100 T\)</span>, the approximation will look perfect—you won’t be able to tell that there are two plots in the figure. One reason this is true is an exact formula is <span id="eq-exponential112"><span class="math display">\[
Z_{t_i} = Z_{t_{i-1}} \exp\left[ \left(\mu -\frac{\sigma^2}{2}\right)\,\Delta t + \sigma\,\Delta B\right]\;.
\qquad(6.24)\]</span></span> and using Taylor’s Theorem for small <span class="math inline">\(\Delta t\)</span>, <span class="math inline">\(e^{\left(\mu-\frac{\sigma^2}{2}\right) \Delta t} \approx 1+ \left(\mu-\frac{\sigma^2}{2}\right) \Delta t\)</span> and <span class="math inline">\(e^{\sigma \Delta B_t} \approx 1+ \sigma \Delta B_t +\frac{1}{2}\sigma^2 (\Delta B_t)^2\)</span> and <span class="math inline">\((\,\,\mathrm{d}B_t)^2=\Delta t\)</span>.<p></p>
</div></details>
</div>
<div id="Exercise-6.10" class="Exercise">
<p></p><details class="Exercise fbx-simplebox fbx-default"><summary><strong>Exercise 6.10</strong></summary><div>Use simulation to find <span class="math inline">\(\mathbb{E}^*[e^{-r T}{\mathbf{1}}_{\{S_t \ge K\}}]\)</span> in the risk-neutral probability where <span class="math display">\[\begin{equation*}
\,\,\mathrm{d}S_t= r S_t \,\,\mathrm{d}t + \sigma S_t \,\,\mathrm{d}B_t^*
\end{equation*}\]</span> Verify that <span class="math inline">\(S_t/e^{r t}\)</span> is a martingale in the <span class="math inline">\(*\)</span> measure where <span class="math inline">\(B^*\)</span> is a Brownian motion. Then use simulation to find <span class="math inline">\(S_0\mathbb{E}^S[\frac{1}{S_t} {\mathbf{1}}_{\{S_t \ge K\}}]\)</span> in the pricing measure which uses the share as numeraire where <span class="math display">\[\begin{equation*}
\,\,\mathrm{d}S_t = (r + \sigma^2) S_t \,\,\mathrm{d}t + \sigma S_t \,\,\mathrm{d}B_t^S
\end{equation*}\]</span> so the log satisfies <span class="math display">\[\begin{equation*}
\log(S_t) = \log(S_0) + (r + \frac{\sigma^2}{2})t + \sigma B_t^S
\end{equation*}\]</span> You should verify <span class="math inline">\(e^{rt}/S_t\)</span> is a martingale in the <span class="math inline">\(S\)</span> measure where <span class="math inline">\(B^S\)</span> is a Brownian motion. Both estimates should be the same up to simulation error and give the time zero value of the random payoff <span class="math inline">\({\mathbf{1}}_{\{S_t \ge K\}}\)</span> which is a random variable equal to <span class="math inline">\(1\)</span> if <span class="math inline">\(S_t\ge K\)</span> and <span class="math inline">\(0\)</span> otherwise. You should choose the values for <span class="math inline">\(r\)</span>, <span class="math inline">\(\sigma\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(K\)</span>.<p></p>
</div></details>
</div>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>If the sources of uncertainty in the market can be modeled as Brownian motions, then in fact every martingale is an Ito process with <span class="math inline">\(\mu=0\)</span>. This is some justification for the assumption we will make in this book, when studying continuous-time models, that all martingales are Ito processes.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>In a more formal mathematical presentation, one normally writes <span class="math inline">\(\,\mathrm{d}\langle X,X\rangle\)</span> for what we are writing here as <span class="math inline">\((\,\mathrm{d}X)^2\)</span>. This is the differential of the quadratic variation process, and the quadratic variation through date <span class="math inline">\(T\)</span> is <span class="math display">\[
\langle X,X\rangle _t = \int_0^T \,\mathrm{d}\langle X,X\rangle_t = \int_0^T \sigma^2_t\,\,\mathrm{d}t\;.
\]</span><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p>We need to assume <span class="math inline">\(g(t,x,y)\)</span> is continuously differentiable in <span class="math inline">\(t\)</span> and twice continuously differentiable in <span class="math inline">\((x,y)\)</span> for <a href="#eq-itogeneralnew" class="quarto-xref">Equation&nbsp;<span>6.16</span></a> and <a href="#eq-itogeneralnew2" class="quarto-xref">Equation&nbsp;<span>6.17</span></a> to be valid. Note also that we are using a short-hand notation here. The partial derivatives of <span class="math inline">\(g\)</span> will generally depend on <span class="math inline">\(t\)</span>, <span class="math inline">\(X_t\)</span> and <span class="math inline">\(Y_t\)</span> just as <span class="math inline">\(g\)</span> does.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Chapter_Brownian.html" class="pagination-link" aria-label="Brownian Motion">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Brownian Motion</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Chapter_GBM.html" class="pagination-link" aria-label="Geometric Brownian Motion">
        <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Geometric Brownian Motion</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions"><ul><li><a href="https://github.com/math-finance-book/book-code.git/blob/main/Chapter_Ito.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div></div></footer></body></html>