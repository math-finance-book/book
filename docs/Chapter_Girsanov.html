<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>7&nbsp; Implications of “No Arbitrage” in Continuous Time – Pricing and Hedging Derivative Securities</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Chapter_BlackScholes.html" rel="next">
<link href="./Chapter_Deltas.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-b53751a350365c71b6c909e95f209ed1.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-933f24a0c1e0be8a62c2179459603458.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-217607b4065b1a3128a07792af3f8e33.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
<style>
div.callout-Rule.callout {
  border-left-color: #12801f;
}
div.callout-Rule.callout-style-default > .callout-header {
  background-color: rgba(18, 128, 31, 0.13);
}
div.callout-Rule .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Rule.callout-style-default .callout-icon::before, div.callout-Rule.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f164';
  background-image: none;
}
div.callout-Example.callout {
  border-left-color: #a1bced;
}
div.callout-Example.callout-style-default > .callout-header {
  background-color: rgba(161, 188, 237, 0.13);
}
div.callout-Example .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Example.callout-style-default .callout-icon::before, div.callout-Example.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f185';
  background-image: none;
}
div.callout-Principle.callout {
  border-left-color: #eb4034;
}
div.callout-Principle.callout-style-default > .callout-header {
  background-color: rgba(235, 64, 52, 0.13);
}
div.callout-Principle .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Principle.callout-style-default .callout-icon::before, div.callout-Principle.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f06a';
  background-image: none;
}
div.callout-Extra.callout {
  border-left-color: #a1bced;
}
div.callout-Extra.callout-style-default > .callout-header {
  background-color: rgba(161, 188, 237, 0.13);
}
div.callout-Extra .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Extra.callout-style-default .callout-icon::before, div.callout-Extra.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f48b';
  background-image: none;
}
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter_Arbitrage.html">Part 3: Arbitrage Pricing</a></li><li class="breadcrumb-item"><a href="./Chapter_Girsanov.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Implications of “No Arbitrage” in Continuous Time</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Pricing and Hedging Derivative Securities</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/math-finance-book/book-published-code.git" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 1: Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Intro_Derivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Derivative Securities</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 2: Mathematical Tools</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Brownian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Brownian Motion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Ito.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Ito Processes and Ito’s Formula</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_GBM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Geometric Brownian Motion</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 3: Arbitrage Pricing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Arbitrage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fundamentals of Arbitrage Pricing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Deltas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Delta Hedges, Replication, and PDEs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Girsanov.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Implications of “No Arbitrage” in Continuous Time</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 4: Black-Scholes and Extensions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_BlackScholes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Black-Scholes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Merton.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Merton, Black, and Margrabe</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Asians.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Asians, Baskets, and Spreads</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Exotics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Other Exotics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 5: Numerical Methods</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_MonteCarlo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Monte Carlo Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Binomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Binomial and Trinomial Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Appendix_Binomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Introduction to Binomial Tree Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Appendix_MonteCarlo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Introduction to Monte Carlo Simulations</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter_Arbitrage.html">Part 3: Arbitrage Pricing</a></li><li class="breadcrumb-item"><a href="./Chapter_Girsanov.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Implications of “No Arbitrage” in Continuous Time</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Implications of “No Arbitrage” in Continuous Time</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Our no-arbitrage conditions work in the continuous time setting. We remind the reader that no-arbitrage (in simple strategies) means the existence of a risk neutral measure under which all discounted dividend reinvested trading strategies follow martingales. In the risk neutral measure (denoted by <span class="math inline">\(R\)</span>) are for <span class="math inline">\(t \le \tau\)</span> <span class="math display">\[ \frac{R(t)}{R(t)} = \mathbb{E}_t^R\left[\frac{R(\tau)}{R(\tau)}\right] =1\]</span> in other words the discounted investment in the risk free asset is trivially a martingale while <span class="math display">\[ \frac{S(t)}{R(t)} = \mathbb{E}_t^R\left[\frac{S(\tau)}{R(\tau)}\right], \]</span> in other words, the discounted value of an non dividend paying investment or any dividend reinvested strategy is a martingale.</p>
<p>However, we also saw we do not need to use the risk free investment as a numeraire. Using any strictly positive dividend reinvested trading strategy, <span class="math inline">\(V(t)\)</span>, we have in the <span class="math inline">\(V\)</span> as numeraire measure (denoted by <span class="math inline">\(V\)</span>), for <span class="math inline">\(t \le \tau\)</span> <span class="math display">\[\frac{R(t)}{V(t)} = \mathbb{E}_t^V\left[\frac{R(\tau)}{V(\tau)}\right].\]</span> the number of shares of <span class="math inline">\(V\)</span> an investment in the risk free asset is worth follows a martingale, while</p>
<p><span class="math display">\[ \frac{S(t)}{V(t)} = \mathbb{E}_t^V\left[\frac{S(\tau)}{V(\tau)}\right] \]</span> for any dividend reinvested strategy the number of shares of <span class="math inline">\(V\)</span> it is worth follows a martingale while <span class="math display">\[ \frac{V(t)}{V(t)} = E_t^V\left[\frac{V(\tau)}{V(\tau)}\right] =1,\]</span> in other words, the number of shares of an investment in <span class="math inline">\(V\)</span> is always <span class="math inline">\(1\)</span>, a trivial martingale.</p>
<p>It is important to realize that when we change numeraire, we also change the probabilities used for pricing. We first describe some elementary payoffs, called digital options, which are similar to Arrrow securities. The payoffs to digital options describe these probabilities.</p>
<section id="digital-options" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="digital-options"><span class="header-section-number">7.1</span> Digital Options</h2>
<p>In a continuous time environment with a continuum of possible states, for technical reasons we can not use Arrow securities. For example, if <span class="math inline">\(x\)</span> is lognormally distributed, the probability of <span class="math inline">\(x=5\)</span> is zero. However, the probability <span class="math inline">\(x \in (5-\epsilon, \epsilon)\)</span> is greater than zero for all <span class="math inline">\(\epsilon &gt;0\)</span>. Therefore, the primitive securities are essentially intervals in time and state with given payoffs. For European style payoffs, we can focus on digital option payoffs with a fixed expiration <span class="math inline">\(T\)</span>. Digital options specify a payoff if a certain event occurs and nothing otherwise. For example, an option which pays <span class="math inline">\(1\)</span> at expiration <span class="math inline">\(T\)</span> on the event <span class="math inline">\(S(T)&gt;K\)</span>. Using mathematical notation, we use indicator functions <span class="math inline">\({\bf{1}}_{\{A\}}\)</span> which is a random variable equal to <span class="math inline">\(1\)</span> if the event <span class="math inline">\(A\)</span> occurs and <span class="math inline">\(0\)</span> if <span class="math inline">\(A\)</span> does not occur (i.e.&nbsp;the complement of <span class="math inline">\(A\)</span> occurs). Using this notation, the payoff for this example is <span class="math inline">\({\bf{1}}_{\{S(T)&gt;K\}}\)</span>. Given the prices of these primitive securities, combined with the risk free asset can give us the prices of all European derivatives. For example, buying the risk free asset with payoff <span class="math inline">\(1\)</span> and selling the example produces a payoff of 1 dollar on the complement. The payoff to this strategy if <span class="math inline">\(1 -{\bf{1}}_{\{S(T)&gt;K\}} = {\bf{1}}_{\{S(T)&lt;K\}}\)</span>. By combining digital options with different strikes we can approximate any payoff at time <span class="math inline">\(T\)</span>. It is useful to note that <span class="math inline">\(\mathbb{E}[{\bf{1}}_{|[A]}]= \text{prob}(A)\)</span>. Therefore the prices of digital options give the risk neutral probabilities of various events.</p>
<p>We can use our no arbitrage results to price these digital options: the time <span class="math inline">\(t\)</span> price of the payoff <span class="math inline">\({\bf{1}}_{\{S(T)&gt;K\}}\)</span> at time <span class="math inline">\(T\)</span> is given by <span class="math display">\[ R(t) \mathbb{E}_t^R \left[\frac{1}{R(T)} {\bf{1}}_{\{S(T)&gt;K\}}\right]  = e^{-r(T-t)} \text{prob}^R(S(T)&gt;K)\]</span>, assuming the risk free rate is constant.</p>
<p>However, we can also consider payoffs in different numeraires. For example, an option which pays one share of <span class="math inline">\(S\)</span> when <span class="math inline">\(S(T) &gt;K\)</span>. The time <span class="math inline">\(t\)</span> price of such an option can be written as <span class="math display">\[ R(t) \mathbb{E}_t^R \left[\frac{S(T)}{R(T)}  {\bf{1}}_{\{S(T) &gt;K\}}\right].\]</span> However, we can use the share as numeraire (assuming the share does not pay dividends) is the same as <span class="math display">\[S(t) \mathbb{E}_t^S \left[ {\bf{1}}_{\{S(T) &gt;K\}}\right] = S(t) \text{prob}^S(S(T)&gt;K)\]</span></p>
<p>In the next section, we show how a mathematical result called Girsanov’s Theorem lets us construct the different probability measures.</p>
</section>
<section id="sec-c:girsanov" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="sec-c:girsanov"><span class="header-section-number">7.2</span> Changes of Probability Measure and Girsanov’s Theorem</h2>
<p>When we change probability measures, we cannot expect a process <span class="math inline">\(B\)</span> that was a Brownian motion to remain a Brownian motion. The expected change in a Brownian motion must always be zero, but when we change probabilities, the expected change of <span class="math inline">\(B\)</span> is likely to become nonzero. However, the Brownian motion <span class="math inline">\(B\)</span> will still be an Ito process under the new probability measure. In fact, every Ito process under one probability measure will still be an Ito process under the new probability measure, and the diffusion coefficient of the Ito process will be unaffected by the change in probabilities.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Changing probabilities only changes the drift of an Ito process.</p>
<p>This should not be surprising. <a href="Chapter_Brownian.html#sec-s:quadraticvariation" class="quarto-xref"><span>Section 2.3</span></a> explains that a Brownian motion <span class="math inline">\(B\)</span> can be defined as a continuous martingale with paths that jiggle in such a way that the quadratic variation over any interval <span class="math inline">\([0,T]\)</span> is equal to <span class="math inline">\(T\)</span>. Changing the probabilities will change the probabilities of the various paths (so it may affect the expected change in <span class="math inline">\(B\)</span>) but it will not affect how each path jiggles. So, under the new probability measure, <span class="math inline">\(B\)</span> should still be like a Brownian motion but it may have a nonzero drift. If we consider a general Ito process, the reasoning is the same. The diffusion coefficient <span class="math inline">\(\sigma\)</span> determines how much each path jiggles, and this is unaffected by changing the probability measure. Furthermore, instantaneous covariances—the <span class="math inline">\((\,\mathrm{d}X)(\,\mathrm{d}Y)\)</span> terms—between Ito processes are unaffected by changing the probability measure. Only the drifts are affected.</p>
</section>
<section id="example-risk-neutral-probability" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="example-risk-neutral-probability"><span class="header-section-number">7.3</span> Example: Risk-Neutral Probability</h2>
<p>Denote the price of a dividend-reinvested asset by <span class="math inline">\(S\)</span>. Assume there is a constant continuously-compounded risk-free rate <span class="math inline">\(r\)</span>, and set <span class="math inline">\(R_t = \mathrm{e}^{rt}\)</span>, which is a dividend-reinvested asset price. The Key Principle <span class="math inline">\(\ref{principle-fundamental}\)</span> tells us that, in the absence of arbitrage opportunities, there is a probability measure (called the risk-neutral probability) with respect to which <span class="math inline">\(S/R\)</span> is a martingale.</p>
<p>Setting <span class="math inline">\(Y=S/R\)</span>, we have, from Calculation Rule <span class="math inline">\(\ref{rule:compounding}\)</span> that <span class="math display">\[\frac{\,\mathrm{d}Y}{Y} = \frac{\,\mathrm{d}S}{S} - r\,\mathrm{d}t\,.\]</span> Because <span class="math inline">\(Y\)</span> is a martingale under the risk-neutral probability, it cannot have a drift under that probability measure, so the drift of <span class="math inline">\(S\)</span> must be the risk-free rate under that probability measure. So, we have shown the following.</p>
<div class="callout callout-style-simple callout-Principle callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Principle
</div>
</div>
<div class="callout-body-container callout-body">
<p>The expected rate of return of any asset under the risk-neutral probability must be the risk-free rate.</p>
</div>
</div>
<p>Suppose <span class="math display">\[\frac{\,\mathrm{d}S}{S} = \mu\,\mathrm{d}t + \sigma \,\mathrm{d}B\]</span> for a constant <span class="math inline">\(\sigma\)</span>, where <span class="math inline">\(B\)</span> is a Brownian motion.<br>
Because only the drift of <span class="math inline">\(S\)</span> changes when we change probability measures, and because the drift under the risk-neutral probability is the risk-free rate, we have <span class="math display">\[\frac{\,\mathrm{d}S}{S} = r\,\mathrm{d}t + \sigma \,\mathrm{d}B^*\]</span> where <span class="math inline">\(B^*\)</span> is a Brownian motion under the risk-neutral probability.</p>
<p>We could follow similar reasoning to calculate the drift of <span class="math inline">\(S\)</span> under other probability measures, but instead we will apply a general result called Girsanov’s Theorem.</p>
</section>
<section id="girsanovs-theorem-in-the-black-scholes-model" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="girsanovs-theorem-in-the-black-scholes-model"><span class="header-section-number">7.4</span> Girsanov’s Theorem in the Black Scholes Model</h2>
<p>In the Black Scholes model, denote the dividend reinvested value by <span class="math display">\[ dS_t = \mu S_t \,\mathrm{d}t + \sigma S_t \,\mathrm{d}B_t \]</span> where <span class="math inline">\(B\)</span> is a Brownian motion. However, when we say <span class="math inline">\(B_t\)</span> is a Brownian motion this involves a probability measure since <span class="math inline">\(B_t\)</span> is assumed to be normally distributed with zero mean and standard deviation <span class="math inline">\(\sqrt{t}\)</span>. We can rewrite the process <span class="math display">\[ dS_t = r S_t \,\mathrm{d}t + \sigma S_t \,\mathrm{d}\left(B_t + \frac{\mu - r}{\sigma}t\right) \]</span> and the risk neutral measure is one which makes <span class="math inline">\(B_t + \frac{\mu - r}{\sigma}t\)</span> a Brwonian Motion. Girsanov’s Theorem tells us how to change the probability measure so that <span class="math inline">\(B_t + \frac{\mu - r}{\sigma}t\)</span> is a Brownian motion. Define <span class="math inline">\(\kappa = \frac{\mu - r}{\sigma}\)</span>. The term <span class="math inline">\(\kappa\)</span> is called the price of risk, or Sharpe ratio.</p>
<div class="callout callout-style-simple callout-Principle callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Principle
</div>
</div>
<div class="callout-body-container callout-body">
<p>Define <span class="math display">\[Z_t = \exp\left(-\frac{1}{2}\kappa^2 t - \kappa B_t \right).\]</span> Because <span class="math inline">\(Z_T\)</span> is lognormal, <span class="math inline">\(\mathbb{E}[Z_T]=1\)</span>. Then the under the probability measure defined for any <span class="math inline">\(Y\)</span> which is a function of <span class="math inline">\(B_t;~0\le t \le T\)</span> by <span class="math display">\[ \mathbb{E}^\kappa[Y] = \mathbb{E}[Z_T Y] \]</span> <span class="math inline">\(B_t^\kappa= B_t + \kappa t\)</span> is a Brownian motion with <span class="math inline">\(\mathbb{E}^\kappa[B_t^\kappa]= 0\)</span> and standard deviation <span class="math inline">\(\sqrt{t}\)</span>. Moreover, if <span class="math inline">\(M_t\)</span> is a martingale under <span class="math inline">\(P^\kappa\)</span>, then <span class="math inline">\(Z_t M_t\)</span> is a martingale under the original probability measure.</p>
</div>
</div>
<p>This is a simple version of Girsanov’s Theorem. Given the original measure under which <span class="math inline">\(B_t\)</span> is a brownian motion, Girsanov’s Theorem tells us how to construct the risk-neutral measure. In our leading case, we use Ito’s Lemma to show that <span class="math inline">\(Z_t \frac{S(t)}{R(t)}\)</span> is a martingale. Alternatively, using our the expectations of lognormal random variables we can see, recalling <span class="math inline">\(\kappa = \frac{\mu-r}{\sigma}\)</span>, <span class="math display">\[Z_t \frac{S_(t)}{R(t)}= S(0) \exp\left(\left(\mu -r -\frac{1}{2}\kappa^2 \right)t +(\sigma - \kappa)B_t \right) = S(0) \exp\left(-\frac{1}{2}(\sigma - \kappa)^2 t + (\sigma - \kappa)B_t \right) \]</span> so <span class="math display">\[\mathbb{E}\left[Z_t \frac{S(t)}{R(t)}\right]= S(0) .\]</span> Finally, we can use the last statement in the Key Principle to find <span class="math inline">\(\kappa\)</span>. Since we know <span class="math inline">\(\frac{S(t)}{R(t)}\)</span> is a martingale in the risk neutral measure, then in the original measure <span class="math inline">\(Z_t \frac{S(t)}{R(t)}\)</span> is a martingale. Using the product rule form of Ito’s Lemma, <span class="math display">\[\,\mathrm{d}Z_t \frac{S(t)}{R(t)} = (\mu - r) Z_t \frac{S(t)}{R(t)} \,\mathrm{d}t + (\sigma - \kappa) Z_t \frac{S(t)}{R(t)} \,\mathrm{d}B_t + \,\mathrm{d}&lt;Z,\frac{S}{R}&gt;_t. \]</span> For this to be a martingale, we must have <span class="math display">\[ (\mu - r) Z_t \frac{S(t)}{R(t)} \,\mathrm{d}t= -\,\mathrm{d}&lt;Z,\frac{S}{R}&gt;_t= \kappa \sigma Z_t \frac{S(t)}{R(t)} \,\mathrm{d}t,\]</span> which immediately yields <span class="math inline">\(\kappa= \frac{\mu-r}{\sigma}\)</span>.</p>
<p>Some further justification for this form of Girsanov’s Theorem is in the box below which may be skipped.</p>
<div class="callout callout-style-simple callout-Extra callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Theory Extra
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>To illustrate why this form of the Theorem holds, condsider the special case where we compute <span class="math inline">\(\mathbb{E}[Z_T f(B_T)]\)</span>. The distribution of a Brownian motion at time <span class="math inline">\(T\)</span> has mean zero and standard deviation <span class="math inline">\(\sqrt{T}\)</span>. The density is <span class="math display">\[\frac{1}{\sqrt{2 \pi T}} \exp\left(-\frac{1}{2} \frac{x^2}{T} \right)\]</span> and the expected value of any function of the Brownian motion is <span class="math display">\[ \mathbb{E}[f(B_T)] = \int_{-\infty}^{\infty} \frac{1}{\sqrt{2 \pi T}} \exp\left(-\frac{1}{2} \frac{x^2}{T} \right) f(x) dx \]</span> Let us compute <span class="math display">\[ \mathbb{E}\left[\exp\left(-\frac{1}{2} \kappa^2 T + \kappa B_T\right)f(B_T)\right]= \int_{-\infty}^{\infty} \frac{1}{\sqrt{2 \pi T}} \exp\left(-\frac{1}{2} \frac{x^2}{T} \right) \exp\left(-\frac{1}{2} \kappa^2 T + \kappa x\right) f(x) dx \]</span> Now observe that <span class="math display">\[\exp\left(-\frac{1}{2} \frac{x^2}{T} \right) \exp\left(-\frac{1}{2} \kappa^2 T + \kappa x\right) = \exp\left(-\frac{1}{2} \frac{x^2 + \kappa^2 T^2 - 2 \kappa x T}{T}\right)\]</span> <span class="math display">\[= \exp\left(-\frac{1}{2} \frac{(x-\kappa T)^2}{T} \right) \]</span> so this is the density of a Brownian motion with drift <span class="math inline">\(\kappa\)</span>; the mean is <span class="math inline">\(\kappa T\)</span> and the standard deviation is <span class="math inline">\(\sqrt{T}\)</span>. Therefore <span class="math display">\[ \mathbb{E}\left[\exp\left(-\frac{1}{2} \kappa^2 t + \kappa B_t\right)f(B_t)\right]= \mathbb{E}^\kappa\left[f(B_t)\right] \]</span> but under the probabilty <span class="math inline">\(P^{\kappa}\)</span> defined by the density <span class="math display">\[\frac{1}{\sqrt{2 \pi T}}\exp\left(-\frac{1}{2} \frac{(x-\kappa T)^2}{T} \right),\]</span> <span class="math inline">\(B_T\)</span> has mean <span class="math inline">\(\kappa T\)</span>. Demeaning this expression gives <span class="math inline">\(B_T-\kappa T\)</span> has zero mean and standard deviation <span class="math inline">\(\sqrt{T}\)</span> and we conclude <span class="math inline">\(B_t + \kappa t\)</span> is a Brownian motion.</p>
</div>
</div>
</div>
<p>We now explain various changes of numeraire.</p>
</section>
<section id="stochastic-discount-factor" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="stochastic-discount-factor"><span class="header-section-number">7.5</span> Stochastic Discount Factor</h2>
<p>Given the change of measure, the stochastic discount factor is given by <span class="math display">\[m_t=e^{-r t} Z_t \]</span>. In differential form, <span class="math display">\[ dm_t = -r m_t \,\mathrm{d}t -\kappa m_t \,\mathrm{d}B_t \]</span> We then have <span class="math display">\[\mathbb{E}[m_T Y]= \mathbb{E}^R[e^{-rT}Y].\]</span> We can also use Ito’s Lemma to show <span class="math inline">\(m_t S(t)\)</span> is an Itoo process without drift in our original probability measure: <span class="math display">\[  \,\mathrm{d}m_t S(t) = m_t \,\mathrm{d}S_t + S_t \,\mathrm{d}m_t + \,\mathrm{d}&lt;m,S&gt;_t\]</span> <span class="math display">\[= \left(m_t S_t \sigma -\kappa m_t S_t \right) \,\mathrm{d}B_t\]</span> is an Ito process without drift under the original probability measure, while <span class="math inline">\(e^{-rt} S(t)\)</span> is an Ito process without drift in the risk neutral probability measure: <span class="math display">\[ \,\mathrm{d}e^{-rt} S(t) = e^{-rt} \,\mathrm{d}S(t) - S(t) r e^{-rt}  \,\mathrm{d}t = e^{-rt} S(t) \sigma \,\mathrm{d}B^R_t\]</span>, since the cross variation term <span class="math inline">\(&lt;\frac{1}{R},S&gt;_t=0\)</span>. Recall an Ito process without drift is not necessarily a martingale but if the diffusion coefficient is well behaved it is a martingale; in fact <a href="Chapter_Ito.html#eq-regularity1" class="quarto-xref">Equation&nbsp;<span>3.9</span></a> holds for this case. Alternatively, the martingale property in this simple example with constant coefficients <span class="math inline">\(\mu\)</span>, <span class="math inline">\(r\)</span>, and <span class="math inline">\(\sigma\)</span> follows from direct calculation using the formula for the expected value of a lognormal random variable.</p>
<p>We have two equivalent expressions for the value, <span class="math inline">\(X(t)\)</span>, at time <span class="math inline">\(t \le T\)</span>, for time <span class="math inline">\(T\)</span> payoffs, <span class="math inline">\(X\)</span>, <span class="math display">\[ X(t) = \frac{1}{m_t} \mathbb{E}_t\left[ m_T X \right] \]</span> and <span class="math display">\[ X(t) = \frac{1}{R(t)} \mathbb{E}^R_t\left[\frac{X}{R(T)}\right]\]</span> In fact, while it is beyond the scope of this book, the stochatic discount factor is the reciprical of the portfolio strategy which maximizes the expected continuously compounded portfolio grwoth rate and therefore corresponds to another change of numeraire (see ??? Long, Heath Platen, etc). In other words, the pricing formulae above correspond to a change of numeraire where <span class="math inline">\(V(t)= \frac{1}{m_t}\)</span> and the probabilities are the original probabilities.</p>
</section>
<section id="underlying-as-numeraire" class="level2" data-number="7.6">
<h2 data-number="7.6" class="anchored" data-anchor-id="underlying-as-numeraire"><span class="header-section-number">7.6</span> Underlying as Numeraire</h2>
<p>Another important numeraire in the Black Scholes model is the underlying asset. For now, assume the underlying asset pays no dividends before time <span class="math inline">\(T\)</span>. Then our pricing relationships become <span class="math display">\[ \frac{R(t)}{S(t)} = \mathbb{E}^S_t\left[\frac{R(T)}{S(T)} \right] \]</span> <span class="math display">\[ \frac{S(t)}{S(t)} = \mathbb{E}^S_t\left[\frac{S(T)}{S(T)}\right] =1\]</span></p>
<p>In other words, using the <span class="math inline">\(S\)</span> probability measure, <span class="math inline">\(\frac{R(t)}{S(t)}\)</span> is a martingale for <span class="math inline">\(0 \le t \le T\)</span>. We have <span class="math display">\[ \frac{R(t)}{S(t)} = \frac{1}{S(0)} \exp\left(\frac{1}{2} \sigma^2 t- \sigma B_t^R \right) \]</span> where <span class="math inline">\(B_t^R = B_t + \frac{\mu-r}{\sigma} t\)</span> is a Brownian motion in the risk neutral measure. This is obviously not a martingale in the risk neutral measure, but <span class="math display">\[ \frac{R(t)}{S(t)} = \frac{1}{S(0)} \exp\left(-\frac{1}{2} \sigma^2 t  - \sigma B_t^S \right) \]</span> is a martingale if <span class="math inline">\(B_t^S = B_t^R + \sigma t\)</span> is a martingale for some probability measure <span class="math inline">\(\text{prob}^S\)</span>. Girsanov’s theorem then tells us the probability measure <span class="math display">\[ \text{prob}^S(A)= \mathbb{E}^R\left[Z_T {\bf{1}}_{\{A\}} \right] \]</span> where <span class="math display">\[ Z_t = \exp\left(-\frac{1}{2} \sigma^2 t - \sigma B_t^R \right)  \]</span> is a lognormally distributed exponential martingale. Under this change of measure, <span class="math display">\[ dS(t) = \left(r + \sigma^2 \right) \,\mathrm{d}t + \sigma B_t^S. \]</span></p>
<p>Alternatively, we can use Girsanov’s Theorem. In this case, we solve for <span class="math inline">\(\kappa\)</span> which makes <span class="math inline">\(Z_t \frac{R(t)}{S(t)}\)</span> into a martingale in te original measure. Using the product rule from Ito’s Lemma, <span class="math display">\[ \,\mathrm{d}\frac{R(t)}{S(t)} = \left(r-\mu - \sigma^2 \right) \frac{R(t)}{S(t)} \,\mathrm{d}t - \sigma \frac{R(t)}{S(t)} \,\mathrm{d}B_t \]</span> <span class="math display">\[ \,\mathrm{d}Z_t \frac{R(t)}{S(t)} = \left(r-\mu + \sigma^2\right) Z_t \frac{R(t)}{S(t)} \,\mathrm{d}t -(\sigma + \kappa) Z_t \frac{R(t)}{S(t)} \,\mathrm{d}B_t + \,\mathrm{d}&lt;Z,\frac{R}{S} &gt;_t \]</span> In order for this to be a martingale, we must have <span class="math display">\[ \left(r-\mu - \sigma^2 \right) Z_t \frac{R(t)}{S(t)} \,\mathrm{d}t = -\,\mathrm{d}&lt;Z,\frac{R}{S} &gt;_t = \kappa \sigma Z_t \frac{R(t)}{S(t)} \,\mathrm{d}t, \]</span> which gives <span class="math inline">\(\kappa = \frac{\mu-r}{\sigma} - \sigma\)</span>. Notice that if <span class="math inline">\(B_t^S = B_t + \kappa t\)</span> then <span class="math display">\[ \,\mathrm{d}S(t) = \left(r + \sigma^2 \right) S(t) \,\mathrm{d}t + \sigma S(t) \,\mathrm{d}B_t^S .\]</span></p>
<div class="callout callout-style-simple callout-Rule callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="header-section-number">7.7</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p>If <span class="math inline">\(S\)</span> is the price of the price of an non-dividend paying asset, then <span id="eq-own11"><span class="math display">\[
\frac{\,\mathrm{d}S}{S} = (r+ \sigma^2)\,\mathrm{d}t+\sigma\,\mathrm{d}B^S\;,
\qquad(7.1)\]</span></span> where now <span class="math inline">\(B^S\)</span> is a Brownian motion when <span class="math inline">\(S_t\)</span> is the numeraire.</p>
</div>
</div>
</section>
<section id="digital-options-in-the-black-scholes-model" class="level2" data-number="7.8">
<h2 data-number="7.8" class="anchored" data-anchor-id="digital-options-in-the-black-scholes-model"><span class="header-section-number">7.8</span> Digital Options in the Black Scholes Model</h2>
<p>Given our results above, we can now value digital options in the Black Scholes model.</p>
<p>The digital option which pays <span class="math inline">\({\bf{1}}_{\{S(T) \ge K\}}\)</span> is fairly easy to value by taking the risk neutral expectation <span class="math inline">\(\mathbb{E}^R\left[e^{-rT} {\bf{1}}_{\{S(T) \ge K}\right]\)</span>. Notice that using <span class="math display">\[S(T)= S(0) \exp\left( \left(r-\frac{\sigma^2}{2}\right) t + \sigma B_t^R \right)\]</span> Then the tail probabilities are calculated as in <a href="Chapter_GBM.html" class="quarto-xref"><span>Chapter 4</span></a> : <span class="math display">\[\{ S(T) \ge K\} = \{\log(S(T)) \ge \log(K)\} = \{\frac{\log\left(S(0){K}\right) + \left(r - \frac{\sigma^2}{2} \right) T}{\sigma \sqrt{T}} \ge - \frac{B_T}{\sqrt{T}} \} ,\]</span> and <span class="math inline">\(-\frac{B_T}{\sqrt{T}}\)</span> is distributed according to a standard noraml random variable (mean 0 and standard deviation 1). Therefore, the value of this digital option is <span class="math display">\[ e^{- r t} N(d_2)\]</span> where <span class="math inline">\(d_2= \frac{\log\left(S(0){K}\right) + \left(r - \frac{\sigma^2}{2} \right) T}{\sigma \sqrt{T}}\)</span> and <span class="math inline">\(N(d)\)</span> is the probability that a standard normal random variable is less than or equal to <span class="math inline">\(d\)</span>; that is <span class="math display">\[N(d)= \frac{1}{\sqrt{2 \pi}} \int_{-\infty}^d e^{-\frac{x^2}{2}} dx. \]</span></p>
<p>The payoff <span class="math inline">\(S(T) {\bf{1}}_{\{S(T) \ge K\}}\)</span> can, in principle, be found by taking the risk neutral expectations of the discounted payoff: <span class="math display">\[\mathbb{E}^R\left[S(T) {\bf{1}}_{\{S(T) \ge K\}}\right].\]</span> However, it is easier to use the stock as numeriare: <span class="math display">\[S(0) \mathbb{E}^S\left[ {\bf{1}}_{\{S(T) \ge K\}}\right]\]</span> Then since <span class="math display">\[ \,\mathrm{d}S(t) = (r+ \sigma^2) S(t) \,\mathrm{d}t + \sigma S(t) \,\mathrm{d}B_t^S \]</span> where <span class="math inline">\(B_t^S\)</span> is a Brownian motion in the measure <span class="math inline">\(P^S\)</span>. But finding the expectaion of the indicator is now the same exercise as before. By writing the explicit solution for <span class="math inline">\(S(T)\)</span>, the price of the payoff is found to be <span class="math display">\[S(0) N(d_1)\]</span> where <span class="math inline">\(d_1= \frac{\log\left(S(0){K}\right) + \left(r + \frac{\sigma^2}{2} \right) T}{\sigma \sqrt{T}}\)</span>.</p>
</section>
<section id="sec-s:girsanov" class="level2" data-number="7.9">
<h2 data-number="7.9" class="anchored" data-anchor-id="sec-s:girsanov"><span class="header-section-number">7.9</span> General Probability Measures and Drifts</h2>
<p>We now expand our discussion to include correlated Brownian motions as discussed in <a href="Chapter_Brownian.html#sec-s:correlation" class="quarto-xref"><span>Section 2.6</span></a>. Our main analysis will focus on the case with two correlated Brownian motions and we state results for an arbitrary number of Brownian motions.</p>
<p>We begin with a <span class="math inline">\(d\)</span> dimensional Brownian motion, <span class="math display">\[{\bf{B}}_t = \left(\begin{array}[pos]{spalten}
B_{1,t} \\ B_{2,t} \\ \vdots \\ B_{d,t}
  \end{array} \right) \]</span>. where the <span class="math inline">\(B_{i,t}\)</span> are uncorrelated, and a vector <span class="math display">\[{\bf{\kappa}}_t = \left(\begin{array}[pos]{spalten}
\kappa_{1,t} \\ \kappa_{2,t} \\ \vdots \\ \kappa_{d,t}
  \end{array} \right) \]</span>. and remind the reader <span class="math inline">\(||{\bf{\kappa}}_t||^2 = \sum_{i=1}^d \kappa_{i,t}^2\)</span>. The stochastic integral <span class="math display">\[\int_0^t {\bf{\kappa}}_t^{\prime} \,\mathrm{d}{\bf{B}}_s = \sum_{i=1}^d \int_0^t \kappa_{i,s} \,\mathrm{d}B_{i,s} \]</span> is defined in the natural way. The following is a more general statement of Girsanov’s Theorem.</p>
<div class="callout callout-style-simple callout-Principle callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Principle
</div>
</div>
<div class="callout-body-container callout-body">
<p>Let <span class="math display">\[Z_t = \exp\left(-\frac{1}{2}\int_0^t ||{\bf{\kappa}}_s||^2 \,\mathrm{d}s - \int_0^t {\bf{\kappa}}_s^{\prime} \,\mathrm{d}{\bf{B}}_s \right)\]</span> and assume <span class="math inline">\(\mathbb{E}[Z_T]=1\)</span>. Then under the probability measure <span class="math display">\[\text{prob}^{\kappa}(A) = \mathbb{E}\left[Z_T {\bf{1}}_{\{A\}}\right],\]</span> <span class="math inline">\(B_{i,t}^\kappa = B_{i,t} + \int_0^t \kappa_{i,s} \,\mathrm{d}t\)</span> is a Brownian motion for <span class="math inline">\(0 \le t \le T\)</span>. Moreover, if <span class="math inline">\(M_t\)</span> is a martingale under <span class="math inline">\(P^\kappa\)</span> then <span class="math inline">\(Z_t M_t\)</span> is a martingale under the original probability measure.</p>
</div>
</div>
<p>As explained in <a href="Chapter_Arbitrage.html" class="quarto-xref"><span>Chapter 5</span></a>, we need to know the distribution of the underlying under probability measures corresponding to different numeraires. Let <span class="math inline">\(S\)</span> be the price of an asset which does not pay dividends. Let <span class="math inline">\(V\)</span> be the price of another another asset that does not pay dividends. Let <span class="math inline">\(r_t\)</span> denote the instantaneous risk-free rate at date <span class="math inline">\(t\)</span> and let <span class="math inline">\(R_t = \exp\left(\int_0^t r_s\,\mathrm{d}s\right)\)</span>. Assume <span class="math display">\[\begin{align*}
\,\mathrm{d}S(t) &amp;= \mu_t S(t) \,\mathrm{d}t+\sigma_t S(t) \,\mathrm{d}B_t\; ,\\
\,\mathrm{d}V(t) &amp;= \theta_t V(t) \,\mathrm{d}t+\phi_t V(t) \,\mathrm{d}W_t\;,
\end{align*}\]</span> where <span class="math inline">\(B_t=B_{1,t}\)</span> and <span class="math inline">\(W_t=\rho_t B_{1,t} + \sqrt{1-\rho_t^2} B_{2,t}\)</span> are Brownian motions under the actual probability measure with correlation <span class="math inline">\(\rho\)</span>, and where <span class="math inline">\(\mu, \theta, \sigma, \phi\)</span> and <span class="math inline">\(\rho\)</span> can be quite general random processes, although they must satisfy some restrictions below.</p>
<p>We consider the dynamics of the asset prices <span class="math inline">\(S\)</span> and <span class="math inline">\(V\)</span> under three different probability measures. In each case, we follow the same steps: (i) we note that the ratio of an asset price to the numeraire asset price must be a martingale, (ii) we use Ito’s formula to calculate the drift of this ratio, and (iii) we use the fact that the drift of a martingale must be zero to compute the drift of <span class="math inline">\(\,\mathrm{d}S/S\)</span>.</p>
<section id="risk-neutral-probability" class="level3">
<h3 class="anchored" data-anchor-id="risk-neutral-probability">Risk-Neutral Probability</h3>
<p>Under the risk-neutral probability,<br>
<span class="math display">\[\frac{S(t)}{R(t)} = \exp\left(-\int_0^t r_s\,\mathrm{d}s\right) S(t)\]</span> is a martingale and <span class="math display">\[\frac{V(t)}{R(t)} = \exp\left(-\int_0^t r_s \right) V(t) \]</span> is a martingale.</p>
<div class="callout callout-style-simple callout-Rule callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="header-section-number">7.10</span> Risk-Neutral Probability
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the risk neutral measure, <span class="math inline">\(B_{1,t}^R = B_{1,t} + \int_0^t \kappa_{1,s} \,\mathrm{d}s\)</span> and <span class="math inline">\(B_{2,t}^R = B_{2,t} + \int_0^t \kappa_{2,s} \,\mathrm{d}s\)</span> <span id="eq-riskneutral11"><span class="math display">\[
\frac{\,\mathrm{d}S(t)}{S(t)} = r_t \,\mathrm{d}t+\sigma_t\,\mathrm{d}B_{1,t}^R\;,
\qquad(7.2)\]</span></span> <span id="eq-riskneutral12"><span class="math display">\[
\frac{\,\mathrm{d}V(t)}{V(t)} = r_t \,\mathrm{d}t+ \phi_t \,\mathrm{d}W_t^R\;,
\qquad(7.3)\]</span></span></p>
<p>where <span class="math inline">\(B_{1,t}^R\)</span>, <span class="math inline">\(B_{2,t}^R\)</span>, and <span class="math inline">\(W_t^R = \rho_t B_{1,t}^R + \sqrt{1-\rho_t^2} B_{2,t}\)</span> are a Brownian motions under the risk-neutral probability.</p>
</div>
</div>
<p>We can use Girsanov’s Theorem to solve for <span class="math inline">\(\kappa\)</span>. We should have <span class="math inline">\(Z_t S(t)\)</span> is a martingale and <span class="math inline">\(Z_t V(t)\)</span> is a martingale. Therefore, using the product rule from Ito’s Lemma <span class="math display">\[ \,\mathrm{d}Z_t \frac{S(t)}{R(t)} = (\mu_t-r_t ) Z_t \frac{S(t)}{R(t)} \,\mathrm{d}t + (\sigma_t - \kappa_{1,t} ) Z_t \frac{S(t)}{R(t)} \,\mathrm{d}B_{1,t} + \,\mathrm{d}&lt;Z,\frac{S}{R}&gt;_t \]</span></p>
<p><span class="math display">\[\,\mathrm{d}Z_t \frac{V(t)}{R(t)} = (\theta_t-r_t ) Z_t \frac{V(t)}{R(t)} \,\mathrm{d}t + (\rho_t \phi_t - \kappa_{1,t} ) Z_t \frac{V(t)}{R(t)} \,\mathrm{d}B_{1,t} + (\sqrt{1-\rho_t^2} \phi_t Z_t \frac{V(t)}{R(t)} \,\mathrm{d}B_{2,t}+ \,\mathrm{d}&lt;Z,\frac{V}{R}&gt;_t \]</span> Therefore, we must have <span class="math display">\[(\mu_t - r_t) Z_t \frac{S(t)}{R(T)} \,\mathrm{d}t = - \,\mathrm{d}&lt;Z,\frac{S}{R}&gt;_t = \kappa_{1,t} \sigma_t Z_t \frac{S(t)}{R(t)} \,\mathrm{d}t \]</span> and <span class="math display">\[(\theta_t - r_t) Z_t \frac{V(t)}{R(T)} \,\mathrm{d}t = - \,\mathrm{d}&lt;Z,\frac{V}{R}&gt;_t = \left(\kappa_{1,t} \rho_t \phi_t  + \kappa_{2,t} \sqrt{1-\rho_t^2} \phi_t \right) Z_t \frac{V(t)}{R(t)} \,\mathrm{d}t \]</span> where the cross variation is computed using the rule in <span class="quarto-unresolved-ref">?sec-s:geometricbrownianmotion</span>. Solving we obtain <span class="math display">\[ \kappa_{1,t} = \frac{\mu_t-r_t}{\sigma_t} \]</span> <span class="math display">\[ \kappa_{2,t} = \frac{\theta_t - r_t}{\sqrt{1-\rho_t^2} \phi_t} -\frac{\mu_t -r_t}{\sigma_t} \frac{\rho_t}{\sqrt{1-\rho_t^2}}\]</span> if <span class="math inline">\(\rho_t \neq \pm 1\)</span>. These equations do not make sense if <span class="math inline">\(\sigma_t=0\)</span> and <span class="math inline">\(\mu_t - r_t \neq 0\)</span> or <span class="math inline">\(\phi_t=0\)</span> and <span class="math inline">\(\theta_t -r_t \neq )\)</span>. This is perfectly natural; if either condition is violated, loosely speaking, an asset with no instantaneous risk offers a different return from the risk free asset which is an arbitrage. The case where <span class="math inline">\(\rho_t = \pm 1\)</span> is where the Brownian motions are perfectly correlated or negatively correlated is important and must be solved differently. In this case, the equations become <span class="math display">\[\kappa_{1,t}= \frac{\mu_t-r_t}{\sigma_t}\]</span> <span class="math display">\[\kappa_{1,t} = \pm \frac{\theta_t -r_t}{\phi_t}\]</span> These equations say when the assets are pefectly positively or negatively correlated, the compensation for risk is the same. This is a no-arbitrage condition; otherwise, there is an arbitrage.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
</section>
<section id="another-asset-as-the-numeraire" class="level3">
<h3 class="anchored" data-anchor-id="another-asset-as-the-numeraire">Another Asset as the Numeraire</h3>
<p>When <span class="math inline">\(S\)</span> is the numeraire, the process <span class="math inline">\(Y_t\)</span> defined as <span class="math display">\[Y_t = \frac{R(t)}{S(t)} = \frac{\exp\left(\int_0^t r_s\,\mathrm{d}s\right)}{S(t)}\]</span> is a martingale. Using the rule for ratios from Ito’s Lemma, we have <span class="math display">\[\frac{\,\mathrm{d}Y}{Y} =r\,\mathrm{d}t - \frac{\,\mathrm{d}S}{S} + \left(\frac{\,\mathrm{d}S}{S}\right)^2 = (r + \sigma^2)\,\mathrm{d}t - \frac{\,\mathrm{d}S}{S}\; .\]</span> Because the drift of <span class="math inline">\(\,\mathrm{d}Y/Y\)</span> must be zero, this implies that the drift of <span class="math inline">\(\,\mathrm{d}S/
S\)</span> is <span class="math inline">\((r + \sigma^2)\,\mathrm{d}t\)</span>.</p>
<p>On the other hand, <span class="math inline">\(X_t\)</span> defined as <span class="math display">\[X_t = \frac{V(t)}{S(t)}\]</span> is also a martingale. Again, using the product rule from Ito’s Lemma, <span class="math display">\[\frac{\,\mathrm{d}X}{X}= \frac{\,\mathrm{d}V}{V} - \frac{\,\mathrm{d}S}{S} -\left(\frac{\,\mathrm{d}V}{V}\right)\left(\frac{\,\mathrm{d}S}{S}\right) + \left(\frac{\,\mathrm{d}S}{S}\right)^2 .\]</span> Since the drift must be zero, we conclude <span class="math display">\[ \frac{\,\mathrm{d}V}{V} = \left(r + \rho \phi \sigma \right) \,\mathrm{d}t + \phi \,\mathrm{d}W^S \]</span> We conclude that:</p>
<div class="callout callout-style-simple callout-Rule callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="header-section-number">7.11</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p>If <span class="math inline">\(S\)</span> is the numeraire, then <span id="eq-own11"><span class="math display">\[
\frac{\,\mathrm{d}S}{S} = (r + \sigma^2)\,\mathrm{d}t+\sigma\,\mathrm{d}B^S\;,
\qquad(7.4)\]</span></span> <span class="math display">\[ \frac{\,\mathrm{d}V}{V} = \left(r + \rho \phi \sigma \right) \,\mathrm{d}t + \phi \,\mathrm{d}W^S \]</span> where now <span class="math inline">\(B^S\)</span> is a Brownian motion when <span class="math inline">\(S(t)\)</span> is the numeraire.</p>
</div>
</div>
</section>
<section id="another-risky-asset-as-the-numeraire" class="level3">
<h3 class="anchored" data-anchor-id="another-risky-asset-as-the-numeraire">Another Risky Asset as the Numeraire</h3>
<p>When the other asset with price <span class="math inline">\(V\)</span> is the numeraire, <span class="math inline">\(X_t\)</span> defined as <span class="math display">\[X_t = \frac{S(t)}{V(t)}\]</span> must be a martingale.<br>
We can have use our previous example to compute the dynamics of <span class="math inline">\(S\)</span> and <span class="math inline">\(V\)</span> when <span class="math inline">\(V\)</span> is the numeraire. We conclude that:</p>
<div class="callout callout-style-simple callout-Rule callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="header-section-number">7.12</span>
</div>
</div>
<div class="callout-body-container callout-body">
<p>If <span class="math inline">\(V\)</span>, is the numeraire, then <span id="eq-other11"><span class="math display">\[
\frac{\,\mathrm{d}S}{S} = (r +  \rho\sigma\phi)\,\mathrm{d}t+\sigma\,\mathrm{d}B_{1,}^V\;,
\qquad(7.5)\]</span></span> <span class="math display">\[ \frac{\,\mathrm{d}V}{V} = \left(r + \phi^2 \right) \,\mathrm{d}t + \phi \,\mathrm{d}W^V \]</span></p>
<p>where <span class="math inline">\(B^V\)</span> and <span class="math inline">\(W^V\)</span> denote a Brownian motions under the probability measure corresponding to the dividend-reinvested risky asset <span class="math inline">\(V\)</span> being the numeraire, and where <span class="math inline">\(\rho\)</span> is the correlation of <span class="math inline">\(S\)</span> and <span class="math inline">\(V\)</span>.</p>
</div>
</div>
<p>Notice that <a href="#eq-other11" class="quarto-xref">Equation&nbsp;<span>7.5</span></a>, while more complicated, is also more general than the others. In fact, it includes <a href="#eq-riskneutral11" class="quarto-xref">Equation&nbsp;<span>7.2</span></a> and <a href="#eq-own11" class="quarto-xref">Equation&nbsp;<span>7.4</span></a> as special cases: (i) if <span class="math inline">\(Y\)</span> is the price of the instantaneously risk-free asset, then <span class="math inline">\(\phi=0\)</span> and <a href="#eq-other11" class="quarto-xref">Equation&nbsp;<span>7.5</span></a> simplifies to <a href="#eq-riskneutral11" class="quarto-xref">Equation&nbsp;<span>7.2</span></a>, and (ii) if <span class="math inline">\(Y=
V\)</span>, then <span class="math inline">\(\phi=\sigma\)</span> and <span class="math inline">\(\rho=1\)</span>, so <a href="#eq-other11" class="quarto-xref">Equation&nbsp;<span>7.5</span></a> simplifies to <a href="#eq-own11" class="quarto-xref">Equation&nbsp;<span>7.4</span></a>.</p>
</section>
</section>
<section id="exercises" class="level2" data-number="7.13">
<h2 data-number="7.13" class="anchored" data-anchor-id="exercises"><span class="header-section-number">7.13</span> Exercises</h2>
<div id="exr-girsanov1" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 7.1</strong></span> Use simulation to find <span class="math inline">\(\mathbb{E}^R[e^{-r T}{\mathbf{1}}_{\{S(T) \ge K\}}]\)</span> in the risk-neutral probability where <span class="math display">\[\begin{equation*}
\,\mathrm{d}S(t)= r S(t) \,\mathrm{d}t + \sigma S(t) \,\mathrm{d}B_t^R
\end{equation*}\]</span> Verify that <span class="math inline">\(S(t)/e^{r t}\)</span> is a martingale in the <span class="math inline">\(R\)</span> measure where <span class="math inline">\(B^R\)</span> is a Brownian motion. Then use simulation to find <span class="math inline">\(S_0\mathbb{E}^S[\frac{1}{S(T)} {\mathbf{1}}_{\{S(T) \ge K\}}]\)</span> in the pricing measure which uses the share as numeraire where <span class="math display">\[\begin{equation*}
\,\mathrm{d}S(t) = (r + \sigma^2) S(t) \,\mathrm{d}t + \sigma S(t) \,\mathrm{d}B_t^S
\end{equation*}\]</span> so the log satisfies <span class="math display">\[\begin{equation*}
\log(S(t)) = \log(S(0)) + (r + \frac{\sigma^2}{2})t + \sigma B_t^S
\end{equation*}\]</span> You should verify <span class="math inline">\(e^{rt}/S(t)\)</span> is a martingale in the <span class="math inline">\(S\)</span> measure where <span class="math inline">\(B^S\)</span> is a Brownian motion. Both estimates should be the same up to simulation error and give the time zero value of the random payoff <span class="math inline">\({\mathbf{1}}_{\{S(T) \ge K\}}\)</span> which is a random variable equal to <span class="math inline">\(1\)</span> if <span class="math inline">\(S(T)\ge K\)</span> and <span class="math inline">\(0\)</span> otherwise. You should choose the values for <span class="math inline">\(r\)</span>, <span class="math inline">\(\sigma\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(K\)</span>.</p>
</div>
<div id="exr-girsanov2" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 7.2</strong></span> Calculate the price of the digital option which pays <span class="math inline">\({\bf{1}}_{\{S(T) \le K}}\)</span> using the assupmtions of the Black Scholes model.</p>
</div>
<div id="exr-girsanov3" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 7.3</strong></span> Calculate the price of the digital option which pays <span class="math inline">\(S(T) {\bf{1}}_{\{S(T) \le K}}\)</span> using the assumptions of the Black Scholes model.</p>
</div>
<div id="exr-girsanov4" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 7.4</strong></span> Supppose <span class="math inline">\(S\)</span> and <span class="math inline">\(V\)</span> are as in <a href="#sec-s:girsanov" class="quarto-xref"><span>Section 7.9</span></a> with constant coefficients. Find the value of an option which pays <span class="math inline">\(V(T) {\bf{1}}_{\{V(T) \ge S(T)\}}\)</span>. Hint: use <span class="math inline">\(V\)</span> as a numeraire.</p>
</div>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>To be a little more precise, this is true provided sets of states of the world having zero probability continue to have zero probability when the probabilities are changed. Because of the way we change probability measures when we change numeraires (cf. <a href="Chapter_Arbitrage.html#eq-probSnumeraire" class="quarto-xref">Equation&nbsp;<span>5.23</span></a>) this will always be true for us.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>There are other restrictions which are buried in the statement ``Assume <span class="math inline">\(\mathbb{E}[Z_T]=1\)</span>.’’ A sufficient condition is <span class="math inline">\(||\kappa||\)</span> is uniformly bounded but it is not necessary.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Chapter_Deltas.html" class="pagination-link" aria-label="Delta Hedges, Replication, and PDEs">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Delta Hedges, Replication, and PDEs</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Chapter_BlackScholes.html" class="pagination-link" aria-label="Black-Scholes">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Black-Scholes</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions"><ul><li><a href="https://github.com/math-finance-book/book-published-code.git/blob/main/Chapter_Girsanov.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div></div></footer></body></html>