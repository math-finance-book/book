<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>4&nbsp; Geometric Brownian Motion – Pricing and Hedging Derivative Securities</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Chapter_Arbitrage.html" rel="next">
<link href="./Chapter_Ito.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-b53751a350365c71b6c909e95f209ed1.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-933f24a0c1e0be8a62c2179459603458.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-217607b4065b1a3128a07792af3f8e33.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.35.2.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
<style>
div.callout-Example.callout {
  border-left-color: #a1bced;
}
div.callout-Example.callout-style-default > .callout-header {
  background-color: rgba(161, 188, 237, 0.13);
}
div.callout-Example .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Example.callout-style-default .callout-icon::before, div.callout-Example.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f185';
  background-image: none;
}
div.callout-Rule.callout {
  border-left-color: #12801f;
}
div.callout-Rule.callout-style-default > .callout-header {
  background-color: rgba(18, 128, 31, 0.13);
}
div.callout-Rule .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Rule.callout-style-default .callout-icon::before, div.callout-Rule.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f164';
  background-image: none;
}
div.callout-Extra.callout {
  border-left-color: #a1bced;
}
div.callout-Extra.callout-style-default > .callout-header {
  background-color: rgba(161, 188, 237, 0.13);
}
div.callout-Extra .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Extra.callout-style-default .callout-icon::before, div.callout-Extra.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f48b';
  background-image: none;
}
div.callout-Principle.callout {
  border-left-color: #eb4034;
}
div.callout-Principle.callout-style-default > .callout-header {
  background-color: rgba(235, 64, 52, 0.13);
}
div.callout-Principle .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Principle.callout-style-default .callout-icon::before, div.callout-Principle.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f06a';
  background-image: none;
}
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter_Brownian.html">Part 2: Mathematical Tools</a></li><li class="breadcrumb-item"><a href="./Chapter_GBM.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Geometric Brownian Motion</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Pricing and Hedging Derivative Securities</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/math-finance-book/book-published-code.git" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 1: Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Intro_Derivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction to Derivative Securities</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 2: Mathematical Tools</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Brownian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Brownian Motion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Ito.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Ito Processes and Ito’s Formula</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_GBM.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Geometric Brownian Motion</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 3: Arbitrage Pricing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Arbitrage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fundamentals of Arbitrage Pricing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Deltas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Delta Hedges, Replication, and PDEs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Girsanov.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Implications of “No Arbitrage” in Continuous Time</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 4: Black-Scholes and Extensions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_BlackScholes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Black-Scholes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Merton.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Merton, Black, and Margrabe</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Asians.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Asians, Baskets, and Spreads</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Exotics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Other Exotics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 5: Numerical Methods</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_MonteCarlo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Monte Carlo Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Binomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Binomial and Trinomial Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Appendix_Binomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Introduction to Binomial Tree Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Appendix_MonteCarlo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Introduction to Monte Carlo Simulations</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter_Brownian.html">Part 2: Mathematical Tools</a></li><li class="breadcrumb-item"><a href="./Chapter_GBM.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Geometric Brownian Motion</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-c:geometricbrownianmotion" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Geometric Brownian Motion</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div id="23ff6b57" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display">
<script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_SVG"></script>
</div>
</div>
<p>A random variable <span class="math inline">\(\tilde{y}\)</span> is lognormally distributed if it can be written as <span class="math inline">\(\tilde{y}=  \mathrm{e}^{\tilde{x}}\)</span> where <span class="math inline">\(\tilde{x}\)</span> has a normal distribution. Another way of saying this is that <span class="math inline">\(\log \tilde y\)</span> is normally distributed. We denote the expected value (mean) of any random variable using the symbol <span class="math inline">\(\mathbb{E}\)</span>. The mean of a lognormal random variable is given by the following.</p>
<div class="callout callout-style-simple callout-Principle callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Principle
</div>
</div>
<div class="callout-body-container callout-body">
<p>If <span class="math inline">\(\tilde y = \tilde{x}\)</span> where <span class="math inline">\(\tilde x\)</span> is normally distributed with mean <span class="math inline">\(m\)</span> and standard deviation <span class="math inline">\(s\)</span>, then <span id="eq-lognormal"><span class="math display">\[\mathbb{E}[\tilde{y}]=e^{m +  s^2/2};.
\qquad(4.1)\]</span></span></p>
</div>
</div>
<p>An example of the distribution of a lognormal random variable is shown in <a href="#fig-lognormal" class="quarto-xref">Figure&nbsp;<span>4.1</span></a>.</p>
<div id="cell-fig-lognormal" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> scipy.stats <span class="im">import</span> lognorm</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate x values</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">1000</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Lognormal density (s=1, loc=0, scale=1 gives standard lognormal)</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>pdf <span class="op">=</span> lognorm.pdf(x, s<span class="op">=</span><span class="dv">1</span>, loc<span class="op">=</span><span class="dv">0</span>, scale<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create plot</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure()</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>fig.add_trace(</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    go.Scatter(</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>x,</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>pdf,</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">'lines'</span>,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span><span class="st">'Lognormal density'</span>,</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>        hovertemplate<span class="op">=</span><span class="st">'x = %</span><span class="sc">{x:.2f}</span><span class="st">&lt;br&gt;density = %</span><span class="sc">{y:.2f}</span><span class="st">&lt;extra&gt;&lt;/extra&gt;'</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">''</span>,</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">'Lognormal density'</span>,</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">'plotly_white'</span>,</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">300</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-lognormal" class="cell-output cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-lognormal-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.1: The distribution of the random variable y = exp(x) where x has the standard normal distribution.
</figcaption>
<div aria-describedby="fig-lognormal-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>                            <div id="b9fa6d80-b5b1-4a7d-a8cf-49f0c4a6ed97" class="plotly-graph-div" style="height:300px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("b9fa6d80-b5b1-4a7d-a8cf-49f0c4a6ed97")) {                    Plotly.newPlot(                        "b9fa6d80-b5b1-4a7d-a8cf-49f0c4a6ed97",                        [{"hovertemplate":"x = %{x:.2f}\u003cbr\u003edensity = %{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","mode":"lines","name":"Lognormal density","x":[0.0,0.005005005005005005,0.01001001001001001,0.015015015015015015,0.02002002002002002,0.025025025025025023,0.03003003003003003,0.035035035035035036,0.04004004004004004,0.04504504504504504,0.050050050050050046,0.055055055055055056,0.06006006006006006,0.06506506506506507,0.07007007007007007,0.07507507507507508,0.08008008008008008,0.08508508508508508,0.09009009009009009,0.09509509509509509,0.10010010010010009,0.10510510510510511,0.11011011011011011,0.11511511511511512,0.12012012012012012,0.12512512512512514,0.13013013013013014,0.13513513513513514,0.14014014014014015,0.14514514514514515,0.15015015015015015,0.15515515515515516,0.16016016016016016,0.16516516516516516,0.17017017017017017,0.17517517517517517,0.18018018018018017,0.18518518518518517,0.19019019019019018,0.19519519519519518,0.20020020020020018,0.20520520520520522,0.21021021021021022,0.21521521521521522,0.22022022022022023,0.22522522522522523,0.23023023023023023,0.23523523523523523,0.24024024024024024,0.24524524524524524,0.2502502502502503,0.2552552552552553,0.2602602602602603,0.2652652652652653,0.2702702702702703,0.2752752752752753,0.2802802802802803,0.2852852852852853,0.2902902902902903,0.2952952952952953,0.3003003003003003,0.3053053053053053,0.3103103103103103,0.3153153153153153,0.3203203203203203,0.3253253253253253,0.3303303303303303,0.3353353353353353,0.34034034034034033,0.34534534534534533,0.35035035035035034,0.35535535535535534,0.36036036036036034,0.36536536536536535,0.37037037037037035,0.37537537537537535,0.38038038038038036,0.38538538538538536,0.39039039039039036,0.39539539539539537,0.40040040040040037,0.40540540540540543,0.41041041041041043,0.41541541541541543,0.42042042042042044,0.42542542542542544,0.43043043043043044,0.43543543543543545,0.44044044044044045,0.44544544544544545,0.45045045045045046,0.45545545545545546,0.46046046046046046,0.46546546546546547,0.47047047047047047,0.4754754754754755,0.4804804804804805,0.4854854854854855,0.4904904904904905,0.4954954954954955,0.5005005005005005,0.5055055055055055,0.5105105105105106,0.5155155155155156,0.5205205205205206,0.5255255255255256,0.5305305305305306,0.5355355355355356,0.5405405405405406,0.5455455455455456,0.5505505505505506,0.5555555555555556,0.5605605605605606,0.5655655655655656,0.5705705705705706,0.5755755755755756,0.5805805805805806,0.5855855855855856,0.5905905905905906,0.5955955955955956,0.6006006006006006,0.6056056056056056,0.6106106106106106,0.6156156156156156,0.6206206206206206,0.6256256256256256,0.6306306306306306,0.6356356356356356,0.6406406406406406,0.6456456456456456,0.6506506506506506,0.6556556556556556,0.6606606606606606,0.6656656656656657,0.6706706706706707,0.6756756756756757,0.6806806806806807,0.6856856856856857,0.6906906906906907,0.6956956956956957,0.7007007007007007,0.7057057057057057,0.7107107107107107,0.7157157157157157,0.7207207207207207,0.7257257257257257,0.7307307307307307,0.7357357357357357,0.7407407407407407,0.7457457457457457,0.7507507507507507,0.7557557557557557,0.7607607607607607,0.7657657657657657,0.7707707707707707,0.7757757757757757,0.7807807807807807,0.7857857857857857,0.7907907907907907,0.7957957957957957,0.8008008008008007,0.8058058058058059,0.8108108108108109,0.8158158158158159,0.8208208208208209,0.8258258258258259,0.8308308308308309,0.8358358358358359,0.8408408408408409,0.8458458458458459,0.8508508508508509,0.8558558558558559,0.8608608608608609,0.8658658658658659,0.8708708708708709,0.8758758758758759,0.8808808808808809,0.8858858858858859,0.8908908908908909,0.8958958958958959,0.9009009009009009,0.9059059059059059,0.9109109109109109,0.9159159159159159,0.9209209209209209,0.9259259259259259,0.9309309309309309,0.9359359359359359,0.9409409409409409,0.9459459459459459,0.950950950950951,0.955955955955956,0.960960960960961,0.965965965965966,0.970970970970971,0.975975975975976,0.980980980980981,0.985985985985986,0.990990990990991,0.995995995995996,1.001001001001001,1.006006006006006,1.011011011011011,1.016016016016016,1.021021021021021,1.026026026026026,1.031031031031031,1.0360360360360361,1.0410410410410411,1.0460460460460461,1.0510510510510511,1.0560560560560561,1.0610610610610611,1.0660660660660661,1.0710710710710711,1.0760760760760761,1.0810810810810811,1.0860860860860861,1.0910910910910911,1.0960960960960962,1.1011011011011012,1.1061061061061062,1.1111111111111112,1.1161161161161162,1.1211211211211212,1.1261261261261262,1.1311311311311312,1.1361361361361362,1.1411411411411412,1.1461461461461462,1.1511511511511512,1.1561561561561562,1.1611611611611612,1.1661661661661662,1.1711711711711712,1.1761761761761762,1.1811811811811812,1.1861861861861862,1.1911911911911912,1.1961961961961962,1.2012012012012012,1.2062062062062062,1.2112112112112112,1.2162162162162162,1.2212212212212212,1.2262262262262262,1.2312312312312312,1.2362362362362362,1.2412412412412412,1.2462462462462462,1.2512512512512513,1.2562562562562563,1.2612612612612613,1.2662662662662663,1.2712712712712713,1.2762762762762763,1.2812812812812813,1.2862862862862863,1.2912912912912913,1.2962962962962963,1.3013013013013013,1.3063063063063063,1.3113113113113113,1.3163163163163163,1.3213213213213213,1.3263263263263263,1.3313313313313313,1.3363363363363363,1.3413413413413413,1.3463463463463463,1.3513513513513513,1.3563563563563563,1.3613613613613613,1.3663663663663663,1.3713713713713713,1.3763763763763763,1.3813813813813813,1.3863863863863863,1.3913913913913913,1.3963963963963963,1.4014014014014013,1.4064064064064064,1.4114114114114114,1.4164164164164164,1.4214214214214214,1.4264264264264264,1.4314314314314314,1.4364364364364364,1.4414414414414414,1.4464464464464464,1.4514514514514514,1.4564564564564564,1.4614614614614614,1.4664664664664664,1.4714714714714714,1.4764764764764764,1.4814814814814814,1.4864864864864864,1.4914914914914914,1.4964964964964964,1.5015015015015014,1.5065065065065064,1.5115115115115114,1.5165165165165164,1.5215215215215214,1.5265265265265264,1.5315315315315314,1.5365365365365364,1.5415415415415414,1.5465465465465464,1.5515515515515514,1.5565565565565564,1.5615615615615615,1.5665665665665665,1.5715715715715715,1.5765765765765765,1.5815815815815815,1.5865865865865865,1.5915915915915915,1.5965965965965965,1.6016016016016015,1.6066066066066067,1.6116116116116117,1.6166166166166167,1.6216216216216217,1.6266266266266267,1.6316316316316317,1.6366366366366367,1.6416416416416417,1.6466466466466467,1.6516516516516517,1.6566566566566567,1.6616616616616617,1.6666666666666667,1.6716716716716717,1.6766766766766767,1.6816816816816818,1.6866866866866868,1.6916916916916918,1.6966966966966968,1.7017017017017018,1.7067067067067068,1.7117117117117118,1.7167167167167168,1.7217217217217218,1.7267267267267268,1.7317317317317318,1.7367367367367368,1.7417417417417418,1.7467467467467468,1.7517517517517518,1.7567567567567568,1.7617617617617618,1.7667667667667668,1.7717717717717718,1.7767767767767768,1.7817817817817818,1.7867867867867868,1.7917917917917918,1.7967967967967968,1.8018018018018018,1.8068068068068068,1.8118118118118118,1.8168168168168168,1.8218218218218218,1.8268268268268268,1.8318318318318318,1.8368368368368369,1.8418418418418419,1.8468468468468469,1.8518518518518519,1.8568568568568569,1.8618618618618619,1.8668668668668669,1.8718718718718719,1.8768768768768769,1.8818818818818819,1.8868868868868869,1.8918918918918919,1.896896896896897,1.901901901901902,1.906906906906907,1.911911911911912,1.916916916916917,1.921921921921922,1.926926926926927,1.931931931931932,1.936936936936937,1.941941941941942,1.946946946946947,1.951951951951952,1.956956956956957,1.961961961961962,1.966966966966967,1.971971971971972,1.976976976976977,1.981981981981982,1.986986986986987,1.991991991991992,1.996996996996997,2.002002002002002,2.007007007007007,2.012012012012012,2.017017017017017,2.022022022022022,2.027027027027027,2.032032032032032,2.037037037037037,2.042042042042042,2.047047047047047,2.052052052052052,2.057057057057057,2.062062062062062,2.067067067067067,2.0720720720720722,2.0770770770770772,2.0820820820820822,2.0870870870870872,2.0920920920920922,2.0970970970970972,2.1021021021021022,2.1071071071071072,2.1121121121121122,2.1171171171171173,2.1221221221221223,2.1271271271271273,2.1321321321321323,2.1371371371371373,2.1421421421421423,2.1471471471471473,2.1521521521521523,2.1571571571571573,2.1621621621621623,2.1671671671671673,2.1721721721721723,2.1771771771771773,2.1821821821821823,2.1871871871871873,2.1921921921921923,2.1971971971971973,2.2022022022022023,2.2072072072072073,2.2122122122122123,2.2172172172172173,2.2222222222222223,2.2272272272272273,2.2322322322322323,2.2372372372372373,2.2422422422422423,2.2472472472472473,2.2522522522522523,2.2572572572572573,2.2622622622622623,2.2672672672672673,2.2722722722722724,2.2772772772772774,2.2822822822822824,2.2872872872872874,2.2922922922922924,2.2972972972972974,2.3023023023023024,2.3073073073073074,2.3123123123123124,2.3173173173173174,2.3223223223223224,2.3273273273273274,2.3323323323323324,2.3373373373373374,2.3423423423423424,2.3473473473473474,2.3523523523523524,2.3573573573573574,2.3623623623623624,2.3673673673673674,2.3723723723723724,2.3773773773773774,2.3823823823823824,2.3873873873873874,2.3923923923923924,2.3973973973973974,2.4024024024024024,2.4074074074074074,2.4124124124124124,2.4174174174174174,2.4224224224224224,2.4274274274274275,2.4324324324324325,2.4374374374374375,2.4424424424424425,2.4474474474474475,2.4524524524524525,2.4574574574574575,2.4624624624624625,2.4674674674674675,2.4724724724724725,2.4774774774774775,2.4824824824824825,2.4874874874874875,2.4924924924924925,2.4974974974974975,2.5025025025025025,2.5075075075075075,2.5125125125125125,2.5175175175175175,2.5225225225225225,2.5275275275275275,2.5325325325325325,2.5375375375375375,2.5425425425425425,2.5475475475475475,2.5525525525525525,2.5575575575575575,2.5625625625625625,2.5675675675675675,2.5725725725725725,2.5775775775775776,2.5825825825825826,2.5875875875875876,2.5925925925925926,2.5975975975975976,2.6026026026026026,2.6076076076076076,2.6126126126126126,2.6176176176176176,2.6226226226226226,2.6276276276276276,2.6326326326326326,2.6376376376376376,2.6426426426426426,2.6476476476476476,2.6526526526526526,2.6576576576576576,2.6626626626626626,2.6676676676676676,2.6726726726726726,2.6776776776776776,2.6826826826826826,2.6876876876876876,2.6926926926926926,2.6976976976976976,2.7027027027027026,2.7077077077077076,2.7127127127127126,2.7177177177177176,2.7227227227227226,2.7277277277277276,2.7327327327327327,2.7377377377377377,2.7427427427427427,2.7477477477477477,2.7527527527527527,2.7577577577577577,2.7627627627627627,2.7677677677677677,2.7727727727727727,2.7777777777777777,2.7827827827827827,2.7877877877877877,2.7927927927927927,2.7977977977977977,2.8028028028028027,2.8078078078078077,2.8128128128128127,2.8178178178178177,2.8228228228228227,2.8278278278278277,2.8328328328328327,2.8378378378378377,2.8428428428428427,2.8478478478478477,2.8528528528528527,2.8578578578578577,2.8628628628628627,2.8678678678678677,2.8728728728728727,2.8778778778778777,2.8828828828828827,2.8878878878878878,2.8928928928928928,2.8978978978978978,2.9029029029029028,2.9079079079079078,2.9129129129129128,2.9179179179179178,2.9229229229229228,2.9279279279279278,2.932932932932933,2.937937937937938,2.942942942942943,2.947947947947948,2.952952952952953,2.957957957957958,2.962962962962963,2.967967967967968,2.972972972972973,2.977977977977978,2.982982982982983,2.987987987987988,2.992992992992993,2.997997997997998,3.003003003003003,3.008008008008008,3.013013013013013,3.018018018018018,3.023023023023023,3.028028028028028,3.033033033033033,3.038038038038038,3.043043043043043,3.048048048048048,3.053053053053053,3.058058058058058,3.063063063063063,3.068068068068068,3.073073073073073,3.078078078078078,3.083083083083083,3.088088088088088,3.093093093093093,3.098098098098098,3.103103103103103,3.108108108108108,3.113113113113113,3.118118118118118,3.123123123123123,3.128128128128128,3.133133133133133,3.138138138138138,3.143143143143143,3.148148148148148,3.153153153153153,3.158158158158158,3.163163163163163,3.168168168168168,3.173173173173173,3.178178178178178,3.183183183183183,3.188188188188188,3.193193193193193,3.198198198198198,3.203203203203203,3.2082082082082084,3.2132132132132134,3.2182182182182184,3.2232232232232234,3.2282282282282284,3.2332332332332334,3.2382382382382384,3.2432432432432434,3.2482482482482484,3.2532532532532534,3.2582582582582584,3.2632632632632634,3.2682682682682684,3.2732732732732734,3.2782782782782784,3.2832832832832834,3.2882882882882885,3.2932932932932935,3.2982982982982985,3.3033033033033035,3.3083083083083085,3.3133133133133135,3.3183183183183185,3.3233233233233235,3.3283283283283285,3.3333333333333335,3.3383383383383385,3.3433433433433435,3.3483483483483485,3.3533533533533535,3.3583583583583585,3.3633633633633635,3.3683683683683685,3.3733733733733735,3.3783783783783785,3.3833833833833835,3.3883883883883885,3.3933933933933935,3.3983983983983985,3.4034034034034035,3.4084084084084085,3.4134134134134135,3.4184184184184185,3.4234234234234235,3.4284284284284285,3.4334334334334335,3.4384384384384385,3.4434434434434436,3.4484484484484486,3.4534534534534536,3.4584584584584586,3.4634634634634636,3.4684684684684686,3.4734734734734736,3.4784784784784786,3.4834834834834836,3.4884884884884886,3.4934934934934936,3.4984984984984986,3.5035035035035036,3.5085085085085086,3.5135135135135136,3.5185185185185186,3.5235235235235236,3.5285285285285286,3.5335335335335336,3.5385385385385386,3.5435435435435436,3.5485485485485486,3.5535535535535536,3.5585585585585586,3.5635635635635636,3.5685685685685686,3.5735735735735736,3.5785785785785786,3.5835835835835836,3.5885885885885886,3.5935935935935936,3.5985985985985987,3.6036036036036037,3.6086086086086087,3.6136136136136137,3.6186186186186187,3.6236236236236237,3.6286286286286287,3.6336336336336337,3.6386386386386387,3.6436436436436437,3.6486486486486487,3.6536536536536537,3.6586586586586587,3.6636636636636637,3.6686686686686687,3.6736736736736737,3.6786786786786787,3.6836836836836837,3.6886886886886887,3.6936936936936937,3.6986986986986987,3.7037037037037037,3.7087087087087087,3.7137137137137137,3.7187187187187187,3.7237237237237237,3.7287287287287287,3.7337337337337337,3.7387387387387387,3.7437437437437437,3.7487487487487487,3.7537537537537538,3.7587587587587588,3.7637637637637638,3.7687687687687688,3.7737737737737738,3.7787787787787788,3.7837837837837838,3.7887887887887888,3.793793793793794,3.798798798798799,3.803803803803804,3.808808808808809,3.813813813813814,3.818818818818819,3.823823823823824,3.828828828828829,3.833833833833834,3.838838838838839,3.843843843843844,3.848848848848849,3.853853853853854,3.858858858858859,3.863863863863864,3.868868868868869,3.873873873873874,3.878878878878879,3.883883883883884,3.888888888888889,3.893893893893894,3.898898898898899,3.903903903903904,3.908908908908909,3.913913913913914,3.918918918918919,3.923923923923924,3.928928928928929,3.933933933933934,3.938938938938939,3.943943943943944,3.948948948948949,3.953953953953954,3.958958958958959,3.963963963963964,3.968968968968969,3.973973973973974,3.978978978978979,3.983983983983984,3.988988988988989,3.993993993993994,3.998998998998999,4.004004004004004,4.009009009009009,4.014014014014014,4.019019019019019,4.024024024024024,4.029029029029029,4.034034034034034,4.039039039039039,4.044044044044044,4.049049049049049,4.054054054054054,4.059059059059059,4.064064064064064,4.069069069069069,4.074074074074074,4.079079079079079,4.084084084084084,4.089089089089089,4.094094094094094,4.099099099099099,4.104104104104104,4.109109109109109,4.114114114114114,4.119119119119119,4.124124124124124,4.129129129129129,4.134134134134134,4.1391391391391394,4.1441441441441444,4.1491491491491495,4.1541541541541545,4.1591591591591595,4.1641641641641645,4.1691691691691695,4.1741741741741745,4.1791791791791795,4.1841841841841845,4.1891891891891895,4.1941941941941945,4.1991991991991995,4.2042042042042045,4.2092092092092095,4.2142142142142145,4.2192192192192195,4.2242242242242245,4.2292292292292295,4.2342342342342345,4.2392392392392395,4.2442442442442445,4.2492492492492495,4.2542542542542545,4.2592592592592595,4.2642642642642645,4.2692692692692695,4.2742742742742745,4.2792792792792795,4.2842842842842845,4.2892892892892895,4.2942942942942945,4.2992992992992995,4.3043043043043046,4.3093093093093096,4.314314314314315,4.31931931931932,4.324324324324325,4.32932932932933,4.334334334334335,4.33933933933934,4.344344344344345,4.34934934934935,4.354354354354355,4.35935935935936,4.364364364364365,4.36936936936937,4.374374374374375,4.37937937937938,4.384384384384385,4.38938938938939,4.394394394394395,4.3993993993994,4.404404404404405,4.40940940940941,4.414414414414415,4.41941941941942,4.424424424424425,4.42942942942943,4.434434434434435,4.43943943943944,4.444444444444445,4.44944944944945,4.454454454454455,4.45945945945946,4.464464464464465,4.46946946946947,4.474474474474475,4.47947947947948,4.484484484484485,4.48948948948949,4.494494494494495,4.4994994994995,4.504504504504505,4.50950950950951,4.514514514514515,4.51951951951952,4.524524524524525,4.52952952952953,4.534534534534535,4.53953953953954,4.544544544544545,4.54954954954955,4.554554554554555,4.55955955955956,4.564564564564565,4.56956956956957,4.574574574574575,4.57957957957958,4.584584584584585,4.58958958958959,4.594594594594595,4.5995995995996,4.604604604604605,4.60960960960961,4.614614614614615,4.61961961961962,4.624624624624625,4.62962962962963,4.634634634634635,4.63963963963964,4.644644644644645,4.64964964964965,4.654654654654655,4.65965965965966,4.664664664664665,4.66966966966967,4.674674674674675,4.67967967967968,4.684684684684685,4.68968968968969,4.694694694694695,4.6996996996997,4.704704704704705,4.70970970970971,4.714714714714715,4.71971971971972,4.724724724724725,4.72972972972973,4.734734734734735,4.73973973973974,4.744744744744745,4.74974974974975,4.754754754754755,4.75975975975976,4.764764764764765,4.76976976976977,4.774774774774775,4.77977977977978,4.784784784784785,4.78978978978979,4.794794794794795,4.7997997997998,4.804804804804805,4.80980980980981,4.814814814814815,4.81981981981982,4.824824824824825,4.82982982982983,4.834834834834835,4.83983983983984,4.844844844844845,4.84984984984985,4.854854854854855,4.85985985985986,4.864864864864865,4.86986986986987,4.874874874874875,4.87987987987988,4.884884884884885,4.88988988988989,4.894894894894895,4.8998998998999,4.904904904904905,4.90990990990991,4.914914914914915,4.91991991991992,4.924924924924925,4.92992992992993,4.934934934934935,4.93993993993994,4.944944944944945,4.94994994994995,4.954954954954955,4.95995995995996,4.964964964964965,4.96996996996997,4.974974974974975,4.97997997997998,4.984984984984985,4.98998998998999,4.994994994994995,5.0],"y":[0.0,6.427083172671659e-05,0.0009938163820295508,0.003947021558133922,0.009504741061222215,0.017751501620652078,0.028500106125825205,0.04144055418396152,0.05622330036318669,0.07250263709146883,0.08995767862464105,0.10830112600126474,0.12728152297088,0.14668217232971656,0.16631846268916087,0.18603456306101943,0.20569999847871057,0.22520637048326203,0.24446434666406525,0.2634009661099153,0.28195726583197833,0.30008621171271377,0.31775090754365487,0.3349230521677496,0.351581614697145,0.36771169953244215,0.3833035754874496,0.3983518461735479,0.4128547416194745,0.42681351374187193,0.44023192067027433,0.45311578704637057,0.4654726292666722,0.4773113362387945,0.48864189759895477,0.49947517251814544,0.5098226932321607,0.5196964982897837,0.5291089912450527,0.5380728211422587,0.5466007816722894,0.5547057263300671,0.5624004972870048,0.5696978660197856,0.5766104840159424,0.5831508421149941,0.5893312372474403,0.5951637455079711,0.6006602006482213,0.6058321772020331,0.6106909775656524,0.6152476224492482,0.6195128441968831,0.6234970825415083,0.6272104824213304,0.6306628935353976,0.6338638713606661,0.6368226793911187,0.6395482923926143,0.6420494004957238,0.6443344139735475,0.6464114685728913,0.648288431285692,0.6499729064636134,0.6514722421926181,0.6527935368563494,0.6539436458275796,0.6549291882360146,0.6557565537685717,0.6564319094650293,0.6569612064778204,0.6573501867698327,0.6576043897284731,0.6577291586780728,0.6577296472759877,0.6576108257806008,0.6573774871818724,0.6570342531872007,0.6565855800571629,0.6560357642872626,0.6553889481331382,0.6546491249778236,0.6538201445406127,0.6529057179278998,0.6519094225270538,0.6508347067449581,0.6496848945933332,0.6484631901233457,0.6471726817123385,0.6458163462057674,0.6443970529176403,0.6429175674929067,0.6413805556353693,0.639788586704761,0.6381441371866936,0.6364495940392023,0.6347072579196198,0.6329193462954981,0.6310879964432669,0.6292152683382758,0.6273031474398165,0.6253535473746527,0.6233683125225241,0.6213492205070137,0.6192979845950822,0.6172162560084997,0.6151056261503117,0.6129676287493935,0.6108037419260559,0.6086153901815792,0.6064039463144585,0.6041707332660625,0.6019170258983108,0.5996440527058983,0.597352997465499,0.5950450008243093,0.5927211618301985,0.5903825394056603,0.588030153767679,0.5856649877955467,0.5832879883485965,0.5809000675357398,0.5785021039386313,0.5760949437902138,0.573679402110329,0.5712562638000213,0.5688262846960935,0.56639019258742,0.5639486881944614,0.561502446113373,0.559052115726041,0.556598322077336,0.5541416667208164,0.5516827285340716,0.5492220645048471,0.5467602104890503,0.5442976819416899,0.5418349746217676,0.5393725652720933,0.5369109122749645,0.5344504562846067,0.5319916208372475,0.5295348129396469,0.5270804236368948,0.524628828560236,0.5221803884556663,0.5197354496940084,0.5172943447631524,0.5148573927431155,0.512424899764553,0.5099971594513275,0.5075744533477204,0.5051570513308445,0.5027452120087997,0.5003391831050888,0.4979392018297928,0.4955454952379855,0.49315828057584815,0.4907777656149288,0.4884041489749721,0.48603762043573157,0.4836783612381577,0.4813265443753427,0.4789823348735895,0.4766458900639517,0.47431735984458884,0.4719968869342601,0.4696846071172691,0.46738064948016395,0.46508513664048123,0.4627981849678157,0.46051990479748217,0.45825040063703193,0.4559897713658711,0.4537381104282231,0.4514955060196651,0.4492620412674633,0.4470377944049201,0.44482283893994196,0.4426172438180258,0.4404210735798569,0.4382343885137028,0.4360572448027827,0.43388969466778277,0.43173178650468436,0.42958356501806383,0.4274450713500183,0.4253163432048667,0.42319741496976676,0.4210883178313886,0.4189890798887766,0.4168997262625273,0.41482027920040865,0.41275075817953855,0.41069118000523824,0.408641558906672,0.40660190662937923,0.4045722325248041,0.4025525436369202,0.4005428447860479,0.39854313864995755,0.3965534258423474,0.39457370498878197,0.3926039728001768,0.3906442241439081,0.38869445211262577,0.3867546480908452,0.38482480181939027,0.3829049014577573,0.38099493364446857,0.37909488355547893,0.37720473496070145,0.37532447027870997,0.37345407062967995,0.37159351588662315,0.3697427847249716,0.367901854670564,0.36607070214608595,0.36424930251601306,0.3624376301301061,0.3606356583655028,0.3588433596674538,0.35706070558874164,0.35528766682783025,0.35352421326578093,0.3517703140019759,0.3500259373886865,0.34829105106452435,0.34656562198680835,0.3448496164628831,0.3431430001804225,0.34144573823674856,0.3397577951671993,0.3380791349725716,0.3364097211456729,0.33474951669700553,0.3330984841796129,0.3314565857131141,0.3298237830069508,0.3282000373828727,0.32658530979668304,0.32497956085927093,0.32338275085694884,0.3217948397711184,0.32021578729728695,0.3186455528634521,0.3170840956478762,0.315531374596269,0.3139873484383957,0.3124519757041307,0.31092521473897095,0.30940702371902906,0.3078973606655196,0.3063961834587548,0.30490344985166673,0.30341911748286715,0.3019431438892628,0.3004754865182371,0.2990161027394135,0.29756494985601184,0.29612198511581206,0.29468716572173514,0.2932604488420552,0.2918417916202522,0.2904311511845182,0.2890284846569261,0.2876337491622723,0.2862469018366029,0.2848678998354332,0.2834967003416702,0.2821332605732468,0.2807775377904772,0.27942948930314077,0.27808907247730447,0.27675624474189087,0.2754309635949993,0.2741131866099887,0.2728028714413285,0.2714999758302257,0.2702044576100338,0.2689162747114518,0.2676353851675179,0.2663617471184065,0.26509531881603254,0.26383605862846987,0.26258392504419,0.26133887667612593,0.26010087226556683,0.2588698706858886,0.2576458309461263,0.2564287121943916,0.25521847372114215,0.2540150749623054,0.25281847550226366,0.2516286350767024,0.2504455135753279,0.2492690710444572,0.2480992676894851,0.2469360638772317,0.24577942013817375,0.24462929716856505,0.2434856558324473,0.24234845716355619,0.24121766236712644,0.24009323282159725,0.23897513008022322,0.23786331587259268,0.2367577521060561,0.23565840086706918,0.23456522442245092,0.2334781852205615,0.23239724589240104,0.2313223692526334,0.23025351830053517,0.22919065622087526,0.2281337463847241,0.2270827523501976,0.22603763786313616,0.22499836685772176,0.2239649034570347,0.22293721197355237,0.2219152569095918,0.22089900295769768,0.21988841500097847,0.21888345811339097,0.21788409755997626,0.21689029879704874,0.21590202747233833,0.21491924942508983,0.21394193068611866,0.21297003747782572,0.2120035362141727,0.21104239350061907,0.2100865761340214,0.20913605110249828,0.20819078558525955,0.20725074695240311,0.20631590276467968,0.20538622077322632,0.20446166891927092,0.2035422153338076,0.20262782833724474,0.20171847643902657,0.2008141283372291,0.19991475291813188,0.19902031925576572,0.19813079661143795,0.1972461544332359,0.1963663623555097,0.1954913901983342,0.19462120796695254,0.19375578585120062,0.192895094224914,0.19203910364531793,0.19118778485240068,0.1903411087682717,0.18949904649650473,0.18866156932146655,0.18782864870763213,0.18700025629888667,0.18617636391781553,0.18535694356498175,0.184541967418193,0.18373140783175704,0.1829252373357274,0.1821234286351393,0.1813259546092362,0.18053278831068756,0.1797439029647988,0.17895927196871267,0.17817886889060383,0.17740266746886615,0.17663064161129363,0.17586276539425502,0.17509901306186262,0.17433935902513586,0.17358377786115953,0.17283224431223765,0.17208473328504267,0.1713412198497609,0.17060167923923392,0.16986608684809676,0.16913441823191283,0.16840664910630648,0.1676827553460921,0.1669627129844018,0.1662464982118105,0.16553408737545972,0.16482545697817932,0.1641205836776082,0.1634194442853141,0.16272201576591216,0.16202827523618318,0.16133819996419113,0.16065176736840073,0.1599689550167948,0.15928974062599174,0.1586141020603635,0.15794201733115365,0.15727346459559666,0.15660842215603749,0.15594686845905256,0.15528878209457128,0.15463414179499954,0.15398292643434416,0.15333511502733893,0.15269068672857214,0.15204962083161666,0.1514118967681608,0.15077749410714214,0.15014639255388285,0.14951857194922785,0.14889401226868462,0.14827269362156595,0.14765459625013522,0.14703970052875395,0.1464279869630324,0.14581943618898274,0.14521402897217536,0.1446117462068977,0.1440125689153166,0.14341647824664353,0.14282345547630268,0.14223348200510286,0.14164653935841226,0.14106260918533664,0.14048167325790117,0.13990371347023522,0.13932871183776127,0.1387566504963868,0.13818751170170024,0.13762127782817027,0.13705793136834898,0.13649745493207854,0.135939831245702,0.1353850431512775,0.1348330736057964,0.13428390568040577,0.13373752255963364,0.1331939075406196,0.13265304403234815,0.13211491555488666,0.13157950573862714,0.13104679832353203,0.13051677715838403,0.12998942620003986,0.1294647295126885,0.12894267126711273,0.12842323573995573,0.12790640731299088,0.12739217047239643,0.1268805098080338,0.12637141001273003,0.12586485588156485,0.12536083231116127,0.12485932429898082,0.1243603169426224,0.12386379543912619,0.12336974508428057,0.12287815127193435,0.12238899949331203,0.1219022753363344,0.1214179644849422,0.12093605271842481,0.12045652591075261,0.11997937002991346,0.11950457113725373,0.11903211538682314,0.11856198902472377,0.11809417838846321,0.1176286699063121,0.11716545009666535,0.11670450556740776,0.11624582301528359,0.11578938922527043,0.11533519106995674,0.11488321550892408,0.11443344958813265,0.11398588043931158,0.11354049527935266,0.1130972814097085,0.11265622621579459,0.11221731716639513,0.11178054181307326,0.11134588778958487,0.11091334281129654,0.11048289467460727,0.11005453125637453,0.10962824051334365,0.10920401048158149,0.10878182927591393,0.108361685089367,0.10794356619261217,0.10752746093341511,0.10711335773608872,0.10670124510094946,0.1062911116037777,0.10588294589528188,0.10547673670056629,0.1050724728186024,0.10467014312170436,0.10426973655500794,0.10387124213595272,0.10347464895376864,0.10307994616896582,0.10268712301282777,0.10229616878690875,0.10190707286253402,0.10151982468030434,0.10113441374960333,0.10075082964810894,0.10036906202130788,0.09998910058201398,0.09961093510988955,0.09923455545097085,0.09885995151719587,0.09848711328593684,0.09811603079953493,0.09774669416483919,0.09737909355274815,0.09701321919775521,0.09664906139749703,0.09628661051230533,0.09592585696476201,0.09556679123925718,0.09520940388155087,0.09485368549833756,0.09449962675681399,0.09414721838425014,0.09379645116756342,0.09344731595289599,0.09309980364519467,0.09275390520779482,0.09240961166200654,0.09206691408670403,0.0917258036179184,0.0913862714484329,0.09104830882738137,0.09071190705984979,0.09037705750648052,0.0900437515830797,0.08971198076022707,0.08938173656288943,0.08905301057003613,0.08872579441425806,0.088400079781389,0.08807585841013015,0.08775312209167703,0.08743186266934938,0.087112072038224,0.0867937421447698,0.08647686498648596,0.0861614326115426,0.0858474371184243,0.08553487065557588,0.08522372542105136,0.08491399366216486,0.08460566767514481,0.08429873980479016,0.08399320244412953,0.0836890480340824,0.08338626906312355,0.08308485806694935,0.08278480762814681,0.08248611037586509,0.08218875898548947,0.08189274617831753,0.08159806472123812,0.08130470742641242,0.08101266715095748,0.08072193679663202,0.08043250930952489,0.0801443776797454,0.07985753494111622,0.07957197417086874,0.07928768848934017,0.07900467105967354,0.07872291508751932,0.0784424138207398,0.07816316054911537,0.07788514860405304,0.07760837135829714,0.07733282222564228,0.07705849466064824,0.07678538215835716,0.07651347825401299,0.07624277652278255,0.07597327057947893,0.07570495407828742,0.0754378207124924,0.07517186421420759,0.07490707835410701,0.07464345694115901,0.07438099382236169,0.07411968288248032,0.0738595180437871,0.07360049326580236,0.07334260254503809,0.07308583991474318,0.0728301994446505,0.07257567524072614,0.07232226144492024,0.0720699522349197,0.07181874182390308,0.0715686244602967,0.07131959442753316,0.07107164604381137,0.0708247736618583,0.0705789716686927,0.07033423448539047,0.07009055656685174,0.06984793240156977,0.06960635651140154,0.06936582345134,0.06912632780928805,0.06888786420583418,0.06865042729402981,0.06841401175916825,0.06817861231856534,0.0679442237213417,0.06771084074820638,0.06747845821124272,0.06724707095369498,0.06701667384975722,0.06678726180436335,0.06655882975297914,0.066331372661395,0.0661048855255214,0.06587936337118475,0.06565480125392543,0.0654311942587971,0.06520853750016747,0.06498682612152076,0.06476605529526124,0.06454622022251845,0.06432731613295405,0.06410933828456962,0.06389228196351632,0.06367614248390567,0.0634609151876219,0.06324659544413552,0.06303317865031852,0.06282066023026049,0.06260903563508666,0.062398300342776804,0.06218844985798569,0.06197947971186488,0.061771385461885674,0.0615641626916635,0.06135780701078358,0.0611523140546278,0.06094767948420289,0.0607438989859699,0.06054096827167477,0.06033888307818055,0.060137639167300194,0.059937232325631154,0.05973765836439101,0.05953891311925406,0.05934099245018953,0.059143892241300636,0.058947608400664854,0.05875213686017563,0.05855747357538485,0.05836361452534677,0.05817055571246285,0.057978293162327964,0.0577868229235776,0.05759614106773593,0.05740624368906565,0.05721712690441802,0.05702878685308481,0.05684121969665075,0.056654421618847484,0.05646838882540808,0.05628311754392323,0.056098604023697866,0.05591484453560921,0.055731835371965736,0.05554957284636713,0.05536805329356535,0.05518727306932655,0.05500722855029407,0.05482791613385249,0.05464933223799252,0.05447147330117706,0.05429433578220798,0.05411791616009402,0.053942210933919696,0.05376721662271493,0.053592929765325835,0.05341934692028625,0.053246464665690545,0.05307427959906667,0.052902788337250886,0.052731987516262915,0.05256187379118204,0.052392443836024274,0.0522236943436202,0.05205562202549391,0.0518882236117425,0.05172149585091672,0.05155543550990241,0.05139003937380259,0.05122530424582068,0.051061226947144295,0.0508978043168301,0.0507350332116892,0.05057291050617376,0.05041143309226388,0.05025059787935592,0.05009040179415093,0.04993084178054448,0.04977191479951692,0.04961361782902454,0.04945594786389138,0.04929890191570204,0.04914247701269498,0.04898667019965681,0.04883147853781714,0.04867689910474431,0.04852292899424176,0.0483695653162452,0.04821680519672049,0.04806464577756217,0.047913084216492756,0.04776211768696298,0.04761174337805212,0.04746195849436975,0.04731276025595761,0.04716414589819262,0.047016112671690126,0.046868657842208304,0.046721778690552766,0.04657547251248213,0.04642973661861424,0.04628456833433296,0.04613996499969548,0.04599592396934072,0.04585244261239775,0.04570951831239549,0.04556714846717249,0.045425330488787746,0.04528406180343189,0.04514333985133908,0.04500316208669956,0.04486352597757263,0.04472442900580063,0.04458586866692295,0.044447842470091176,0.04431034793798441,0.04417338260672557,0.04403694402579779,0.043901029757961875,0.043765637379174105,0.04363076447850448,0.04349640865805577,0.04336256753288309,0.04322923873091376,0.0430964198928682,0.04296410867218082,0.042832302734921904,0.04270099975971977,0.042570197437683685,0.042439893472326976,0.04231008557949097,0.04218077148726942,0.04205194893593328,0.04192361567785612,0.04179576947744016,0.041668408111042464,0.041541529366902016,0.04141513104506711,0.041289210957323276,0.041163766927121585,0.041038796789507725,0.04091429839105121,0.04079026958977534,0.040666708255087496,0.04054361226771001,0.040420979519611294,0.040298807913937904,0.04017709536494639,0.040055839797936234,0.03993503914918285,0.03981469136587125,0.03969479440603002,0.0395753462384658,0.03945634484269832,0.03933778820889559,0.03921967433780984,0.039102001240713745,0.038984766939337,0.038867969465803544,0.03875160686256895,0.03863567718235849,0.03852017848810538,0.03840510885288962,0.03829046635987714,0.0381762491022595,0.038062455183193684,0.03794908271574269,0.03783612982281624,0.037723594637111994,0.037611475301057164,0.03749976996675042,0.03738847679590435,0.03727759395978823,0.03716711963917099,0.037057052024264986,0.03694738931466964,0.036838129719315875,0.03672927145641073,0.03662081275338228,0.036512751846825134,0.03640508698244607,0.036297816415010134,0.0361909384082872,0.036084451234998635,0.03597835317676457,0.03587264252405138,0.035767317576119555,0.035662376640971764,0.03555781803530168,0.03545364008444264,0.03534984112231693,0.03524641949138536,0.03514337354259717,0.035040701635340184,0.03493840213739145,0.0348364734248681,0.0347349138821784,0.03463372190197354,0.03453289588509915,0.0344324342405478,0.03433233538541115,0.034232597744832935,0.03413321975196196,0.03403419984790554,0.03393553648168312,0.033837228110180397,0.033739273198103575,0.033641670217933864,0.033544417649882516,0.033447513981845985,0.03335095770936133,0.033254747335562114,0.03315888137113432,0.033063358334272826,0.03296817675063794,0.03287333515331237,0.03277883208275843,0.0326846660867754,0.03259083572045737,0.032497339546151235,0.032404176133415,0.03231134405897623,0.03221884190669107,0.032126668267503135,0.03203482173940299,0.031943300927387765,0.03185210444342096,0.03176123090639263,0.03167067894207977,0.03158044718310698,0.031490534268907314,0.03140093884568351,0.03131165956636931,0.03122269509059115,0.03113404408463007,0.03104570522138377,0.03095767718032912,0.03086995864748468,0.030782548315373543,0.030695444882986547,0.0306086470557455,0.03052215354546681,0.030435963070325204,0.030350074354817874,0.030264486129728603,0.030179197132092394,0.03009420610516003,0.030009511798363104,0.029925112967279226,0.029841008373597204,0.029757196785082853,0.029673676975544704,0.029590447724800094,0.029507507818641296,0.029424856048802163,0.029342491212924572,0.0292604121145256,0.029178617562964283,0.02909710637340919,0.02901587736680577,0.028934929369844136,0.02885426121492693,0.02877387174013747,0.028693759789208084,0.02861392421148855,0.02853436386191488,0.028455077600978197,0.028376064294693804,0.028297322814570612,0.02821885203758042,0.028140650846127817,0.02806271812801981,0.027985052776436165,0.02790765368989936,0.027830519772245228,0.02775364993259348,0.027677043085318497,0.02760069815002036,0.02752461405149593,0.027448789719710244,0.027373224089768045,0.0272979161018854,0.02722286470136167,0.027148068838551448,0.027073527468836837,0.02699923955259984,0.026925204055194923,0.026851419946921636,0.026777886202997717,0.026704601803531913,0.02663156573349745,0.026558776982705267,0.026486234545777556,0.02641393742212166,0.02634188461590374,0.02627007513602304,0.026198507996085835,0.02612718221438007,0.02605609681384963,0.025985250822069213,0.025914643271219,0.02584427319805981,0.025774139643908036,0.025704241654611125,0.025634578280522912,0.025565148576479225,0.025495951601773637,0.025426986420133392,0.025358252099695333,0.025289747712982216,0.025221472336878933,0.025153425052609032,0.025085604945711343,0.02501801110601667,0.024950642627624725,0.024883498608881217,0.02481657815235492,0.024749880364815076,0.024683404357208786,0.024617149244638648,0.024551114146340466,0.024485298185661065,0.02441970049003634,0.02435432019096935,0.024289156424008574,0.024224208328726342,0.02415947504869725,0.024094955731476936,0.024030649528580736,0.023966555595462673,0.023902673091494495,0.023839001179944697,0.023775539027957964,0.02371228580653449,0.02364924069050953,0.023586402858533,0.023523771493049347,0.023461345780277372,0.023399124910190205,0.023337108076495607,0.023275294476615957,0.023213683311668894,0.023152273786447616,0.02309106510940153,0.023030056492617038,0.02296924715179826,0.022908636306248058,0.022848223178849075,0.022788006996044878,0.022727986987821303,0.022668162387687787,0.02260853243265887,0.0225490963632359,0.022489853423388644,0.02243080286053717,0.022371943925533797,0.022313275872645113,0.022254797959534122,0.022196509447242566,0.02213840960017315,0.022080497686072186,0.022022772976011965,0.021965234744373594,0.02190788226882968,0.021850714830327203],"type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"showlegend":false,"xaxis":{"title":{"text":""}},"yaxis":{"title":{"text":"Lognormal density"}},"height":300},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('b9fa6d80-b5b1-4a7d-a8cf-49f0c4a6ed97');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</figure>
</div>
</div>
<p>An important stochastic process is geometric Brownian motion given by <span id="eq-exponential1"><span class="math display">\[
S_t=S_0\mathrm{e}^{\mu t- \sigma^2 t/2 + \sigma B_t}
\qquad(4.2)\]</span></span> for constants <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span>, where <span class="math inline">\(B\)</span> is a Brownian motion. For each time <span class="math inline">\(t\)</span>, the random variable <span class="math inline">\(S_t\)</span> in <a href="#eq-exponential1" class="quarto-xref">Equation&nbsp;<span>4.2</span></a> is a lognormal random variable. Ito’s formula for exponentials of Ito processes implies <span id="eq-Y"><span class="math display">\[
\frac{\,\mathrm{d}S}{S} = \mu\,\mathrm{d}t+\sigma\,\mathrm{d}B\;.
\qquad(4.3)\]</span></span> When we see an equation of the form <a href="#eq-Y" class="quarto-xref">Equation&nbsp;<span>4.3</span></a>, we should recognize <a href="#eq-exponential1" class="quarto-xref">Equation&nbsp;<span>4.2</span></a> as the solution.</p>
<p>The process <span class="math inline">\(S\)</span> is called a geometric Brownian motion. We interpret <a href="#eq-Y" class="quarto-xref">Equation&nbsp;<span>4.3</span></a> as stating that <span class="math inline">\(\mu\,\mathrm{d}t\)</span> is the expected rate of change of <span class="math inline">\(S\)</span> and <span class="math inline">\(\sigma^2\,\mathrm{d}t\)</span> is the variance of the rate of change in an instant <span class="math inline">\(\,\mathrm{d}t\)</span>. We call <span class="math inline">\(\mu\)</span> the <strong>drift</strong> and <span class="math inline">\(\sigma\)</span> the <strong>volatility</strong>. The geometric Brownian motion grows at the average rate of <span class="math inline">\(\mu\)</span>, in the sense that <span class="math inline">\(\mathbb{E}[S_t] = \mathrm{e}^{\mu t}S_0\)</span>. This can be verified with the aid of <a href="#eq-lognormal" class="quarto-xref">Equation&nbsp;<span>4.1</span></a>.</p>
<p>If <span class="math inline">\(\mu=0\)</span>, then <span class="math inline">\(\mathbb{E}[S_t] = S_0\)</span>. In fact, a geometric Brownian motion <span class="math inline">\(S\)</span> as in <a href="#eq-exponential1" class="quarto-xref">Equation&nbsp;<span>4.2</span></a> and <a href="#eq-Y" class="quarto-xref">Equation&nbsp;<span>4.3</span></a> is a martingale when <span class="math inline">\(\mu=0\)</span>. It is an example of what is called an <strong>exponential martingale</strong>. An exponential is always positive, so an exponential martingale is always positive.</p>
<p>Taking the natural logarithm of <a href="#eq-exponential1" class="quarto-xref">Equation&nbsp;<span>4.2</span></a> gives an equivalent form of the solution: <span id="eq-exponential2"><span class="math display">\[
\log S_t= \log S_0+\left(\mu -\frac{1}{2}\sigma^2\right)t + \sigma B_t\;.
\qquad(4.4)\]</span></span> This shows that <span class="math inline">\(\log S_t - \log S_0\)</span> is a <span class="math inline">\((\mu-\sigma^2/2,\sigma)\)</span>–Brownian motion. Given information at time <span class="math inline">\(t\)</span>, the logarithm of <span class="math inline">\(S(u)\)</span> for <span class="math inline">\(u&gt;t\)</span> is normally distributed with mean <span class="math inline">\((u-t)(\mu-\sigma^2/2)\)</span> and variance <span class="math inline">\((u-t)\sigma^2\)</span>. Because <span class="math inline">\(S\)</span> is the exponential of its logarithm, <span class="math inline">\(S\)</span> can never be negative. For this reason, a geometric Brownian motion is a better model for stock prices than is a Brownian motion. The differential of <a href="#eq-exponential2" class="quarto-xref">Equation&nbsp;<span>4.4</span></a> is <span id="eq-exponential3"><span class="math display">\[
\,\mathrm{d}\log S_t = \left(\mu -\frac{1}{2}\sigma^2\right)\,\mathrm{d}t+ \sigma\,\mathrm{d}B_t\;.
\qquad(4.5)\]</span></span></p>
<p>We can summarize this discussion as follows.</p>
<div class="callout callout-style-simple callout-Principle callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Principle
</div>
</div>
<div class="callout-body-container callout-body">
<p>The equation <span class="math display">\[\frac{\,\mathrm{d}S}{S} = \mu\,\mathrm{d}t+\sigma\,\mathrm{d}B\]</span> is equivalent to the equation <span class="math display">\[\,\mathrm{d}\log S = \left(\mu -\frac{1}{2}\sigma^2\right)\,\mathrm{d}t+ \sigma\,\mathrm{d}B\; .\]</span> The solution of both equations is <a href="#eq-exponential1" class="quarto-xref">Equation&nbsp;<span>4.2</span></a> or the equivalent <a href="#eq-exponential2" class="quarto-xref">Equation&nbsp;<span>4.4</span></a>.</p>
</div>
</div>
<p>We can simulate a path of a geometric Brownian motion <span class="math inline">\(S\)</span> by first simulating <span class="math inline">\(\log S\)</span> and then computing the exponential. We simulate the changes <span class="math inline">\(\Delta \log S\)</span> as normally distributed random variables with mean equal to <span class="math inline">\((\mu-\sigma^2/2)\Delta t\)</span> and variance equal to <span class="math inline">\(\sigma^2\Delta t\)</span>. We could also simulate the changes <span class="math inline">\(\Delta \log S\)</span> using a binomial model as in <a href="Chapter_Brownian.html#sec-s:brownian_binomial" class="quarto-xref"><span>Section 2.2</span></a>.</p>
<div id="cell-fig-gbm-sim" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="dv">1000</span>     <span class="co"># number of divisions</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>mu <span class="op">=</span> <span class="fl">0.1</span>    <span class="co"># drift</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>sigma <span class="op">=</span> <span class="fl">0.3</span> <span class="co"># Volatility</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>S0 <span class="op">=</span>  <span class="dv">100</span>   <span class="co"># initial value</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> <span class="dv">1</span>       <span class="co"># length of simulation</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>dt <span class="op">=</span> T <span class="op">/</span> n  <span class="co"># Delta t</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>steps <span class="op">=</span> np.random.normal(</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    loc <span class="op">=</span> mu<span class="op">-</span><span class="fl">0.5</span><span class="op">*</span>sigma<span class="op">**</span><span class="dv">2</span>, </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    scale <span class="op">=</span> sigma<span class="op">*</span>np.sqrt(dt),</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    size <span class="op">=</span> n</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>logS <span class="op">=</span> np.empty(n<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>logS[<span class="dv">0</span>] <span class="op">=</span> np.log(S0)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>logS[<span class="dv">1</span>:] <span class="op">=</span> logS[<span class="dv">0</span>] <span class="op">+</span> np.cumsum(steps)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> np.exp(logS)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure(</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>    go.Scatter(</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>np.arange(<span class="dv">0</span>, T<span class="op">+</span>dt, dt),</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>S,</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>        mode<span class="op">=</span><span class="st">"lines"</span>,</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>        hovertemplate<span class="op">=</span><span class="st">"t = %</span><span class="sc">{x:.2f}</span><span class="st">&lt;br&gt;S = %</span><span class="sc">{y:.2f}</span><span class="st">&lt;extra&gt;&lt;/extra&gt;"</span>, <span class="co">#</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    showlegend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    xaxis_title<span class="op">=</span><span class="st">"Time"</span>,</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    yaxis_title<span class="op">=</span><span class="st">"Simulated GBM"</span>,</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    template<span class="op">=</span><span class="st">"plotly_white"</span>,</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">300</span>,</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div id="fig-gbm-sim" class="cell-output cell-output-display quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-fig" id="fig-gbm-sim-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.2: A path of a simulated geometric Brownian motion with mu=0.1, sigma=0.3, and 1,000 steps.
</figcaption>
<div aria-describedby="fig-gbm-sim-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div>                            <div id="ffca4d04-de69-4f9d-a098-07a381bcaa72" class="plotly-graph-div" style="height:300px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("ffca4d04-de69-4f9d-a098-07a381bcaa72")) {                    Plotly.newPlot(                        "ffca4d04-de69-4f9d-a098-07a381bcaa72",                        [{"hovertemplate":"t = %{x:.2f}\u003cbr\u003eS = %{y:.2f}\u003cextra\u003e\u003c\u002fextra\u003e","mode":"lines","x":[0.0,0.001,0.002,0.003,0.004,0.005,0.006,0.007,0.008,0.009000000000000001,0.01,0.011,0.012,0.013000000000000001,0.014,0.015,0.016,0.017,0.018000000000000002,0.019,0.02,0.021,0.022,0.023,0.024,0.025,0.026000000000000002,0.027,0.028,0.029,0.03,0.031,0.032,0.033,0.034,0.035,0.036000000000000004,0.037,0.038,0.039,0.04,0.041,0.042,0.043000000000000003,0.044,0.045,0.046,0.047,0.048,0.049,0.05,0.051000000000000004,0.052000000000000005,0.053,0.054,0.055,0.056,0.057,0.058,0.059000000000000004,0.06,0.061,0.062,0.063,0.064,0.065,0.066,0.067,0.068,0.069,0.07,0.07100000000000001,0.07200000000000001,0.073,0.074,0.075,0.076,0.077,0.078,0.079,0.08,0.081,0.082,0.083,0.084,0.085,0.08600000000000001,0.08700000000000001,0.088,0.089,0.09,0.091,0.092,0.093,0.094,0.095,0.096,0.097,0.098,0.099,0.1,0.101,0.10200000000000001,0.10300000000000001,0.10400000000000001,0.105,0.106,0.107,0.108,0.109,0.11,0.111,0.112,0.113,0.114,0.115,0.116,0.117,0.11800000000000001,0.11900000000000001,0.12,0.121,0.122,0.123,0.124,0.125,0.126,0.127,0.128,0.129,0.13,0.131,0.132,0.133,0.134,0.135,0.136,0.137,0.138,0.139,0.14,0.14100000000000001,0.14200000000000002,0.14300000000000002,0.14400000000000002,0.145,0.146,0.147,0.148,0.149,0.15,0.151,0.152,0.153,0.154,0.155,0.156,0.157,0.158,0.159,0.16,0.161,0.162,0.163,0.164,0.165,0.166,0.167,0.168,0.169,0.17,0.171,0.17200000000000001,0.17300000000000001,0.17400000000000002,0.17500000000000002,0.176,0.177,0.178,0.179,0.18,0.181,0.182,0.183,0.184,0.185,0.186,0.187,0.188,0.189,0.19,0.191,0.192,0.193,0.194,0.195,0.196,0.197,0.198,0.199,0.2,0.201,0.202,0.203,0.20400000000000001,0.20500000000000002,0.20600000000000002,0.20700000000000002,0.20800000000000002,0.209,0.21,0.211,0.212,0.213,0.214,0.215,0.216,0.217,0.218,0.219,0.22,0.221,0.222,0.223,0.224,0.225,0.226,0.227,0.228,0.229,0.23,0.231,0.232,0.233,0.234,0.23500000000000001,0.23600000000000002,0.23700000000000002,0.23800000000000002,0.23900000000000002,0.24,0.241,0.242,0.243,0.244,0.245,0.246,0.247,0.248,0.249,0.25,0.251,0.252,0.253,0.254,0.255,0.256,0.257,0.258,0.259,0.26,0.261,0.262,0.263,0.264,0.265,0.266,0.267,0.268,0.269,0.27,0.271,0.272,0.273,0.274,0.275,0.276,0.277,0.278,0.279,0.28,0.281,0.28200000000000003,0.28300000000000003,0.28400000000000003,0.28500000000000003,0.28600000000000003,0.28700000000000003,0.28800000000000003,0.289,0.29,0.291,0.292,0.293,0.294,0.295,0.296,0.297,0.298,0.299,0.3,0.301,0.302,0.303,0.304,0.305,0.306,0.307,0.308,0.309,0.31,0.311,0.312,0.313,0.314,0.315,0.316,0.317,0.318,0.319,0.32,0.321,0.322,0.323,0.324,0.325,0.326,0.327,0.328,0.329,0.33,0.331,0.332,0.333,0.334,0.335,0.336,0.337,0.338,0.339,0.34,0.341,0.342,0.343,0.34400000000000003,0.34500000000000003,0.34600000000000003,0.34700000000000003,0.34800000000000003,0.34900000000000003,0.35000000000000003,0.35100000000000003,0.352,0.353,0.354,0.355,0.356,0.357,0.358,0.359,0.36,0.361,0.362,0.363,0.364,0.365,0.366,0.367,0.368,0.369,0.37,0.371,0.372,0.373,0.374,0.375,0.376,0.377,0.378,0.379,0.38,0.381,0.382,0.383,0.384,0.385,0.386,0.387,0.388,0.389,0.39,0.391,0.392,0.393,0.394,0.395,0.396,0.397,0.398,0.399,0.4,0.401,0.402,0.403,0.404,0.405,0.406,0.40700000000000003,0.40800000000000003,0.40900000000000003,0.41000000000000003,0.41100000000000003,0.41200000000000003,0.41300000000000003,0.41400000000000003,0.41500000000000004,0.41600000000000004,0.417,0.418,0.419,0.42,0.421,0.422,0.423,0.424,0.425,0.426,0.427,0.428,0.429,0.43,0.431,0.432,0.433,0.434,0.435,0.436,0.437,0.438,0.439,0.44,0.441,0.442,0.443,0.444,0.445,0.446,0.447,0.448,0.449,0.45,0.451,0.452,0.453,0.454,0.455,0.456,0.457,0.458,0.459,0.46,0.461,0.462,0.463,0.464,0.465,0.466,0.467,0.468,0.46900000000000003,0.47000000000000003,0.47100000000000003,0.47200000000000003,0.47300000000000003,0.47400000000000003,0.47500000000000003,0.47600000000000003,0.47700000000000004,0.47800000000000004,0.47900000000000004,0.48,0.481,0.482,0.483,0.484,0.485,0.486,0.487,0.488,0.489,0.49,0.491,0.492,0.493,0.494,0.495,0.496,0.497,0.498,0.499,0.5,0.501,0.502,0.503,0.504,0.505,0.506,0.507,0.508,0.509,0.51,0.511,0.512,0.513,0.514,0.515,0.516,0.517,0.518,0.519,0.52,0.521,0.522,0.523,0.524,0.525,0.526,0.527,0.528,0.529,0.53,0.531,0.532,0.533,0.534,0.535,0.536,0.537,0.538,0.539,0.54,0.541,0.542,0.543,0.544,0.545,0.546,0.547,0.548,0.549,0.55,0.551,0.552,0.553,0.554,0.555,0.556,0.557,0.558,0.559,0.56,0.561,0.562,0.5630000000000001,0.5640000000000001,0.5650000000000001,0.5660000000000001,0.5670000000000001,0.5680000000000001,0.5690000000000001,0.5700000000000001,0.5710000000000001,0.5720000000000001,0.5730000000000001,0.5740000000000001,0.5750000000000001,0.5760000000000001,0.577,0.578,0.579,0.58,0.581,0.582,0.583,0.584,0.585,0.586,0.587,0.588,0.589,0.59,0.591,0.592,0.593,0.594,0.595,0.596,0.597,0.598,0.599,0.6,0.601,0.602,0.603,0.604,0.605,0.606,0.607,0.608,0.609,0.61,0.611,0.612,0.613,0.614,0.615,0.616,0.617,0.618,0.619,0.62,0.621,0.622,0.623,0.624,0.625,0.626,0.627,0.628,0.629,0.63,0.631,0.632,0.633,0.634,0.635,0.636,0.637,0.638,0.639,0.64,0.641,0.642,0.643,0.644,0.645,0.646,0.647,0.648,0.649,0.65,0.651,0.652,0.653,0.654,0.655,0.656,0.657,0.658,0.659,0.66,0.661,0.662,0.663,0.664,0.665,0.666,0.667,0.668,0.669,0.67,0.671,0.672,0.673,0.674,0.675,0.676,0.677,0.678,0.679,0.68,0.681,0.682,0.683,0.684,0.685,0.686,0.687,0.6880000000000001,0.6890000000000001,0.6900000000000001,0.6910000000000001,0.6920000000000001,0.6930000000000001,0.6940000000000001,0.6950000000000001,0.6960000000000001,0.6970000000000001,0.6980000000000001,0.6990000000000001,0.7000000000000001,0.7010000000000001,0.7020000000000001,0.7030000000000001,0.704,0.705,0.706,0.707,0.708,0.709,0.71,0.711,0.712,0.713,0.714,0.715,0.716,0.717,0.718,0.719,0.72,0.721,0.722,0.723,0.724,0.725,0.726,0.727,0.728,0.729,0.73,0.731,0.732,0.733,0.734,0.735,0.736,0.737,0.738,0.739,0.74,0.741,0.742,0.743,0.744,0.745,0.746,0.747,0.748,0.749,0.75,0.751,0.752,0.753,0.754,0.755,0.756,0.757,0.758,0.759,0.76,0.761,0.762,0.763,0.764,0.765,0.766,0.767,0.768,0.769,0.77,0.771,0.772,0.773,0.774,0.775,0.776,0.777,0.778,0.779,0.78,0.781,0.782,0.783,0.784,0.785,0.786,0.787,0.788,0.789,0.79,0.791,0.792,0.793,0.794,0.795,0.796,0.797,0.798,0.799,0.8,0.801,0.802,0.803,0.804,0.805,0.806,0.807,0.808,0.809,0.81,0.811,0.812,0.8130000000000001,0.8140000000000001,0.8150000000000001,0.8160000000000001,0.8170000000000001,0.8180000000000001,0.8190000000000001,0.8200000000000001,0.8210000000000001,0.8220000000000001,0.8230000000000001,0.8240000000000001,0.8250000000000001,0.8260000000000001,0.8270000000000001,0.8280000000000001,0.8290000000000001,0.8300000000000001,0.8310000000000001,0.8320000000000001,0.833,0.834,0.835,0.836,0.837,0.838,0.839,0.84,0.841,0.842,0.843,0.844,0.845,0.846,0.847,0.848,0.849,0.85,0.851,0.852,0.853,0.854,0.855,0.856,0.857,0.858,0.859,0.86,0.861,0.862,0.863,0.864,0.865,0.866,0.867,0.868,0.869,0.87,0.871,0.872,0.873,0.874,0.875,0.876,0.877,0.878,0.879,0.88,0.881,0.882,0.883,0.884,0.885,0.886,0.887,0.888,0.889,0.89,0.891,0.892,0.893,0.894,0.895,0.896,0.897,0.898,0.899,0.9,0.901,0.902,0.903,0.904,0.905,0.906,0.907,0.908,0.909,0.91,0.911,0.912,0.913,0.914,0.915,0.916,0.917,0.918,0.919,0.92,0.921,0.922,0.923,0.924,0.925,0.926,0.927,0.928,0.929,0.93,0.931,0.932,0.933,0.934,0.935,0.936,0.937,0.9380000000000001,0.9390000000000001,0.9400000000000001,0.9410000000000001,0.9420000000000001,0.9430000000000001,0.9440000000000001,0.9450000000000001,0.9460000000000001,0.9470000000000001,0.9480000000000001,0.9490000000000001,0.9500000000000001,0.9510000000000001,0.9520000000000001,0.9530000000000001,0.9540000000000001,0.9550000000000001,0.9560000000000001,0.9570000000000001,0.9580000000000001,0.9590000000000001,0.96,0.961,0.962,0.963,0.964,0.965,0.966,0.967,0.968,0.969,0.97,0.971,0.972,0.973,0.974,0.975,0.976,0.977,0.978,0.979,0.98,0.981,0.982,0.983,0.984,0.985,0.986,0.987,0.988,0.989,0.99,0.991,0.992,0.993,0.994,0.995,0.996,0.997,0.998,0.999,1.0],"y":[100.00000000000004,105.55501367190207,112.44753462371006,118.36481758478409,124.88774421283435,131.43493796285463,138.28126758971342,142.1630488783797,148.39418888297607,159.03245855022246,168.02678388388017,177.24576083247536,187.00671529622812,196.28921119956843,204.67474526761276,216.09381063273452,224.32743335459742,231.86471249804177,245.30918576615616,261.5887965034008,273.510357764649,285.7939345364318,298.5981365236894,315.0145017257943,332.2309549936265,347.05297017208926,366.1040447753175,393.8974558544155,413.3909560480307,434.7346858101431,455.0577273792443,484.31243447093266,513.5392717649847,544.7347932879155,571.6643977213309,607.609017071127,644.9609852566762,681.5639879240572,712.6738399650205,753.6674921397708,793.9717156443165,830.8552308120327,884.1862212592547,938.5251129319985,982.8453193474297,1034.604891700892,1095.7103941581895,1175.4193718917638,1243.0195339009672,1287.2516585480741,1365.1394846910232,1444.2130740387609,1531.577176224633,1631.8787807314177,1746.3861905520405,1843.3727432753255,1962.3185605088706,2058.622310162158,2174.7376254147334,2304.726878669295,2452.5545295093793,2587.8158776169425,2762.42936572184,3007.099906212778,3155.453072058071,3362.7228181805303,3531.690432371993,3734.950949615885,4016.1337340318564,4273.829266902782,4535.692293547854,4812.1073008629055,5130.610887660583,5416.758965887765,5803.060364121711,6112.809331239079,6399.069396106204,6786.8155194992405,7200.327080184197,7717.845308550558,8264.888326283917,8664.980486334483,9183.592011328883,9680.184132610666,10184.752298410498,10848.483918932963,11322.95446668299,11838.144597229853,12590.433345895777,13261.258795123946,13990.828472030049,14678.65238191117,15605.560379164079,16555.02723095351,17611.306120694182,18363.693553851917,19312.122587638845,20417.098036596777,21768.34479448728,22848.13442767049,24261.808114815074,25848.0587829211,27544.76287698518,29175.938594459716,31695.52426722365,33317.842838351666,35335.44657286697,37327.21465782156,39571.89135600453,41268.13635806291,44437.10749305627,46586.629703161794,49043.625039683706,52294.61411080071,54326.70066956854,56593.164210210605,58777.32553651246,62582.73281959343,66388.564936383,70324.43993949349,74574.37281183199,79130.5414926041,83583.46585019601,88611.60433998272,92918.51168380449,98855.06057257424,105134.66242164226,111237.94213164026,116845.54057861539,123272.87770838874,129930.83915383724,136157.02319790897,144417.6830867929,151190.0188268873,159222.8007556417,165488.1841947538,175939.54870137843,183559.22572153772,195446.57570157305,205054.67471294402,217858.4573755319,228591.3955779967,240421.31873857588,255995.99887925797,265819.67314463336,282677.4529407291,297070.9806585359,315002.5160653537,333904.1199243916,345077.711789869,360678.2731091719,382256.87629718654,409427.8204647139,424941.9970918757,453847.26703407906,488696.85943683155,520757.0090861276,553308.2812513238,590585.922642949,614228.8370497373,648514.9265623887,683654.8116380139,720347.6756397127,756684.8689806325,799249.6473620491,836855.4064386045,869560.9016505855,935299.9010018848,982968.7528663307,1041112.8769510696,1117624.017615194,1166255.1427389584,1245067.4378173763,1289604.7447664284,1361086.1700061427,1460268.5794419695,1540788.9572771122,1616251.7301792852,1699996.9995314823,1768411.1949139687,1839240.3741583736,1939204.3482237319,2034992.5824619518,2174832.2473488725,2353793.3855449767,2476207.7456244347,2609841.736643569,2777427.478233097,2920692.1188791706,3070407.677459744,3228693.945894746,3398030.467216552,3610518.1802744907,3794541.301804946,4026212.7352904263,4318869.967147604,4624219.688977275,4912610.515450557,5096985.2457857225,5444781.040419629,5695320.706580355,5938963.947666785,6337875.3256096095,6615282.801094103,6954674.210552976,7208009.548406224,7673950.070181233,8064252.114210223,8618620.351873064,9191001.624834782,9840392.76344726,10383138.643002326,11124327.32706276,11589418.552518658,12281503.475507773,13081723.615572857,13937101.004526205,14570779.754268775,15180472.06036822,16080973.665543528,16691541.285565453,17516369.654724877,18483146.93099253,19292401.831672646,20073110.83319436,21355173.71700066,23114993.67062133,24204048.846529245,25520120.825383373,27161361.74385782,28719514.663736954,29969938.127846766,31808835.022155803,33245655.439371552,34978229.3283233,36450106.2031892,39047954.95432629,41695179.51949051,43807244.45706922,45900535.34279012,48106848.519989364,50515094.08195807,53901546.898875155,57011730.82523921,60038396.466328375,64480800.70188545,67550026.68668692,70436100.40539493,73974758.44176008,79403504.08667538,84119652.42021252,89116750.01267305,93764724.42487368,99965575.13656509,104746760.57913497,109674687.30260845,114878533.25992543,119794855.59027691,124643444.01655716,130196634.44157213,137964282.9184416,147462781.90019122,156469072.1166447,164251680.378902,175740567.77236527,185767544.13056612,196752353.4897075,207294874.66583693,216080891.03228885,224402563.36485058,239235689.3239211,256679197.49547982,272910328.7254149,285670767.6974192,299409120.93791443,319639509.72812897,335827238.77138835,357440204.1730343,378834259.1277405,398771083.3657983,427512023.8691216,447263790.842672,468902731.6952827,486038032.40116245,520430739.6749012,549870458.2453068,577710680.4798896,606143589.4422209,638741241.2462234,678343610.4008435,731864846.8192804,768731776.2215755,820428121.2882998,855663234.5877103,893049915.7805012,942910735.4539112,1004933038.7468708,1080393131.44296,1140056022.0372279,1203896840.2144527,1288340096.7781618,1360822611.4132702,1437286821.7514648,1501558332.6350667,1601150125.5596588,1688320054.0063233,1796834765.9271755,1914348785.9270747,2062946873.7713172,2166443826.481094,2258076586.599156,2385326146.0725627,2506036049.324724,2604616847.8960586,2778393249.315885,2945146662.7703075,3142245532.709458,3330765349.00221,3540440535.2234063,3740489126.079205,3931404242.539918,4107338446.3986998,4316099377.291004,4485723145.757164,4744432804.666257,5024654677.476508,5359519086.0297785,5655863354.335596,5973210255.006632,6364981111.7238035,6692924416.381854,7128775325.698342,7484437594.075422,7889951392.091266,8251215421.542995,8830945542.241364,9334154511.65634,9858314110.579063,10337687094.19221,10868486378.770468,11597319458.168816,12202077128.263006,13078289986.491161,13895436549.453337,14573388924.100048,15242097529.682934,16011259129.825943,16804821452.498379,17992282414.45815,18913734295.28256,19842618189.233997,20748659224.126213,22243817783.12076,23771018579.930504,24738305322.55103,25926734350.18837,27531532200.667065,28721056431.66852,30171906249.931988,32091174481.9559,34319556053.20998,36058154901.788826,38052450190.69709,40033306963.99509,42951369572.45025,45103479780.87417,47510879677.45457,50280046035.83426,53543343272.476105,57205975404.78894,60596564185.754776,64688105846.91522,67769205252.94195,72444328330.63808,78453653141.06578,81626029481.18518,84982315676.64407,89460023429.11694,94848978292.35301,99632360500.13457,104815918892.17146,111836070360.24155,118200857655.26976,124880023188.93892,131892634905.57443,138372104112.83563,149805895585.9235,158430062494.03088,169888777912.626,179169535146.37476,187499304003.33447,197632212526.1362,208358679280.08124,221316156041.80234,236025513622.21588,249882810271.38284,265804350218.63864,284327820231.5407,300014223813.8779,319609222030.54395,336366160849.17346,352508688780.6461,372416629821.7909,389474367516.2959,409583641544.85626,437413561416.4464,451139369912.1956,471563489166.48816,500924006080.87317,521356147720.0361,554849110826.882,583509227833.0077,618008803215.6659,648074099692.4097,680513729997.8558,726389792844.4067,768987949878.3168,821202142316.1296,864248776310.8428,921718022189.6061,969060120812.7804,1018325094433.7819,1081764525960.2551,1135778942807.8337,1195485970763.535,1275945871437.817,1366573105094.4424,1479829720759.9807,1569813559430.0642,1658279882651.8325,1760473678118.9434,1862362714631.9453,1975913122408.9702,2097846798261.7002,2189925677018.8994,2317023695801.851,2498867959734.83,2610852026391.8706,2754397503537.4897,2899251149254.192,3072503225975.008,3194337401377.833,3365273185870.6064,3554351109570.661,3761677652102.0156,3971003999088.4453,4179201691318.3145,4436731464464.068,4752924855348.974,5051334046538.694,5285758648503.923,5659416458711.395,5998788581817.598,6294114558849.537,6607106038441.353,7123772786513.554,7587204472206.778,8084379591598.459,8556535986314.889,8975820358246.33,9389153651148.799,10022011072730.15,10619907579393.992,11202380391906.955,11824360758130.768,12551038711412.365,13131096468908.826,13612687187956.943,14348993287047.682,15319263744066.684,16083432325691.451,16969201884700.568,18020708245943.438,18869952182487.23,19941987526041.156,21035368762614.344,21945519632277.0,22835191511603.406,23942338472980.695,25180531311693.133,26851215213173.29,28787952497787.375,30637818130762.137,32477163521995.19,34305978055274.08,36245018903623.44,38010058530175.61,40530228154829.48,42917817586826.6,44561117858431.26,46817028013630.34,49698486101314.46,52745278860333.32,55453762889825.85,59125343787859.34,63171393083364.46,66248559353173.73,69763737600183.36,73509784284562.89,77558284685708.1,82254377402839.22,86916992778043.62,90926832418184.33,97040614365119.14,102795558545591.1,109684750033240.22,116328052463481.9,121040678034297.45,129418131792476.97,137090901857008.14,145328560425885.9,153899949229523.1,162667500955480.97,170004886293913.44,182656264187374.4,195482325729955.6,206219386844049.1,220143268064516.53,232194430848627.53,241206819868768.62,255777237193830.1,269298344524912.78,289523456899426.3,306221459244321.06,324395428162602.7,341153167010347.7,360047741478343.7,378647438502317.56,397141276523576.8,416613087389438.7,444953400013551.56,464088083577397.56,495497242531715.56,516509979739283.3,536122119116539.0,574855872579029.5,616812864625452.0,643038168263288.1,683739250327057.8,736246485140127.8,769221074554062.5,814110658389855.9,852349113560490.2,896092536063742.1,958774924997029.5,1005728400663693.9,1060268776763202.8,1105339144885721.9,1180137199490449.5,1266082313876354.5,1343257414535186.5,1424233528841896.5,1513568260241257.5,1587960333758651.5,1697227824085470.8,1787523725571893.8,1926407672147423.2,2031973890553523.2,2176063822564019.5,2297838072734775.0,2441078050211122.0,2585068237616745.5,2760549554810343.0,2920193807670945.5,3058800909675866.5,3228887953636173.0,3423857532200207.5,3597924866909110.0,3737762765155075.5,3916326046853272.0,4172525066797262.0,4382124226533505.0,4550591704670847.0,4803287753275867.0,5080816011971138.0,5382553518875535.0,5729041154262059.0,6060558239606089.0,6331924617459630.0,6636919232687772.0,6936425645550301.0,7237359432937711.0,7560497356683017.0,7955407014347543.0,8349810856266206.0,8776270339550663.0,9179995412153754.0,9689506684143470.0,1.0276704463259276e+16,1.0673210605236756e+16,1.1281498368721428e+16,1.2040695637470742e+16,1.2754169689532136e+16,1.3782424556170438e+16,1.4509534601675168e+16,1.570341331292409e+16,1.6465735848499574e+16,1.7385907623654198e+16,1.827019622181127e+16,1.9285777996923656e+16,2.014993577281212e+16,2.1118701515125136e+16,2.2197601331986684e+16,2.3523610267590172e+16,2.4876887476637532e+16,2.5919212337662804e+16,2.7248216751942388e+16,2.8940057121821308e+16,3.0785248921409636e+16,3.2100271492308856e+16,3.48216170286986e+16,3.648343075274839e+16,3.884081638413091e+16,4.0771040959650984e+16,4.317214479854157e+16,4.533510952814377e+16,4.817701776662987e+16,5.0449968230657784e+16,5.267163639905623e+16,5.526707734371725e+16,5.8581178363778456e+16,6.097112229856881e+16,6.411641199923739e+16,6.80862115638286e+16,7.189907973032546e+16,7.640630101826674e+16,8.103174585912722e+16,8.52792283242483e+16,8.941733024903232e+16,9.313654384056589e+16,9.670796176240686e+16,1.0370981947913688e+17,1.0930550697876678e+17,1.1606819291624312e+17,1.2428860774135346e+17,1.3249928655500736e+17,1.3995910838178661e+17,1.4773829508639994e+17,1.554728700103027e+17,1.6540870982889475e+17,1.7438901969158822e+17,1.846903998658045e+17,1.9716877422139677e+17,2.1083506467063107e+17,2.231682398378182e+17,2.351974382393735e+17,2.4850838797288726e+17,2.611746266669032e+17,2.761213352912898e+17,2.9251211669729446e+17,3.072929940268431e+17,3.21348090746701e+17,3.393634858436304e+17,3.5815918412707846e+17,3.7641189509176224e+17,4.00679337110262e+17,4.266801244076276e+17,4.4851103543495456e+17,4.69214624254419e+17,4.991542126841797e+17,5.2343695916053235e+17,5.400834002846565e+17,5.754584121287701e+17,6.082686350846351e+17,6.453246600030019e+17,6.807312770655173e+17,7.227358164052724e+17,7.644993446619101e+17,8.062659660184713e+17,8.473505596177983e+17,8.835643510037861e+17,9.325650417078426e+17,9.83268535611103e+17,1.0314751786829449e+18,1.0832141091403571e+18,1.144481472611952e+18,1.1931067975828352e+18,1.258321315817405e+18,1.3100258867992614e+18,1.3806262535513992e+18,1.4630496836656256e+18,1.5339343413473165e+18,1.6129253427937933e+18,1.7099108315890268e+18,1.785252114330731e+18,1.860856038542801e+18,1.97056260254546e+18,2.064374314256002e+18,2.1528417358491277e+18,2.308057934890834e+18,2.418731553640091e+18,2.6047768012311956e+18,2.733534510746199e+18,2.8923592897805384e+18,3.0781195984500485e+18,3.3237455575555886e+18,3.51935959644936e+18,3.708883006182133e+18,3.9038105055322465e+18,4.122837125072526e+18,4.400942864426377e+18,4.578612637243161e+18,4.840159216359238e+18,5.095151438175068e+18,5.399440337393683e+18,5.757442616227722e+18,6.169956524377244e+18,6.561131157472907e+18,7.030713139743438e+18,7.417688610223394e+18,7.809704202885299e+18,8.343623304444877e+18,8.832574806919246e+18,9.40263328370176e+18,9.920911833126564e+18,1.0427835034852932e+19,1.1174587273208318e+19,1.1667936176923036e+19,1.2261206849973318e+19,1.3157641785133953e+19,1.38919903705449e+19,1.4740604339894256e+19,1.5482515978128388e+19,1.6519510428865434e+19,1.7498644670045977e+19,1.882255679002508e+19,2.017525364300791e+19,2.138612866112077e+19,2.274016592510345e+19,2.4091236892578107e+19,2.545425895778913e+19,2.689161639552783e+19,2.8850430323883966e+19,3.0609128266143474e+19,3.2732895959396815e+19,3.465597730790001e+19,3.7349881474806735e+19,3.970813722804627e+19,4.122315922945676e+19,4.430921650444902e+19,4.751380924246505e+19,5.022755210876503e+19,5.299530099164081e+19,5.46290331753638e+19,5.724168105606979e+19,6.019200836351773e+19,6.392348229977901e+19,6.736731882477272e+19,7.201032607932323e+19,7.597800956127556e+19,8.083801271847653e+19,8.364316137034673e+19,8.89262335750231e+19,9.432529448298976e+19,9.892462209745473e+19,1.0420105683279956e+20,1.1224141327583425e+20,1.17357674484798e+20,1.2415433950118335e+20,1.3090691371422355e+20,1.3535981442191468e+20,1.448582819095292e+20,1.5405065469270822e+20,1.6429451981289783e+20,1.728170563099612e+20,1.8371901831985434e+20,1.9199821186129874e+20,2.0223570145596044e+20,2.1267562438953796e+20,2.245432060453807e+20,2.3552523403347693e+20,2.4957475360822025e+20,2.6472662367353887e+20,2.827358292356234e+20,2.9351056192156883e+20,3.170688229392881e+20,3.351290032946413e+20,3.4783896719547184e+20,3.736931221229201e+20,3.9989653390746485e+20,4.1548115882165227e+20,4.371855204782639e+20,4.5995276030760655e+20,4.885415922774154e+20,5.13779404784657e+20,5.436749361181002e+20,5.727241539995498e+20,6.063096323363011e+20,6.434900145365033e+20,6.71446329609236e+20,7.066965542216586e+20,7.329819511564518e+20,7.82582083057713e+20,8.431953150267076e+20,8.959445478852807e+20,9.557737813078344e+20,9.940152684551151e+20,1.0442002818720646e+21,1.1139207436898577e+21,1.1688822950055636e+21,1.2175171400707678e+21,1.295436361315195e+21,1.3756766129788045e+21,1.4427644880013463e+21,1.513279721943766e+21,1.592084334217332e+21,1.6830963552568754e+21,1.7942113126077306e+21,1.8899920929859502e+21,1.9953966411906383e+21,2.1429451001527007e+21,2.2406972623019403e+21,2.3839588593303977e+21,2.5250627332638953e+21,2.702253279743444e+21,2.819551301771243e+21,2.9950498608692053e+21,3.1164342080566434e+21,3.289085648987991e+21,3.434982960711082e+21,3.595588648179348e+21,3.805654041696311e+21,4.01852657742225e+21,4.268898057382845e+21,4.553854203971347e+21,4.811374586700571e+21,5.20801825618555e+21,5.532099318727213e+21,5.869655061869527e+21,6.2217697627835e+21,6.559215854861098e+21,6.886471524972948e+21,7.326808292851302e+21,7.761286654176486e+21,8.261462195426848e+21,8.698419533176326e+21,9.144406151909472e+21,9.682107343716324e+21,1.0302405142413417e+22,1.1073655647937954e+22,1.1930043000435648e+22,1.264672822154054e+22,1.3139856742393378e+22,1.38929106202437e+22,1.4914271353283182e+22,1.5908526714664205e+22,1.7099356596731399e+22,1.8366687070750492e+22,1.928898970888013e+22,2.0451304044012478e+22,2.147377035366572e+22,2.2765806795139165e+22,2.403036189835029e+22,2.5669660636469535e+22,2.6798092958659227e+22,2.7864697422052346e+22,2.9822722357175138e+22,3.1590348939185025e+22,3.3579676692001923e+22,3.5332318359407366e+22,3.661904007135748e+22,3.839926697500345e+22,4.059037568945354e+22,4.308546051882179e+22,4.562972925785861e+22,4.804015561528545e+22,5.1242199943899e+22,5.430823675438655e+22,5.811723442369034e+22,6.157374220729254e+22,6.520872616118211e+22,6.813507256396323e+22,7.294780730325599e+22,7.631560625142275e+22,8.076142037449253e+22,8.362356321171468e+22,8.77716629520675e+22,9.250053636913958e+22,9.787616058565082e+22,1.0376671499213263e+23,1.0753075504025501e+23,1.1510526001851669e+23,1.2087107798645525e+23,1.283760082345833e+23,1.3667179841768448e+23,1.4378322763533525e+23,1.5059459950008084e+23,1.6230763554867203e+23,1.717423625070838e+23,1.803240446551963e+23,1.881016573102868e+23,1.9900263190037915e+23,2.1183442628696425e+23,2.2531474744335866e+23,2.3664178957618264e+23,2.4523356752380017e+23,2.605450712467704e+23,2.6873294234241295e+23,2.8440833350020915e+23,2.9832580460554956e+23,3.144693149513817e+23,3.2990309281702605e+23,3.482051251540614e+23,3.654122794022009e+23,3.890718218132119e+23,4.086630793820461e+23,4.300838282223121e+23,4.530870823177457e+23,4.8026302275999566e+23,5.034582825569216e+23,5.427762520237691e+23,5.724924800524352e+23,6.023612988634608e+23,6.437264183963683e+23,6.884039693842489e+23,7.161073456153475e+23,7.624729367719141e+23,8.10007795385155e+23,8.498710952102151e+23,8.897339481985272e+23,9.468236497689406e+23,9.928758748412677e+23,1.047560446558231e+24,1.1349577239300489e+24,1.1882481282044334e+24,1.2519544892821e+24,1.3107909145162902e+24,1.3919635714086912e+24,1.4939468135886445e+24,1.5833449577307547e+24,1.6542539412363946e+24,1.7664567743298793e+24,1.8781651952508744e+24,2.002491445741506e+24,2.0906091411105144e+24,2.2274428146347627e+24,2.3898398917547476e+24,2.508469228052094e+24,2.6680453220614874e+24,2.8409685904958955e+24,3.0424174042136376e+24,3.188368100171892e+24,3.3193001831750946e+24,3.504087232456737e+24,3.785836338729308e+24,4.028387048893419e+24,4.249469629123292e+24,4.403516237731213e+24,4.682156450722227e+24,4.895695211837995e+24,5.148090835340984e+24,5.457220273790867e+24,5.784214861766673e+24,6.112656702294097e+24,6.49062940816339e+24,6.748957349973876e+24,7.043274386462715e+24,7.493065651816809e+24,8.114626400423062e+24,8.605081764415221e+24,9.078316780866768e+24,9.649574280510046e+24,1.0158290103546171e+25,1.0924694680283318e+25,1.1537521101679597e+25,1.2161315311611356e+25,1.2886522457247085e+25,1.3629305463165961e+25,1.4479650461918526e+25,1.5077626610416602e+25,1.5921504799210414e+25,1.6780015505861692e+25,1.7679950013907822e+25,1.8828308626199627e+25,1.9739413513062024e+25,2.091402953716774e+25,2.183925117571216e+25,2.283906216693256e+25,2.4377341607422055e+25,2.5587045738277396e+25,2.6731240191636708e+25,2.8299684680236045e+25,3.0004685835611463e+25,3.1575940234031105e+25,3.3451628460068665e+25,3.5303380991346974e+25,3.7250577150367123e+25,3.974495615803238e+25,4.164695368997775e+25,4.445962723595865e+25,4.663116379872956e+25,4.970102420151863e+25,5.3243923950622115e+25,5.581056201156408e+25,5.947353888539176e+25,6.300528341264262e+25,6.496926294815855e+25,6.942399336979668e+25,7.429186002092192e+25,7.796078475111003e+25,8.232604806528722e+25],"type":"scatter"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"showlegend":false,"xaxis":{"title":{"text":"Time"}},"yaxis":{"title":{"text":"Simulated GBM"}},"height":300},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('ffca4d04-de69-4f9d-a098-07a381bcaa72');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</figure>
</div>
</div>
<section id="continuously-compounded-returns" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="continuously-compounded-returns"><span class="header-section-number">4.1</span> Continuously Compounded Returns</h2>
<p>Given a rate of return <span class="math inline">\(r\)</span> over a time period of <span class="math inline">\(\Delta t\)</span> years, the annualized continuously compounded return is defined to be the number <span class="math inline">\(x\)</span> such that <span class="math inline">\(\mathrm{e}^{x\Delta t} = 1+r\)</span>; equivalently, <span class="math inline">\(x = \log(1+r) / \Delta t\)</span>. We frequently take “annualized” for granted and just say “continuously compounded return.” As an example, if you earn 1% in a month, then the continuously compounded return is <span class="math inline">\(\log (1.01) / (1/12) = 0.1194\)</span>.</p>
<p>The reason for the name “continuously compounded” is that compounding a monthly rate of interest of <span class="math inline">\(0.1194/12\)</span> for a total of <span class="math inline">\(n\)</span> times during a month produces a total return over the month of <span class="math display">\[\left(1 + \frac{0.1194/12}{n}\right)^ n - 1\,,\]</span> which converges to <span class="math inline">\(0.01\)</span> as <span class="math inline">\(n \rightarrow \infty\)</span>. Thus, compounding an infinite number of times during a month at an annual rate of <span class="math inline">\(0.1194\)</span> (equal to a monthly rate of <span class="math inline">\(0.1194/12\)</span>) is equivalent to the actual 1% return.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>Given a dividend-reinvested asset price <span class="math inline">\(S\)</span>, the rate of return from date <span class="math inline">\(t_1\)</span> to <span class="math inline">\(t_2\)</span> is <span class="math inline">\(S_{t_2}/S_{t_1} - 1\)</span>. Denote this rate of return by <span class="math inline">\(r\)</span> and defined the corresponding continuously compounded return <span class="math display">\[x = \log(1+r) = \log\left(\frac{S_{t_2}}{S_{t_1}}\right) = \log S_{t_2} - \log S_{t_1}\,.\]</span> Using <a href="#eq-exponential2" class="quarto-xref">Equation&nbsp;<span>4.4</span></a>, we see that the continuously compounded return is <span id="eq-exponential11"><span class="math display">\[
x = \log S_{t_2} - \log S_{t_1} = \left(\mu -\frac{1}{2}\sigma^2\right)(t_2-t_1)+ \sigma\,(B_{t_2} - B_{t_1})\;.
\qquad(4.6)\]</span></span> Thus, from the vantage point of date <span class="math inline">\(t_1\)</span>, the continuously compounded return is normally distributed with mean <span class="math display">\[\left(\mu -\frac{1}{2}\sigma^2\right)\Delta t\]</span> and variance <span class="math inline">\(\sigma^2 \Delta t\)</span>, where we define <span class="math inline">\(\Delta t = t_2-t_1\)</span>. Given historical data on rates of return, the parameters <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> can be estimated by standard methods.</p>
</section>
<section id="sec-tailprobs" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="sec-tailprobs"><span class="header-section-number">4.2</span> Tail Probabilities of Geometric Brownian Motions</h2>
<p>For each of the numeraires discussed in the previous section, we have <span id="eq-tailprob1"><span class="math display">\[
\,\mathrm{d}\log S = \alpha\,\mathrm{d}t + \sigma\,\mathrm{d}B\;,
\qquad(4.7)\]</span></span></p>
<p>for some <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\sigma\)</span>, where <span class="math inline">\(B\)</span> is a Brownian motion under the probability measure associated with the numeraire. Specifically, <span class="math inline">\(\sigma=\sigma\)</span>, <span class="math inline">\(B=B^*\)</span>, and</p>
<ol type="1">
<li>for the risk-neutral probability, <span class="math inline">\(\alpha = r-q-\sigma^2/2\)</span>,</li>
<li>when <span class="math inline">\(\mathrm{e}^{qt}S_t\)</span> is the numeraire, <span class="math inline">\(\alpha = r-q +\sigma^2/2\)</span>,</li>
<li>when another risky asset price <span class="math inline">\(Y\)</span> is the numeraire, <span class="math inline">\(\alpha = r-q+\rho\sigma\phi-\sigma^2/2\)</span>.</li>
</ol>
<p>We will assume in this section that <span class="math inline">\(\alpha\)</span> and <span class="math inline">\(\sigma\)</span> are constants. The essential calculation in pricing options is to compute <span class="math inline">\(\text{prob}(S_t&gt;K)\)</span> and <span class="math inline">\(\text{prob}(S_t&lt;K)\)</span> for a constant <span class="math inline">\(K\)</span> (the strike price of an option), where <span class="math inline">\(\text{prob}\)</span> denotes the probabilities at date <span class="math inline">\(0\)</span> (the date we are pricing an option) associated with a particular numeraire.</p>
<p><a href="#eq-tailprob1" class="quarto-xref">Equation&nbsp;<span>4.7</span></a> gives us <span class="math display">\[\log S_t = \log S_0 + \alpha T + \sigma B_t\; .\]</span> Given this, we deduce</p>
<p><span class="math display">\[
S_t &gt; K  \quad\Longleftrightarrow\quad \log S_t &gt; \log K
\]</span> <span class="math display">\[
\quad\Longleftrightarrow\quad \sigma B_t &gt; \log K - \log S_0-\alpha T
\]</span> <span class="math display">\[
\quad\Longleftrightarrow\quad \frac{B_t}{\sqrt{T}} &gt; \frac{\log K - \log S_0-\alpha T}{\sigma\sqrt{T}}
\]</span> <span class="math display">\[
\quad\Longleftrightarrow\quad -\frac{B_t}{\sqrt{T}} &lt; \frac{\log S_0-\log K + \alpha T}{\sigma\sqrt{T}}
\]</span> <span id="eq-tailprob2"><span class="math display">\[
\quad\Longleftrightarrow\quad -\frac{B_t}{\sqrt{T}} &lt; \frac{\log \left(\frac{S_0}{K}\right) + \alpha T}{\sigma\sqrt{T}}\;.
\qquad(4.8)\]</span></span></p>
<p>The random variable on the left-hand side of <a href="#eq-tailprob2" class="quarto-xref">Equation&nbsp;<span>4.8</span></a> has the standard normal distribution—it is normally distributed with mean equal to zero and variance equal to one. As is customary, we will denote the probability that a standard normal is less than some number <span class="math inline">\(d\)</span> as <span class="math inline">\(\mathrm{N}(d)\)</span>. We conclude:</p>
<div class="callout callout-style-simple callout-Rule callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key Result
</div>
</div>
<div class="callout-body-container callout-body">
<p>Assume <span class="math inline">\(\,\mathrm{d}\log S = \alpha\,\mathrm{d}t + \sigma\,\mathrm{d}B\)</span>, where <span class="math inline">\(B\)</span> is a Brownian motion. Then, for any number <span class="math inline">\(K\)</span>, <span id="eq-tailprob01"><span class="math display">\[
\text{prob}(S_t&gt;K) = \mathrm{N}(d)\;,
\qquad(4.9)\]</span></span> where <span id="eq-tailprob3"><span class="math display">\[
d = \frac{\log \left(\frac{S_0}{K}\right) + \alpha T}{\sigma\sqrt{T}}\;.
\qquad(4.10)\]</span></span></p>
</div>
</div>
<p>The probability <span class="math inline">\(\text{prob}(S_t&lt;K)\)</span> can be calculated similarly, but the simplest way to derive it is to note that the events <span class="math inline">\(S_t&gt;K\)</span> and <span class="math inline">\(S_t&lt;K\)</span> are complementary—their probabilities sum to one (the event <span class="math inline">\(S_t=K\)</span> having zero probability). Therefore <span class="math inline">\(\text{prob}(S_t&lt;K) = 1-\mathrm{N}(d)\)</span>. This is the probability that a standard normal is greater than <span class="math inline">\(d\)</span>, and by virtue of the symmetry of the standard normal distribution, it equals the probability that a standard normal is less than <span class="math inline">\(-d\)</span>. Therefore, we have:</p>
<div class="callout callout-style-simple callout-Rule callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Key Result
</div>
</div>
<div class="callout-body-container callout-body">
<p>Assume <span class="math inline">\(\,\mathrm{d}\log S = \alpha\,\mathrm{d}t + \sigma\,\mathrm{d}B\)</span>, where <span class="math inline">\(B\)</span> is a Brownian motion. Then, for any number <span class="math inline">\(K\)</span>, <span id="eq-tailprob02"><span class="math display">\[
\text{prob}(S_t&lt;K) = \mathrm{N}(-d)\;,
\qquad(4.11)\]</span></span> where <span class="math inline">\(d\)</span> is defined in <a href="#eq-tailprob3" class="quarto-xref">Equation&nbsp;<span>4.10</span></a>.</p>
</div>
</div>
</section>
<section id="exercises" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="exercises"><span class="header-section-number">4.3</span> Exercises</h2>
<div id="exr-gbm1" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 4.1</strong></span> Use Ito’s Lemma to derive the stochastic differential equation for <span class="math inline">\(S_t^2\)</span>. Show that <span class="math inline">\(S(t)^2\)</span> is a geometric Brownian motion if <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> are constants and find <span class="math inline">\(\mathbb{E}[S(t)^2]\)</span>.</p>
</div>
<div id="exr-gbm2" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 4.2</strong></span> Let <span class="math display">\[\begin{align*}
\frac{\,\mathrm{d}S_1}{S_1} &amp;= \mu_1\,\mathrm{d}t + \sigma_1 \,\mathrm{d}B_1\\
\frac{\,\mathrm{d}S_2}{S_2} &amp;= \mu_1\,\mathrm{d}t + \sigma_2 \,\mathrm{d}B_2
\end{align*}\]</span> where the <span class="math inline">\(\mu_i\)</span> and <span class="math inline">\(\sigma_i\)</span> are constants and <span class="math inline">\(B_1\)</span> and <span class="math inline">\(B_2\)</span> are Brownian motions with constant correlation <span class="math inline">\(\rho\)</span>.</p>
<ol type="1">
<li>Define <span class="math inline">\(Y=S_1S_2\)</span>. Show that <span class="math inline">\(Y\)</span> is a geometric Brownian motion and calculate its drift and volatility.</li>
<li>Repeat for <span class="math inline">\(Y=S_1/S_2\)</span>.</li>
</ol>
<p>Hint: use the facts <span class="math inline">\(\mathrm{e}^{x+y}=\mathrm{e}^x \times \mathrm{e}^y\)</span> and <span class="math inline">\(\mathrm{e}^x/\mathrm{e}^y = \mathrm{e}^{x-y}\)</span>.</p>
</div>
<p>:</p>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p> The reason for considering this concept is that compound returns like <span class="math inline">\((1+r_1)(1+r_2)\)</span> are simpler to analyze in some contexts as <span class="math inline">\(\mathrm{e}^{x_1+x_2}\)</span>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Chapter_Ito.html" class="pagination-link" aria-label="Ito Processes and Ito's Formula">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Ito Processes and Ito’s Formula</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Chapter_Arbitrage.html" class="pagination-link" aria-label="Fundamentals of Arbitrage Pricing">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Fundamentals of Arbitrage Pricing</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions"><ul><li><a href="https://github.com/math-finance-book/book-published-code.git/blob/main/Chapter_GBM.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div></div></footer></body></html>