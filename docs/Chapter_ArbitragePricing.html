<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>8&nbsp; Arbitrage Pricing – Pricing and Hedging Derivative Securities</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Chapter_BlackScholes_updated.html" rel="next">
<link href="./Chapter_GeometricBrownianMotion.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-45de5ea787cff190a632d730191a5db6.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-8deca16a749a126e590a598812fafdf7.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-45de5ea787cff190a632d730191a5db6.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.35.2.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
<style>
div.callout-Example.callout {
  border-left-color: #a1bced;
}
div.callout-Example.callout-style-default > .callout-header {
  background-color: rgba(161, 188, 237, 0.13);
}
div.callout-Example .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Example.callout-style-default .callout-icon::before, div.callout-Example.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f185';
  background-image: none;
}
div.callout-Principle.callout {
  border-left-color: #eb4034;
}
div.callout-Principle.callout-style-default > .callout-header {
  background-color: rgba(235, 64, 52, 0.13);
}
div.callout-Principle .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Principle.callout-style-default .callout-icon::before, div.callout-Principle.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f06a';
  background-image: none;
}
div.callout-Rule.callout {
  border-left-color: #12801f;
}
div.callout-Rule.callout-style-default > .callout-header {
  background-color: rgba(18, 128, 31, 0.13);
}
div.callout-Rule .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Rule.callout-style-default .callout-icon::before, div.callout-Rule.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f164';
  background-image: none;
}
div.callout-Extra.callout {
  border-left-color: #a1bced;
}
div.callout-Extra.callout-style-default > .callout-header {
  background-color: rgba(161, 188, 237, 0.13);
}
div.callout-Extra .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Extra.callout-style-default .callout-icon::before, div.callout-Extra.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f48b';
  background-image: none;
}
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating fullcontent quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter_ArbitragePricing.html">Part 3: Option Pricing</a></li><li class="breadcrumb-item"><a href="./Chapter_ArbitragePricing.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Arbitrage Pricing</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Pricing and Hedging Derivative Securities</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://chat.derivative-securities.org/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-chat-square-text"></i></a>
    <a href="https://github.com/math-finance-book/book-published-code.git" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 1: Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_IntroDerivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Derivative Securities</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_IntroOptions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Options Markets</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_IntroFutures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Futures Markets</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Trees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Binomial Trees{#sec-c:trees}</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 2: Mathematical Foundations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_BrownianMotion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Brownian Motion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Ito.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Ito Processes and Ito’s Formula</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_GeometricBrownianMotion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Geometric Brownian Motion</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 3: Option Pricing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_ArbitragePricing.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Arbitrage Pricing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_BlackScholes_updated.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">The Black-Scholes Formula</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_MertonMargrabeBlack.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Merton, Black, and Margrabe</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Asians.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Asians, Baskets, and Spreads</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_OtherExotics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Other Exotics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 4: Numerical Methods</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_MonteCarlo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Monte Carlo Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_BinomialModel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Binomial and Trinomial Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter_ArbitragePricing.html">Part 3: Option Pricing</a></li><li class="breadcrumb-item"><a href="./Chapter_ArbitragePricing.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Arbitrage Pricing</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-c:arbitrage_pricing" class="quarto-section-identifier"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Arbitrage Pricing</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div id="7918aed3" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display">
<script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_SVG"></script>
</div>
</div>
<p>This chapter develops the fundamental principles of arbitrage pricing, starting from the concept of linear pricing and building up to continuous-time models with change of numeraire.</p>
<section id="linear-pricing" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="linear-pricing"><span class="header-section-number">8.1</span> Linear Pricing</h2>
<p>The fundamental concept underlying most finance theory, from Miller-Modigliani to the Black-Scholes model, is linear pricing. The concept of linear pricing is essentially the same as asking for the price of five apples and six oranges. Of course, this is the price of one apple times five plus the price of one orange times six. However, instead of pricing bundles of commodities today, we will find prices of dollars in different contingencies at times in the future.</p>
<p>An arbitrage opportunity is a trading strategy that produces nonnegative cash flows at all times in all contingencies with a strictly positive cash flow at some time in some contingency. If such an opportunity were to exist, traders would exploit it until prices adjust to eliminate the possibility. Although simple, this has powerful implications.</p>
<p>Consider a world where there are <span class="math inline">\(J\)</span> possible states of the world at time <span class="math inline">\(t\)</span>. No arbitrage then implies the following properties:</p>
<ol type="1">
<li><p>If <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span> are time <span class="math inline">\(t\)</span> random cash flows, the time 0 price of the random cash flow <span class="math inline">\(aX+bY\)</span> is <span class="math inline">\(a\)</span> times the time 0 price of <span class="math inline">\(X\)</span> plus <span class="math inline">\(b\)</span> times the time 0 price of <span class="math inline">\(Y\)</span>. If <span class="math inline">\(P(\cdot)\)</span> is a pricing function that gives us the price of a random cash flow today, then <span class="math inline">\(P(aX+bY)=aP(X) + bP(Y)\)</span>. In other words, the pricing operator is linear. This follows because if this fails to hold, there is an arbitrage assuming an agent can buy and sell any quantities at these prices. Because the pricing operator is linear, it must have the form <span class="math inline">\(P(X) = \sum_{j=1}^J \pi_j X_j\)</span> where <span class="math inline">\(X_j\)</span> is the random cash flow in state~<span class="math inline">\(j\)</span>. We call <span class="math inline">\(\pi_j\)</span> the price of a dollar at time <span class="math inline">\(t\)</span> in state <span class="math inline">\(j\)</span> or a state price.</p></li>
<li><p>The price of any positive nonzero random cash flow at time <span class="math inline">\(t\)</span> is strictly positive. Again, this follows from no arbitrage (think how much of an asset paying a positive dividend you would want if it were free or even if you were paid to take the asset). This implies the state prices are strictly positive.</p></li>
<li><p>The pricing operator obeys time value of money: <span class="math inline">\(1=\sum_{j=1}^J \pi_j e^{rt}\)</span>, where <span class="math inline">\(r\)</span> is the continuously compounded yield to maturity of a bond maturing at <span class="math inline">\(t\)</span>. This is the present value rule: the present value of the future value <span class="math inline">\(e^{rt}\)</span> is one or, equivalently, the present value of a dollar paid at <span class="math inline">\(t\)</span> is <span class="math inline">\(e^{-rt}\)</span>.</p></li>
<li><p>The pricing operator must be consistent with observable prices. The price <span class="math inline">\(S_0\)</span> of a traded asset with random cash flows at time <span class="math inline">\(t\)</span> is given by <span class="math inline">\(S_0= \sum_{j=1}^J \pi_j S_j\)</span> where <span class="math inline">\(S_j\)</span> is the random cash flow in state <span class="math inline">\(j\)</span>.</p></li>
</ol>
<div class="callout callout-style-simple callout-Principle callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Principle
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the absence of arbitrage opportunities, there exist positive state prices such that the price of any security is the sum across the states of the world of its payoff multiplied by the state price.</p>
</div>
</div>
<p>This conclusion generalizes to other models, including models in which the stock price takes a continuum of possible values, interpreting the sum in that case as an integral.</p>
</section>
<section id="state-prices-in-the-binomial-model" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="state-prices-in-the-binomial-model"><span class="header-section-number">8.2</span> State Prices in the Binomial Model</h2>
<p>In the single-period binomial model with up and down states, we have two equations for the state prices <span class="math inline">\(\pi_u\)</span> and <span class="math inline">\(\pi_d\)</span>:</p>
<p><span class="math display">\[ 1 = \pi_u e^{rt} + \pi_d e^{rt} \]</span> <span class="math display">\[ S = \pi_u S_u + \pi_d S_d \]</span></p>
<p>The first equation prices the risk-free asset (invest $1 today, receive <span class="math inline">\(e^{rt}\)</span> in both states). The second prices the stock.</p>
<p>Solving these equations gives:</p>
<p><span class="math display">\[\pi_u  = \frac{S-e^{-rt}S_d}{S_u - S_d}, \quad \pi_d = \frac{e^{-rt}S_u-S}{S_u - S_d}\]</span></p>
<p>Notice that the requirement <span class="math inline">\(\pi_u, \pi_d &gt; 0\)</span> is precisely the no-arbitrage condition:</p>
<p><span class="math display">\[\frac{S_u}{S} &gt; e^{rt} &gt; \frac{S_d}{S}\]</span></p>
<p>We can think of any security as a portfolio of Arrow securities. An Arrow security pays $1 at time <span class="math inline">\(t\)</span> if a specific state occurs and pays nothing otherwise. In our binomial model, <span class="math inline">\(\pi_u\)</span> is the price of an Arrow security paying $1 in the up state, and <span class="math inline">\(\pi_d\)</span> is the price of an Arrow security paying $1 in the down state.</p>
<p>For any derivative with payoffs <span class="math inline">\(C_u\)</span> and <span class="math inline">\(C_d\)</span>:</p>
<p><span class="math display">\[C = \pi_u C_u + \pi_d C_d\]</span></p>
<section id="risk-neutral-probabilities" class="level4">
<h4 class="anchored" data-anchor-id="risk-neutral-probabilities">Risk-Neutral Probabilities</h4>
<p>Define <span class="math inline">\(p_u = \pi_u e^{rt}\)</span> and <span class="math inline">\(p_d = \pi_d e^{rt}\)</span>. Since <span class="math inline">\(p_u + p_d = 1\)</span> and both are positive, we can interpret them as probabilities—the risk-neutral probabilities. Then:</p>
<p><span class="math display">\[C = e^{-rt}[p_u C_u + p_d C_d]\]</span></p>
<p>The asset price equals its expected payoff discounted at the risk-free rate, where the expectation uses risk-neutral probabilities. Note that:</p>
<p><span class="math display">\[p_u = \frac{e^{rt} - S_d/S}{S_u/S - S_d/S}\]</span></p>
</section>
</section>
<section id="multiple-states" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="multiple-states"><span class="header-section-number">8.3</span> Multiple States</h2>
<p>Now consider a market with <span class="math inline">\(J &gt; 2\)</span> possible states at time <span class="math inline">\(t\)</span>. We need to find <span class="math inline">\(J\)</span> state prices <span class="math inline">\(\pi_1, \ldots, \pi_J\)</span>. If we have <span class="math inline">\(J\)</span> traded assets (including the risk-free asset) with linearly independent payoffs, we can solve:</p>
<p><span class="math display">\[\begin{bmatrix}
e^{rt} &amp; e^{rt} &amp; \cdots &amp; e^{rt} \\
S_1^{(1)} &amp; S_2^{(1)} &amp; \cdots &amp; S_J^{(1)} \\
\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
S_1^{(J-1)} &amp; S_2^{(J-1)} &amp; \cdots &amp; S_J^{(J-1)}
\end{bmatrix}
\begin{bmatrix}
\pi_1 \\ \pi_2 \\ \vdots \\ \pi_J
\end{bmatrix} =
\begin{bmatrix}
1 \\ S^{(1)} \\ \vdots \\ S^{(J-1)}
\end{bmatrix}\]</span></p>
<p>where <span class="math inline">\(S^{(i)}\)</span> is the current price of asset <span class="math inline">\(i\)</span> and <span class="math inline">\(S_j^{(i)}\)</span> is its payoff in state <span class="math inline">\(j\)</span>.</p>
<p>With state prices determined, we can value any derivative:</p>
<p><span class="math display">\[V = \sum_{j=1}^J \pi_j V_j\]</span></p>
<p>The risk-neutral probabilities are <span class="math inline">\(p_j = \pi_j e^{rt}\)</span>, giving:</p>
<p><span class="math display">\[V = e^{-rt} \sum_{j=1}^J p_j V_j = e^{-rt} \mathbb{E}^p[V_t]\]</span></p>
</section>
<section id="martingale-pricing" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="martingale-pricing"><span class="header-section-number">8.4</span> Martingale Pricing</h2>
<p>A martingale is a stochastic process for which the expected value of tomorrow’s value is today’s value. In our framework, discounted values of non-dividend paying trading strategies are martingales under the risk-neutral measure.</p>
<p>If <span class="math inline">\(X(0)\)</span> is today’s value of a portfolio with random payoff <span class="math inline">\(X\)</span> at time <span class="math inline">\(t\)</span>:</p>
<p><span class="math display">\[\frac{X(0)}{R(0)} = \sum_{s=1}^S p_s \frac{X_s}{e^{rt}} = \mathbb{E}^R\left[\frac{X}{R_t}\right]\]</span></p>
<p>where <span class="math inline">\(R(0) = 1\)</span> and <span class="math inline">\(R_t = e^{rt}\)</span>. The ratio of any asset price to the risk-free asset price is a martingale under the risk-neutral measure.</p>
</section>
<section id="continuous-time" class="level2" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="continuous-time"><span class="header-section-number">8.5</span> Continuous Time</h2>
<p>We now extend to continuous-time models where the stock price can take a continuum of values. The principle becomes:</p>
<div class="callout callout-style-simple callout-Principle callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Principle
</div>
</div>
<div class="callout-body-container callout-body">
<p>If there are no arbitrage opportunities, then there exists for each date <span class="math inline">\(t\)</span> a strictly positive random variable <span class="math inline">\(m_t\)</span>, called a stochastic discount factor, such that the date-0 value of any dividend-reinvested asset with price <span class="math inline">\(P\)</span> is:</p>
<p><span class="math display">\[P_0 = \mathbb{E}[m_t P_t]\]</span></p>
</div>
</div>
<p>The stochastic discount factor <span class="math inline">\(m_t\)</span> generalizes state prices to continuous distributions. For a finite number of states, <span class="math inline">\(m_t = \pi_j/\text{prob}_j\)</span> in state <span class="math inline">\(j\)</span>, where <span class="math inline">\(\text{prob}_j\)</span> is the actual probability.</p>
<section id="connection-to-risk-neutral-probabilities" class="level4">
<h4 class="anchored" data-anchor-id="connection-to-risk-neutral-probabilities">Connection to Risk-Neutral Probabilities</h4>
<p>The risk-free asset satisfies:</p>
<p><span class="math display">\[1 = \mathbb{E}[m_t e^{rt}]\]</span></p>
<p>This means <span class="math inline">\(m_t e^{rt}\)</span> has expectation 1. We can define a new probability measure by:</p>
<p><span class="math display">\[\mathbb{E}^R[Z] = \mathbb{E}[m_t e^{rt} Z]\]</span></p>
<p>for any random variable <span class="math inline">\(Z\)</span>. Under this risk-neutral measure:</p>
<p><span class="math display">\[P_0 = e^{-rt} \mathbb{E}^R[P_t]\]</span></p>
</section>
</section>
<section id="change-of-numeraire" class="level2" data-number="8.6">
<h2 data-number="8.6" class="anchored" data-anchor-id="change-of-numeraire"><span class="header-section-number">8.6</span> Change of Numeraire</h2>
<p>Our choice of the risk-free asset as numeraire was arbitrary. Any strictly positive non-dividend paying trading strategy can serve as a numeraire.</p>
<p>For a dividend-reinvested asset <span class="math inline">\(Y\)</span> with strictly positive value:</p>
<p><span class="math display">\[Y(0) = \mathbb{E}[m_t Y_t]\]</span></p>
<p>Define new probabilities by:</p>
<p><span class="math display">\[\text{prob}^Y_s = \frac{\mathbb{E}[m_t Y_t \mathbf{1}_{\{s\}}]}{Y(0)}\]</span></p>
<p>where <span class="math inline">\(\mathbf{1}_{\{s\}}\)</span> is the indicator function for state <span class="math inline">\(s\)</span>. Then:</p>
<p><span class="math display">\[S(0) = Y(0) \mathbb{E}^Y\left[\frac{S_t}{Y_t}\right]\]</span></p>
<p>The ratio <span class="math inline">\(S_t/Y_t\)</span> is a martingale under the probability measure induced by using <span class="math inline">\(Y\)</span> as numeraire.</p>
<section id="fundamental-pricing-formula" class="level4">
<h4 class="anchored" data-anchor-id="fundamental-pricing-formula">Fundamental Pricing Formula</h4>
<div class="callout callout-style-simple callout-Principle callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important Principle
</div>
</div>
<div class="callout-body-container callout-body">
<p>In the absence of arbitrage opportunities, prices <span class="math inline">\(P\)</span> and <span class="math inline">\(Y\)</span> of dividend-reinvested assets satisfy, for all <span class="math inline">\(s &lt; t\)</span>:</p>
<p><span class="math display">\[Y_s = P_s \mathbb{E}^P_s \left[\frac{Y_t}{P_t}\right]\]</span></p>
</div>
</div>
<p>This is the fundamental pricing formula. The value at time <span class="math inline">\(s\)</span> of asset <span class="math inline">\(Y\)</span> is the expectation, under the appropriate probability measure, of its value <span class="math inline">\(Y_t\)</span> at time <span class="math inline">\(t\)</span> discounted by the factor <span class="math inline">\(P_s/P_t\)</span>.</p>
<p>When <span class="math inline">\(P\)</span> is the risk-free asset:</p>
<p><span class="math display">\[Y_s = e^{-r(t-s)} \mathbb{E}^R_s[Y_t]\]</span></p>
</section>
<section id="changing-probability-measures" class="level4">
<h4 class="anchored" data-anchor-id="changing-probability-measures">Changing Probability Measures</h4>
<p>For continuous distributions, the probability of event <span class="math inline">\(A\)</span> using <span class="math inline">\(S\)</span> as numeraire is:</p>
<p><span class="math display">\[\text{prob}^S(A) = \mathbb{E}\left[\mathbf{1}_A m_t \frac{S_t}{S_0}\right]\]</span></p>
<p>The expectation of any random variable <span class="math inline">\(X\)</span> using <span class="math inline">\(S\)</span> as numeraire is:</p>
<p><span class="math display">\[\mathbb{E}^S[X] = \mathbb{E}\left[X m_t \frac{S_t}{S_0}\right]\]</span></p>
<p>Different numeraires lead to different probability measures but the same derivative prices.</p>
</section>
</section>
<section id="stock-as-numeraire" class="level2" data-number="8.7">
<h2 data-number="8.7" class="anchored" data-anchor-id="stock-as-numeraire"><span class="header-section-number">8.7</span> Stock as Numeraire</h2>
<p>Using the stock as numeraire is particularly useful for certain derivatives. In the binomial model, define:</p>
<p><span class="math display">\[\text{prob}^S_u = \frac{\pi_u S_u}{S}, \quad \text{prob}^S_d = \frac{\pi_d S_d}{S}\]</span></p>
<p>These sum to 1 and are positive. For a call option:</p>
<p><span class="math display">\[\frac{C}{S} = \text{prob}^S_u \frac{C_u}{S_u} + \text{prob}^S_d \frac{C_d}{S_d}\]</span></p>
<p>The ratio <span class="math inline">\(C/S\)</span> (number of shares the call is worth) is a martingale under the stock numeraire measure.</p>
<p>In continuous time, for any derivative <span class="math inline">\(V\)</span> on stock <span class="math inline">\(S\)</span>:</p>
<p><span class="math display">\[V_0 = S_0 \mathbb{E}^S\left[\frac{V_T}{S_T}\right]\]</span></p>
<p>This formulation is often convenient for options that depend on the stock price relative to some level.</p>
</section>
<section id="changes-of-probability-and-girsanovs-theorem" class="level2" data-number="8.8">
<h2 data-number="8.8" class="anchored" data-anchor-id="changes-of-probability-and-girsanovs-theorem"><span class="header-section-number">8.8</span> Changes of Probability and Girsanov’s Theorem</h2>
<p>When we change probability measures, we cannot expect a process <span class="math inline">\(B\)</span> that was a Brownian motion to remain a Brownian motion. The expected change in a Brownian motion must always be zero, but when we change probabilities, the expected change of <span class="math inline">\(B\)</span> is likely to become nonzero. However, the Brownian motion <span class="math inline">\(B\)</span> will still be an Ito process under the new probability measure.</p>
<p>Changing probabilities only changes the drift of an Ito process—the diffusion coefficient remains unchanged. This is because the diffusion coefficient determines how much each path “jiggles,” which is unaffected by changing the probability measure.</p>
<section id="example-risk-neutral-probability" class="level4">
<h4 class="anchored" data-anchor-id="example-risk-neutral-probability">Example: Risk-Neutral Probability</h4>
<p>Suppose the stock price follows:</p>
<p><span class="math display">\[\frac{\mathrm{d}S}{S} = \mu \mathrm{d}t + \sigma \mathrm{d}B\]</span></p>
<p>where <span class="math inline">\(B\)</span> is a Brownian motion under the actual probability measure. Under the risk-neutral measure, the drift must be the risk-free rate <span class="math inline">\(r\)</span>:</p>
<p><span class="math display">\[\frac{\mathrm{d}S}{S} = r \mathrm{d}t + \sigma \mathrm{d}B^*\]</span></p>
<p>where <span class="math inline">\(B^*\)</span> is a Brownian motion under the risk-neutral probability.</p>
<p>The details of how to construct these new probability measures using Girsanov’s Theorem are covered in the next chapter, where we apply them to derive the Black-Scholes formula.</p>
</section>
</section>
<section id="exercises" class="level2" data-number="8.9">
<h2 data-number="8.9" class="anchored" data-anchor-id="exercises"><span class="header-section-number">8.9</span> Exercises</h2>
<section id="linear-pricing-and-state-prices" class="level4">
<h4 class="anchored" data-anchor-id="linear-pricing-and-state-prices">Linear Pricing and State Prices</h4>
<div id="exr-linear-pricing" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 8.1</strong></span> Consider a market with 3 possible states at time <span class="math inline">\(T = 1\)</span>. There are two traded assets: - Risk-free bond: pays <span class="math inline">\(e^{0.05}\)</span> in all states<br>
- Risky asset: pays <span class="math inline">\((10, 15, 5)\)</span> in states <span class="math inline">\((1, 2, 3)\)</span> respectively, currently priced at <span class="math inline">\(S_0 = 9\)</span></p>
<ol type="a">
<li>Set up the system of equations to find state prices <span class="math inline">\((\pi_1, \pi_2, \pi_3)\)</span></li>
<li>Solve for the state prices</li>
<li>Find the risk-neutral probabilities <span class="math inline">\((p_1, p_2, p_3)\)</span></li>
<li>Price a derivative that pays <span class="math inline">\((0, 20, 0)\)</span> in the three states</li>
<li>Verify that the risk-neutral expected return on the risky asset equals the risk-free rate</li>
</ol>
</div>
<div id="exr-arrow-securities" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 8.2</strong></span> In the three-state model from the previous exercise: a) What is the price of an Arrow security that pays $1 in state 2 and $0 in states 1 and 3? b) Show that any derivative payoff can be written as a portfolio of Arrow securities c) Price a “digital option” that pays $100 if the risky asset’s payoff exceeds $12, and $0 otherwise d) Compare this to pricing the same payoff using risk-neutral probabilities</p>
</div>
<div id="exr-no-arbitrage-conditions" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 8.3</strong></span> Consider a two-period binomial model where the stock can go from <span class="math inline">\(S_0 = 100\)</span> to either <span class="math inline">\(S_u = 120\)</span> or <span class="math inline">\(S_d = 80\)</span> in the first period, with risk-free rate <span class="math inline">\(r = 5\%\)</span> per period.</p>
<ol type="a">
<li>Find the no-arbitrage bounds: show that <span class="math inline">\(S_d &lt; S_0 e^r &lt; S_u\)</span> must hold</li>
<li>Calculate the risk-neutral probability <span class="math inline">\(p\)</span> for the up move</li>
<li>If the stock goes to <span class="math inline">\(S_u = 120\)</span> in the first period, it can go to <span class="math inline">\(S_{uu} = 144\)</span> or <span class="math inline">\(S_{ud} = 96\)</span> in the second period. If the stock goes to <span class="math inline">\(S_d = 80\)</span>, it can go to <span class="math inline">\(S_{du} = 96\)</span> or <span class="math inline">\(S_{dd} = 64\)</span>. Verify that the tree recombines (<span class="math inline">\(S_{ud} = S_{du}\)</span>)</li>
<li>Calculate the state prices for all four final states: <span class="math inline">\((\pi_{uu}, \pi_{ud}, \pi_{du}, \pi_{dd})\)</span></li>
</ol>
</div>
</section>
<section id="risk-neutral-measures-and-martingales" class="level4">
<h4 class="anchored" data-anchor-id="risk-neutral-measures-and-martingales">Risk-Neutral Measures and Martingales</h4>
<div id="exr-martingale-property" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 8.4</strong></span> In the Black-Scholes model with constant dividend yield <span class="math inline">\(q\)</span>, show that: a) <span class="math inline">\(e^{-qt}S_t\)</span> is a martingale under the risk-neutral measure b) <span class="math inline">\(S_t/R_t\)</span> is a martingale under the risk-neutral measure, where <span class="math inline">\(R_t = e^{rt}\)</span> c) If <span class="math inline">\(V_t\)</span> is the value of any derivative, then <span class="math inline">\(e^{-rt}V_t\)</span> is a martingale under the risk-neutral measure</p>
</div>
<div id="exr-risk-neutral-simulation" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 8.5</strong></span> Use simulation to verify the martingale property in a simple setting. Generate 10,000 paths of geometric Brownian motion under the risk-neutral measure: <span class="math display">\[\frac{dS}{S} = (r-q) dt + \sigma dB^R\]</span></p>
<p>With parameters <span class="math inline">\(S_0 = 100\)</span>, <span class="math inline">\(r = 5\%\)</span>, <span class="math inline">\(q = 2\%\)</span>, <span class="math inline">\(\sigma = 20\%\)</span>, and <span class="math inline">\(T = 1\)</span>:</p>
<ol type="a">
<li>Verify that <span class="math inline">\(\mathbb{E}^R[S_T e^{-qT}] \approx S_0\)</span> (martingale property)</li>
<li>Verify that <span class="math inline">\(\mathbb{E}^R[e^{-rT}S_T] \approx S_0 e^{-qT}\)</span> (discounted expectation)</li>
<li>Calculate the sample variance of both expressions and comment on the simulation error</li>
</ol>
</div>
</section>
<section id="change-of-numeraire-1" class="level4">
<h4 class="anchored" data-anchor-id="change-of-numeraire-1">Change of Numeraire</h4>
<div id="exr-numeraire-digital" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 8.6</strong></span> Use simulation to verify the change of numeraire for digital options. Consider a digital option that pays <span class="math inline">\(1\)</span> if <span class="math inline">\(S_T \geq K\)</span> with <span class="math inline">\(S_0 = 100\)</span>, <span class="math inline">\(K = 105\)</span>, <span class="math inline">\(r = 5\%\)</span>, <span class="math inline">\(q = 2\%\)</span>, <span class="math inline">\(\sigma = 20\%\)</span>, <span class="math inline">\(T = 0.5\)</span>.</p>
<p>Price this option using two methods: a) Risk-neutral measure: <span class="math inline">\(\mathbb{E}^R[e^{-rT} \mathbf{1}_{\{S_T \geq K\}}]\)</span> b) Stock numeraire: <span class="math inline">\(S_0 \mathbb{E}^S[\frac{1}{S_T} \mathbf{1}_{\{S_T \geq K\}}]\)</span></p>
<p>Under the stock numeraire, the stock follows: <span class="math display">\[\frac{dS}{S} = (r-q+\sigma^2) dt + \sigma dB^S\]</span></p>
<p>Verify that both methods give the same price up to simulation error.</p>
</div>
<div id="exr-share-digital" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 8.7</strong></span> Calculate the price of a “share digital” option that pays <span class="math inline">\(S_T\)</span> if <span class="math inline">\(S_T \leq K\)</span> and <span class="math inline">\(0\)</span> otherwise, using the Black-Scholes model assumptions.</p>
<ol type="a">
<li>Use the stock as numeraire to show the price is <span class="math inline">\(S_0 \mathbb{E}^S[\mathbf{1}_{\{S_T \leq K\}}]\)</span></li>
<li>Under the stock numeraire measure, show that <span class="math inline">\(\log S_T\)</span> is normally distributed</li>
<li>Calculate the price analytically in terms of the normal CDF</li>
<li>Verify your result by simulation</li>
</ol>
</div>
<div id="exr-cross-asset-option" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 8.8</strong></span> Suppose two assets <span class="math inline">\(S\)</span> and <span class="math inline">\(V\)</span> follow geometric Brownian motions under the risk-neutral measure: <span class="math display">\[\frac{dS}{S} = r dt + \sigma_S dB_S^R\]</span> <span class="math display">\[\frac{dV}{V} = r dt + \sigma_V dB_V^R\]</span></p>
<p>with correlation <span class="math inline">\(\rho\)</span> between the Brownian motions.</p>
<p>Find the value of an option that pays <span class="math inline">\(V_T \mathbf{1}_{\{V_T \geq S_T\}}\)</span> using <span class="math inline">\(V\)</span> as the numeraire.</p>
<p><em>Hint: Under the <span class="math inline">\(V\)</span>-numeraire measure, determine the dynamics of <span class="math inline">\(S/V\)</span> and use the fact that <span class="math inline">\(S_T/V_T \leq 1\)</span> when <span class="math inline">\(V_T \geq S_T\)</span>.</em></p>
</div>
</section>
<section id="fundamental-pricing-formula-1" class="level4">
<h4 class="anchored" data-anchor-id="fundamental-pricing-formula-1">Fundamental Pricing Formula</h4>
<div id="exr-fundamental-formula" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 8.9</strong></span> The fundamental pricing formula states that for any two assets <span class="math inline">\(P\)</span> and <span class="math inline">\(Y\)</span>: <span class="math display">\[Y_s = P_s \mathbb{E}^P_s\left[\frac{Y_t}{P_t}\right]\]</span></p>
<ol type="a">
<li>Verify this formula when <span class="math inline">\(P\)</span> is the risk-free asset and <span class="math inline">\(Y\)</span> is a stock</li>
<li>Verify this formula when <span class="math inline">\(P\)</span> is a stock and <span class="math inline">\(Y\)</span> is the risk-free asset<br>
</li>
<li>Show that this implies <span class="math inline">\(Y_t/P_t\)</span> is a martingale under the <span class="math inline">\(P\)</span>-numeraire measure</li>
<li>Use this formula to derive the Black-Scholes formula by setting <span class="math inline">\(P\)</span> as the risk-free asset and <span class="math inline">\(Y\)</span> as a call option</li>
</ol>
</div>
<div id="exr-stochastic-discount-factor" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 8.10</strong></span> In a single-period model with stochastic discount factor <span class="math inline">\(m\)</span>: a) Show that if there are no arbitrage opportunities, then <span class="math inline">\(\mathbb{E}[m] &gt; 0\)</span> and the law of one price holds b) Prove that <span class="math inline">\(\mathbb{E}[mR] = 1\)</span> where <span class="math inline">\(R = e^{rT}\)</span> is the gross risk-free return c) Show that the risk-neutral probabilities are given by <span class="math inline">\(p_j = \frac{m_j \cdot \text{prob}_j}{\mathbb{E}[m]}\)</span> where <span class="math inline">\(\text{prob}_j\)</span> is the actual probability of state <span class="math inline">\(j\)</span> d) Verify that under the risk-neutral measure, all assets have expected return equal to the risk-free rate</p>
</div>
</section>
<section id="advanced-applications" class="level4">
<h4 class="anchored" data-anchor-id="advanced-applications">Advanced Applications</h4>
<div id="exr-quanto-option" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 8.11</strong></span> A quanto option pays in domestic currency but depends on a foreign asset price. Consider a call option that pays <span class="math inline">\((S_T^f - K)^+\)</span> dollars, where <span class="math inline">\(S^f\)</span> is a foreign stock price.</p>
<p>If the exchange rate is <span class="math inline">\(X_t\)</span> (domestic per foreign currency), the foreign stock in domestic currency is <span class="math inline">\(S_t = X_t S_t^f\)</span>.</p>
<ol type="a">
<li>Show that under the domestic risk-neutral measure, if <span class="math inline">\(S^f\)</span> and <span class="math inline">\(X\)</span> are correlated with correlation <span class="math inline">\(\rho\)</span>, then <span class="math inline">\(S^f\)</span> has drift <span class="math inline">\(r^d - r^f - \rho \sigma_X \sigma_S\)</span></li>
<li>Price the quanto call option using this adjusted drift</li>
<li>Compare this to a standard call option on the domestic value <span class="math inline">\(S_t = X_t S_t^f\)</span></li>
</ol>
<p><em>Note: <span class="math inline">\(r^d\)</span> and <span class="math inline">\(r^f\)</span> are domestic and foreign risk-free rates respectively.</em></p>
</div>
<div id="exr-multi-asset-rainbow" class="theorem exercise">
<p><span class="theorem-title"><strong>Exercise 8.12</strong></span> Consider a “rainbow option” that pays <span class="math inline">\(\max(S_T^{(1)}, S_T^{(2)}, K)\)</span> where <span class="math inline">\(S^{(1)}\)</span> and <span class="math inline">\(S^{(2)}\)</span> are two correlated stocks.</p>
<ol type="a">
<li>Using the fundamental pricing formula, show that this can be priced as <span class="math inline">\(\mathbb{E}^R[e^{-rT}\max(S_T^{(1)}, S_T^{(2)}, K)]\)</span></li>
<li>Explain why you cannot easily use a single asset as numeraire for this payoff</li>
<li>Set up a Monte Carlo simulation to price this option with realistic parameters</li>
<li>Compare the rainbow option price to the sum of two individual call options minus a call on the minimum of the two stocks</li>
</ol>
</div>
</section>
</section>
<section id="summary" class="level2" data-number="8.10">
<h2 data-number="8.10" class="anchored" data-anchor-id="summary"><span class="header-section-number">8.10</span> Summary</h2>
<p>We have developed a unified framework for derivative pricing based on the absence of arbitrage:</p>
<ol type="1">
<li><strong>Linear pricing</strong> implies the existence of state prices</li>
<li><strong>State prices</strong> can be converted to risk-neutral probabilities<br>
</li>
<li><strong>Asset price ratios</strong> are martingales under appropriate probability measures</li>
<li><strong>Any positive asset</strong> can serve as numeraire, inducing its own probability measure</li>
<li>The <strong>fundamental pricing formula</strong> expresses values as expectations of discounted payoffs</li>
<li><strong>Girsanov’s Theorem</strong> provides the mathematical machinery to change between probability measures in continuous time</li>
</ol>
<p>This framework extends from simple binomial models to general continuous-time models, providing the foundation for modern derivative pricing theory.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Chapter_GeometricBrownianMotion.html" class="pagination-link" aria-label="Geometric Brownian Motion">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Geometric Brownian Motion</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Chapter_BlackScholes_updated.html" class="pagination-link" aria-label="The Black-Scholes Formula">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">The Black-Scholes Formula</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions"><ul><li><a href="https://github.com/math-finance-book/book-published-code.git/blob/main/Chapter_ArbitragePricing.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div></div></footer></body></html>