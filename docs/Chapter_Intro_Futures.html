<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>3&nbsp; Futures Markets – Pricing and Hedging Derivative Securities</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Chapter_Intro_Arbitrage.html" rel="next">
<link href="./Chapter_Intro_Options.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-45de5ea787cff190a632d730191a5db6.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-8deca16a749a126e590a598812fafdf7.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-45de5ea787cff190a632d730191a5db6.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.35.2.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet">
<style>
div.callout-Rule.callout {
  border-left-color: #12801f;
}
div.callout-Rule.callout-style-default > .callout-header {
  background-color: rgba(18, 128, 31, 0.13);
}
div.callout-Rule .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Rule.callout-style-default .callout-icon::before, div.callout-Rule.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f164';
  background-image: none;
}
div.callout-Example.callout {
  border-left-color: #a1bced;
}
div.callout-Example.callout-style-default > .callout-header {
  background-color: rgba(161, 188, 237, 0.13);
}
div.callout-Example .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Example.callout-style-default .callout-icon::before, div.callout-Example.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f185';
  background-image: none;
}
div.callout-Principle.callout {
  border-left-color: #eb4034;
}
div.callout-Principle.callout-style-default > .callout-header {
  background-color: rgba(235, 64, 52, 0.13);
}
div.callout-Principle .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Principle.callout-style-default .callout-icon::before, div.callout-Principle.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f06a';
  background-image: none;
}
div.callout-Extra.callout {
  border-left-color: #a1bced;
}
div.callout-Extra.callout-style-default > .callout-header {
  background-color: rgba(161, 188, 237, 0.13);
}
div.callout-Extra .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>');}
div.callout-Extra.callout-style-default .callout-icon::before, div.callout-Extra.callout-titled .callout-icon::before {
  font-family: 'Font Awesome 6 Free';
  content: '\f48b';
  background-image: none;
}
</style>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="custom.css">
</head>

<body class="nav-sidebar floating fullcontent quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter_Intro_Derivatives.html">Part 1: Introduction</a></li><li class="breadcrumb-item"><a href="./Chapter_Intro_Futures.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Futures Markets</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Pricing and Hedging Derivative Securities</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://chat.derivative-securities.org/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-chat-square-text"></i></a>
    <a href="https://github.com/math-finance-book/book-published-code.git" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 1: Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Intro_Derivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Derivative Securities</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Intro_Options.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Options Markets{#sec-c:options}</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Intro_Futures.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Futures Markets</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Intro_Arbitrage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Arbitrage and Trees</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 2: Mathematical Foundations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Brownian.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Brownian Motion</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Ito.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Ito Processes and Ito’s Formula</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_GBM.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Geometric Brownian Motion</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 3: Arbitrage Pricing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Arbitrage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">More on Arbitrage Pricing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Deltas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Delta Hedges, Replication, and PDEs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Girsanov.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Arbitrage Pricing in Continuous Time</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 4: Black-Scholes and Extensions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_BlackScholes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Black-Scholes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Merton.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Merton, Black, and Margrabe</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Asians.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Asians, Baskets, and Spreads</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Exotics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Other Exotics</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Part 5: Numerical Methods</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_MonteCarlo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Monte Carlo Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chapter_Binomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Binomial and Trinomial Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Appendix_Binomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Introduction to Binomial Tree Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Appendix_MonteCarlo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Introduction to Monte Carlo Simulations</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Chapter_Intro_Derivatives.html">Part 1: Introduction</a></li><li class="breadcrumb-item"><a href="./Chapter_Intro_Futures.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Futures Markets</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-c:futures" class="quarto-section-identifier"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Futures Markets</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div id="706e7c0f" class="cell" data-execution_count="1">
<div class="cell-output cell-output-display">
<script type="text/javascript" async="" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_SVG"></script>
</div>
</div>
<p>Futures contracts are among the oldest and most important derivative securities, with organized futures trading dating back centuries. These contracts are standardized agreements to buy or sell an asset at a predetermined price on a future date. They serve critical functions in modern financial markets, from price discovery and risk management to speculation and arbitrage.</p>
<p>The predetermined price in the previous paragraph is the price that the traders agreed upon when the contract was bought by one party and sold by the other and is called the futures price. The futures price is determined by the market, like stock and option prices. Traders can submit either limit orders or market orders to buy or sell.</p>
<p>Futures trading is similar to options trading. A clearinghouse stands as the counterparty to each trade, guaranteeing the fulfillment of the contract. The clearinghouse imposes margin requirements to ensure that traders have the financial wherewithal to meet their obligations. There is no pre-existing supply of futures contracts. Contracts are created by trade. The number of outstanding long contracts is always equal to the number of short contracts and is called open interest. A contrast with options markets is that both buyers and sellers of futures contracts have future obligations, and both parties must post margin. In options markets, only the seller of an option has a future obligation and must post margin.</p>
<p>The buyer of a futures contract (who is said to be long the contract) has the obligation to accept delivery of the underlying asset at the futures expiration date and to pay the futures price at which he bought the contract. The seller of a contract (who is said to be short the contract) has an obligation to deliver the underlying asset at the futures price at the futures expiration date. For example, the buyer of a corn contract will get corn and pay for it (if she does not offset the obligations by selling a contract prior to the contract’s expiration) and the seller of a corn contract will deliver corn and receive payment (if he does not offset the obligations by buying a contract prior to the contract’s expiration).</p>
<p>Like options, most traders unwind positions by making offsetting trades rather than holding positions to expiration. For example, a corn farmer might sell a corn futures contract at the price of $5.00 per bushel. The farmer can deliver on the contract and receive $5.00. However, the farmer could instead sell the contract at the market futures price, which will be near the spot price when the contract is near expiration. Suppose for example that the spot price of corn is near $4.00 per bushel near the contract’s expiration. Then the futures price will be also be near $4.00. As an alternative to delivering on the futures contract at $5.00, the farmer could instead sell the futures contract at $4.00, canceling the delivery obligation. In this scenario, the farmer makes $1.00 per bushel from selling the contract at $5.00 and buying it at $4.00. The farmer can then sell her corn in the spot market for $4.00. Combined with the $1.00 profit on the futures contract, the net proceeds for the farmer are again $5.00 per bushel. The fact that futures prices must be near spot prices at expiration is called <strong>spot-futures convergence</strong>. It results from the simple fact that a futures contract for delivery in the very near term is essentially the same as a spot contract.</p>
<p>The delivery terms on futures contracts are standardized and specified by the exchange. The exchange designates a delivery location and a delivery date. The exchange also specifies the quantity and quality of the underlying asset that must be delivered. The specifications of the <a href="https://www.cmegroup.com/markets/agriculture/grains/corn.contractSpecs.html">corn futures contract on the CME</a> gives a good sense for how this works.</p>
<p>Some futures contracts are <strong>cash settled</strong>. For such contracts, there are no provisions for physical delivery. Instead, contracts that are held to expiration are settled based a formula tied to an underlying asset at the time of expiration. For example, the <a href="https://www.cmegroup.com/markets/equities/sp/e-mini-sandp500.contractSpecs.html">e-mini S&amp;P 500 futures contract at the CME</a> is cash settled. The contract is settled based on the value of the S&amp;P 500 index at the time of expiration. This eliminates the need to deliver or receive delivery of the 500 stocks that make up the index. The “quantity” specification for cash settled contracts is a <strong>multiplier</strong> that determines the dollar value of a contract. The e-mini S&amp;P 500 contract has a multiplier of 50 dollars per unit of the index. If someone buys a contract at a futures price of 6000 and holds to expiration and the index is at 6500 on the expiration date, then that trader makes 50 <span class="math inline">\(\,\times\,\)</span> (6500 - 6000) <span class="math inline">\(\,=\,\)</span> 250,000 dollars profit on the trade.</p>
<p>Futures contracts in the modern sense began trading in the United States in 1851, but cash-settled contracts did not begin trading until 1981.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> Part of the complication with introducing cash-settled contracts is that they blur the line between trading and gambling. The buyer and seller of an S&amp;P 500 futures contract are clearly betting on how the S&amp;P 500 index will perform. The buyer wins if the index finishes above the futures price, and the seller wins otherwise. There are other cash settled contracts that do not even involve an underlying asset. For example, there are weather contracts that are cash settled based on the number of heating degree days in a particular time frame. The distinction that has been drawn between legal trading of cash-settled futures contracts and possibly illegal gambling is that futures contracts must satisfy legitimate risk-management needs of the part of some market participants. For example, a fund manager who wants to reduce her stock market exposure at a minimal trading cost can sell S&amp;P 500 futures contracts to hedge the fund’s stock portfolio.</p>
<section id="marking-to-market" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="marking-to-market"><span class="header-section-number">3.1</span> Marking to Market</h2>
<p>One of the most distinctive features of futures trading is the <strong>daily settlement</strong> or <strong>marking to market</strong> process. This mechanism virtually eliminates counterparty risk and enables leverage while maintaining market integrity.</p>
<section id="the-daily-settlement-process" class="level4">
<h4 class="anchored" data-anchor-id="the-daily-settlement-process">The Daily Settlement Process</h4>
<p><em>End-of-Day Valuation</em>: Each trading day, the exchange establishes a <em>settlement price</em> (typically close to the closing price) for each futures contract. All open positions are marked to this price.</p>
<p><em>Variation Margin</em>: The daily profit or loss on each position is calculated and immediately transferred between accounts: - <em>Profit</em>: Credited to the trader’s margin account - <em>Loss</em>: Debited from the trader’s margin account</p>
<p><em>Example</em>: Suppose you buy one S&amp;P 500 futures contract at 4,000: - Day 1: Settlement price = 4,010 → Gain = (4,010 - 4,000) × $50 = $500 (credited to your account) - Day 2: Settlement price = 3,990 → Loss = (3,990 - 4,010) × $50 = $1,000 (debited from your account) - Day 3: Settlement price = 4,020 → Gain = (4,020 - 3,990) × $50 = $1,500 (credited to your account)</p>
</section>
<section id="margin-requirements" class="level4">
<h4 class="anchored" data-anchor-id="margin-requirements">Margin Requirements</h4>
<p><em>Initial Margin</em>: Deposit required to open a futures position - Typically 3-12% of contract value (much lower than stock margin) - Provides leverage but amplifies risk - Set by exchanges based on volatility and risk assessment</p>
<p><em>Maintenance Margin</em>: Minimum account balance required to keep position open - Usually 75-80% of initial margin - If account falls below maintenance margin, a <strong>margin call</strong> occurs</p>
<p><em>Margin Call Process</em>: 1. Account balance falls below maintenance margin 2. Trader must deposit additional funds (variation margin) to restore account to initial margin level 3. If trader fails to meet margin call, position is liquidated</p>
</section>
<section id="why-marking-to-market-works" class="level4">
<h4 class="anchored" data-anchor-id="why-marking-to-market-works">Why Marking to Market Works</h4>
<p><em>Eliminates Credit Risk</em>: Daily settlement ensures that losers pay winners immediately, preventing the accumulation of large credit exposures.</p>
<p><em>Enables Leverage</em>: Because credit risk is minimized, exchanges can offer high leverage ratios that would be impossible in other markets.</p>
<p><em>Price Transparency</em>: Daily marking provides continuous price discovery and ensures that futures prices reflect current market conditions.</p>
<p><em>Liquidity Enhancement</em>: Reduced counterparty risk attracts more participants, increasing market liquidity.</p>
</section>
</section>
<section id="the-expectations-hypothesis" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="the-expectations-hypothesis"><span class="header-section-number">3.2</span> The Expectations Hypothesis</h2>
<p>The expectations hypothesis states that futures prices represent the market’s unbiased expectation of future spot prices. Mathematically, this can be written as: <span class="math display">\[F = \mathbb{E}[S_T]\]</span></p>
<p>Where <span class="math inline">\(\mathbb{E}[S_T]\)</span> is the expected spot price at the futures expiration date <span class="math inline">\(T\)</span>. This is a convenient hypothesis, because, if true, then futures prices provide a readily observable measure of the market’s expectations for future spot prices.</p>
<p>The motivation for the expectations hypothesis is the idea that, if the futures price were lower than the expected spot price, then traders “should” buy the futures contract and plan to sell the spot asset when delivered on the futures at maturity. This strategy has a positive expected profit when the futures price is lower than the expected spot price. This buying activity should drive up the price of the futures contract, until it converges to the expected spot price. Symmetrically, investors “should” sell the futures if its price is above the expected spot price, planning to buy the spot asset at the futures maturity to cover the delivery obligation on the futures, and this selling activity should cause the futures price to fall, until it converges to the expected spot price. Thus, in equilibrium, futures prices “should” equal the expected spot price.</p>
<p>All of the quotation marks around “should” in the previous paragraph reflect the fact that the theory presumes risk neutrality on the part of a large enough group of investors to move the futures price to the expected spot price. If investors are risk averse, then they may buy a limited quantity of the futures when its price is low relative to the expected spot price and sell a limited quantity of the futures when its price is high relative to the expected spot price, generating an expected profit as described in the previous paragraph. However, risk averse investors will weigh the expected profit against the risk, considering their other investments as well, and only allocate a limited amount of capital to the bet. This amount of capital may not be enough to move the futures price fully to the expected spot price. Empirically, futures prices seem to frequently deviate from expected spot prices in significant ways, indicating that the risk-neutrality assumption underlying the expectations hypothesis is not a good one.</p>
</section>
<section id="spot-futures-parity" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="spot-futures-parity"><span class="header-section-number">3.3</span> Spot-Futures Parity</h2>
<p>In contrast to the expectations hypothesis, which predicts a relationship between today’s futures price and the expected future spot price, <strong>spot-futures parity</strong> is a relationship between today’s futures price and today’s spot price. The foundation for spot-futures parity is arbitrage activity (making riskless profits) rather than making positive expected return but risky investments (as for the expectations hypothesis). The arbitrage can be viewed as creating a synthetic futures using the spot asset.</p>
<p>On a long futures contract, we receive the underlying asset and pay for it at a later date. The synthetic version of this is to borrow enough money to buy the spot asset, store the spot asset until the future date and then repay the loan at that date. On both the actual and synthetic futures, the asset is owned at the future date and payment is made at the future date.</p>
<p>On a short futures contract, we deliver the underlying asset and receive payment for it at a later date. The synthetic version of this is to borrow the underlying asset, sell it, and deposit the funds received. At the future date, we can deliver the asset to whomever we borrowed it from. At that date, we will deliver and we have cash (the proceeds from selling plus interest), mirroring the actual short futures.</p>
<p>There are four issues to consider in equating the synthetic futures to the actual futures. These are commonly grouped into two categories:</p>
<ul>
<li><em>Cost of carry</em>:
<ul>
<li>The cost of carry is the cost of holding the spot asset over a period of time. It has two components.</li>
<li>If we own spot, it ties up money, and we incur an opportunity cost of the foregone interest that could be earned by depositing the tied-up funds instead. This shows up in the synthetic futures as the interest expense on the loan in the synthetic long futures and as the interest earned on the deposit in the synthetic short futures.</li>
<li>There can be significant storage costs involved in owning spot commodities. This is the second component of the cost of carry. It shows up in the synthetic futures as an expense for the synthetic long futures and as an expense of which we relieve the original owner when we borrow the spot asset in the synthetic short futures.</li>
</ul></li>
<li>*Convenience yield:
<ul>
<li>There can also be advantages to owning the spot asset. These advantages are called the convenience yield</li>
<li>If the underlying asset pays dividends or other cash flows, then</li>
</ul>
The cost ofinterest. This opportunity cost of foregone interest is part of the cost of carry. store it until the future date and then repay the loan at that date. On both the actual and synthetic futures, the asset is owned at the future date and payment is made at the future date.</li>
</ul>
<section id="the-basic-parity-relationship" class="level4">
<h4 class="anchored" data-anchor-id="the-basic-parity-relationship">The Basic Parity Relationship</h4>
<p>For a futures contract on an asset that does not pay dividends and has no storage costs, spot-futures parity states that</p>
<p><span class="math display">\[F = S \mathrm{e}^{rT}\]</span></p>
<p>where <span class="math inline">\(F=\,\)</span> futures price, <span class="math inline">\(S=\,\)</span> current spot price, <span class="math inline">\(r=\,\)</span> risk-free interest rate, and <span class="math inline">\(T=\,\)</span> time to expiration.</p>
<p>This is an arbitrage relationship, meaning that, if it were not true, then there would be an arbitrage opportunity. Consider two strategies with identical payoffs at time <span class="math inline">\(T\)</span>:</p>
<ul>
<li>Strategy A: Buy futures contract at price <span class="math inline">\(F\)</span>
<ul>
<li>Cost today: <span class="math inline">\(0\)</span> (ignoring margin)</li>
<li>Payoff at <span class="math inline">\(T\)</span>: <span class="math inline">\(S_T - F\)</span></li>
</ul></li>
<li>Strategy B: Buy underlying asset, finance with borrowing
<ul>
<li>Cost today: <span class="math inline">\(S - S = 0\)</span> (borrow <span class="math inline">\(S\)</span> to buy asset worth <span class="math inline">\(S\)</span>)<br>
</li>
<li>Payoff at <span class="math inline">\(T\)</span>: <span class="math inline">\(S_T - S\mathrm{e}^{rT}\)</span> (asset value minus loan repayment)</li>
</ul></li>
</ul>
<p>Both strategies have zero cost at initiation and pay the underlying asset value at the futures maturity less <em>an amount known at strategy initiation</em>. There is an arbitrage opportunity if these amounts differ, so it must be that they are the same; that is, <span class="math inline">\(F = S\mathrm{e}^{rT}\)</span>.</p>
<p>The spot-futures-parity formula holds for all maturities <span class="math inline">\(T\)</span>. By varying <span class="math inline">\(T\)</span>, we obtain a formula for how futures prices should vary with the contract maturity. The relationship between the contract maturity and the futures price is known as the <strong>forward curve</strong>. <span class="citation" data-cites="fig:gold_forward_curve">(<a href="#ref-fig:gold_forward_curve" role="doc-biblioref"><strong>fig:gold_forward_curve?</strong></a>)</span> presents the gold forward curve at a single point in time. The upward slope reflects the fact that the future value factor <span class="math inline">\(\mathrm{e}^{rT}\)</span> is larger for larger <span class="math inline">\(T\)</span>. Because gold pays no dividends and has negligible storage costs, and because interest rates are positive, the gold forward curve is always upward sloping, reflecting the interest rate.</p>
<p>In the gold example, the interest rate is the <strong>cost of carry</strong>. This is the cost of holding gold - it is the opportunity cost of having money tied up in gold rather than invested in interest-bearing assets. As we discuss below, storage costs are another important component of the cost of carry for commodities.</p>
</section>
<section id="dividends" class="level4">
<h4 class="anchored" data-anchor-id="dividends">Dividends</h4>
<p>For an asset that generates cash flows - for example, dividends - the futures contract is worth less compared to owning the asset outright, because the holder of the futures contract does not receive the dividends. Thus, given the spot price and the interest rate, the futures price is lower than in the previous formula. We generally use the term “dividends,” but the cash flows could be other things - for example, the cash flow that is generated by holding a foreign currency is the foreign interest that is earned by depositing the currency.</p>
<p>The spot-futures-parity formula for a dividend-paying asset is:</p>
<p><span class="math display">\[F = (S - PV(\text{Dividends}))\mathrm{e}^{rT}\]</span></p>
<p>The derivation of this formula is again by arbitrage with the same two strategies as above. The only difference is that in Strategy B, the trader will have the dividends (plus interest on the dividends) in addition to the value of the spot asset available to repay the loan, so the payoff at <span class="math inline">\(T\)</span> is <span class="math display">\[S_T + FV(\text{Dividends}) - S\mathrm{e}^{rT} \,.\]</span></p>
<p>Assuming the future value of the dividends can be predicted at strategy initiation, the same arbitrage logic as before implies that</p>
<p><span class="math display">\[F = S \mathrm{e}^{rT}- FV(\text{Dividends}) = (S- \text{PV}(\text{Dividends}))\mathrm{e}^{rT}\,.\]</span></p>
<p>This relationship is very useful for understanding futures contracts on currencies, stock indices, and the like. We can usually approximate the dividend payments as being paid continuously at a known rate <strong>Commodities with Storage Costs</strong>: <span class="math display">\[F = S\mathrm{e}^{(r+c)T}\]</span></p>
<p>Where <span class="math inline">\(c\)</span> = storage cost rate. Storage costs increase the futures price because they represent an additional carrying cost.</p>
<p><strong>Convenience Yield</strong>: For commodities, there may be benefits to physical ownership (convenience yield <span class="math inline">\(y\)</span>): <span class="math display">\[F = S\mathrm{e}^{(r+c-y)T}\]</span></p>
<p>Convenience yield can make futures prices lower than the basic cost-of-carry model predicts.</p>
</section>
<section id="incorporating-dividends-and-storage-costs" class="level4">
<h4 class="anchored" data-anchor-id="incorporating-dividends-and-storage-costs">Incorporating Dividends and Storage Costs</h4>
<p><strong>Dividend-Paying Assets</strong>: <span class="math display">\[F = (S - PV(\text{Dividends}))\mathrm{e}^{rT}\]</span></p>
<p>Expected dividends reduce the futures price because futures holders don’t receive dividend payments.</p>
<p><strong>Commodities with Storage Costs</strong>: <span class="math display">\[F = S\mathrm{e}^{(r+c)T}\]</span></p>
<p>Where <span class="math inline">\(c\)</span> = storage cost rate. Storage costs increase the futures price because they represent an additional carrying cost.</p>
<p><strong>Convenience Yield</strong>: For commodities, there may be benefits to physical ownership (convenience yield <span class="math inline">\(y\)</span>): <span class="math display">\[F = S\mathrm{e}^{(r+c-y)T}\]</span></p>
<p>Convenience yield can make futures prices lower than the basic cost-of-carry model predicts.</p>
</section>
<section id="arbitrage-when-parity-is-violated" class="level4">
<h4 class="anchored" data-anchor-id="arbitrage-when-parity-is-violated">Arbitrage When Parity Is Violated</h4>
<p><em>If <span class="math inline">\(F &gt; S\mathrm{e}^{rT}\)</span> (Futures overpriced)</em>: 1. Sell futures contract 2. Buy underlying asset<br>
3. Finance purchase by borrowing <span class="math inline">\(S\)</span> 4. At expiration: Deliver asset against futures, collect <span class="math inline">\(F\)</span>, repay loan <span class="math inline">\(S\mathrm{e}^{rT}\)</span> 5. Risk-free profit: <span class="math inline">\(F - S\mathrm{e}^{rT}\)</span></p>
<p><em>If <span class="math inline">\(F &lt; S\mathrm{e}^{rT}\)</span> (Futures underpriced)</em>: 1. Buy futures contract 2. Sell underlying asset short 3. Invest proceeds <span class="math inline">\(S\)</span> at risk-free rate 4. At expiration: Take delivery via futures, return borrowed asset, collect investment proceeds 5. Risk-free profit: <span class="math inline">\(S\mathrm{e}^{rT} - F\)</span></p>
</section>
<section id="practical-considerations" class="level4">
<h4 class="anchored" data-anchor-id="practical-considerations">Practical Considerations</h4>
<p><em>Transaction Costs</em>: Reduce arbitrage opportunities and create a no-arbitrage band around theoretical parity.</p>
<p><em>Borrowing vs.&nbsp;Lending Rates</em>: Different rates for borrowing and lending create wider no-arbitrage bands.</p>
<p><em>Delivery Options</em>: Many futures contracts give the short party choices about delivery timing, location, or grade, making exact parity calculations complex.</p>
</section>
</section>
<section id="options-on-futures" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="options-on-futures"><span class="header-section-number">3.4</span> Options on Futures</h2>
<p>Many exchanges offer <strong>options on futures contracts</strong>, creating a derivative on a derivative. These instruments combine the features of options (limited downside risk) with the efficiency and liquidity of futures markets.</p>
<section id="contract-specifications" class="level4">
<h4 class="anchored" data-anchor-id="contract-specifications">Contract Specifications</h4>
<p><em>Call Option on Futures</em>: Right to buy a futures contract at a specified strike price - Exercise creates a long futures position at the strike price - Immediate mark-to-market profit/loss upon exercise</p>
<p><em>Put Option on Futures</em>: Right to sell a futures contract at a specified strike price - Exercise creates a short futures position at the strike price - Immediate mark-to-market profit/loss upon exercise</p>
</section>
<section id="exercise-and-settlement" class="level4">
<h4 class="anchored" data-anchor-id="exercise-and-settlement">Exercise and Settlement</h4>
<p><em>American-Style</em>: Most options on futures can be exercised any time before expiration</p>
<p><em>Exercise Process</em>: 1. Option holder notifies broker of exercise decision 2. Clearinghouse assigns exercise to a random short option holder 3. Assigned option writer receives a futures position 4. Both parties receive immediate mark-to-market settlement</p>
<p><em>Example</em>: Crude oil futures trading at $80, holder exercises $75 call: - Call holder receives long futures position at $75 - Immediate credit: $(80 - 75) × 1,000 = <span class="math inline">\(5,000\)</span> per contract - Option writer receives short futures position at $75 - Immediate debit: $5,000 per contract</p>
</section>
<section id="strategic-applications" class="level4">
<h4 class="anchored" data-anchor-id="strategic-applications">Strategic Applications</h4>
<p><em>Hedging Futures Positions</em>: - Long futures + long put = Limited downside, unlimited upside - Short futures + long call = Limited downside, unlimited upside</p>
<p><em>Speculation with Limited Risk</em>: - Buy calls/puts instead of futures to limit maximum loss to premium - Leverage benefits of futures with risk management of options</p>
<p><em>Spread Trading</em>: - Calendar spreads using options on different expiration futures - Volatility trading using straddles and strangles</p>
</section>
<section id="advantages-over-options-on-spot-assets" class="level4">
<h4 class="anchored" data-anchor-id="advantages-over-options-on-spot-assets">Advantages Over Options on Spot Assets</h4>
<p><em>Leverage</em>: Futures provide inherent leverage, amplifying option sensitivity</p>
<p><em>Liquidity</em>: Major futures markets often more liquid than spot markets</p>
<p><em>No Storage Costs</em>: Options on financial futures avoid physical storage issues</p>
<p><em>Extended Trading Hours</em>: Many futures markets trade nearly 24 hours</p>
<p><em>Mark-to-Market</em>: Immediate settlement reduces counterparty risk</p>
</section>
</section>
<section id="futures-markets-in-the-modern-economy" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="futures-markets-in-the-modern-economy"><span class="header-section-number">3.5</span> Futures Markets in the Modern Economy</h2>
<p>Futures markets serve several crucial economic functions beyond simple speculation:</p>
<p><em>Price Discovery</em>: Aggregating information from diverse market participants to establish forward-looking prices</p>
<p><em>Risk Management</em>: Enabling producers, consumers, and investors to hedge price risks</p>
<p><em>Market Efficiency</em>: Facilitating arbitrage that links spot and futures markets</p>
<p><em>Capital Efficiency</em>: Providing leverage and liquidity that enhance capital allocation</p>
</section>
<section id="hedging-with-options-vs-futures" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="hedging-with-options-vs-futures"><span class="header-section-number">3.6</span> Hedging with Options vs Futures</h2>
<p>When facing price risk, market participants often choose between futures contracts and options on futures for hedging purposes. While both instruments can provide price protection, they offer fundamentally different risk-reward profiles that lead to different optimal applications. Understanding these differences is crucial for effective risk management.</p>
<section id="the-oil-refiners-dilemma" class="level3">
<h3 class="anchored" data-anchor-id="the-oil-refiners-dilemma">The Oil Refiner’s Dilemma</h3>
<p>Consider an oil refiner who needs to purchase crude oil three months from now to produce gasoline. The refiner faces the risk that crude oil prices will rise, increasing production costs and potentially reducing profit margins. Two primary hedging strategies are available:</p>
<p><em>Strategy 1: Buy Crude Oil Futures</em> - Lock in today’s futures price for delivery in three months - Completely eliminate price risk - No additional cost beyond margin requirements</p>
<p><em>Strategy 2: Buy Call Options on Crude Oil Futures</em><br>
- Establish a maximum purchase price (strike price) - Retain the ability to benefit if prices fall - Pay an upfront premium for this flexibility</p>
</section>
<section id="the-problem-of-ex-post-regret" class="level3">
<h3 class="anchored" data-anchor-id="the-problem-of-ex-post-regret">The Problem of Ex-Post Regret</h3>
<p>The fundamental trade-off between these strategies becomes apparent when we consider ex-post regret - the retrospective evaluation of hedging decisions after outcomes are known.</p>
<p><em>Futures Hedging and Regret</em>: When a refiner uses futures to lock in crude oil prices, perfect price certainty is achieved. However, this certainty comes with the psychological cost of regret when market conditions move favorably:</p>
<ul>
<li><em>If crude prices rise</em>: The refiner feels satisfied with the hedge, having avoided higher costs</li>
<li><em>If crude prices fall</em>: The refiner experiences regret, knowing they could have purchased oil at lower market prices without the hedge</li>
</ul>
<p>This regret is not merely psychological - it represents real economic opportunity cost. The futures hedge prevented the refiner from capitalizing on favorable price movements.</p>
<p><em>Options Hedging and Asymmetric Outcomes</em>: Call options on futures provide a fundamentally different risk profile:</p>
<ul>
<li><em>If crude prices rise above the strike</em>: Exercise the option and purchase at the predetermined strike price, similar to the futures outcome</li>
<li><em>If crude prices fall below the strike</em>: Let the option expire and purchase at the lower market prices</li>
</ul>
<p>The option strategy eliminates regret from favorable price movements while maintaining protection against adverse moves. However, this flexibility requires paying the option premium upfront.</p>
</section>
<section id="portfolio-considerations" class="level3">
<h3 class="anchored" data-anchor-id="portfolio-considerations">Portfolio Considerations</h3>
<p>In practice, sophisticated hedgers often combine both approaches:</p>
<p><em>Partial Hedging</em>: Use futures to hedge a baseline amount and options for additional protection <em>Time-Varying Strategies</em>: Adjust the futures-to-options ratio based on market conditions and premium levels <em>Strike Selection</em>: Choose option strikes that balance premium costs with desired protection levels</p>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Millo, Y., 2007, “Making Things Deliverable: The Origins of Index-Based Derivatives”, <em>Sociological Review</em>, vol.&nbsp;55.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Chapter_Intro_Options.html" class="pagination-link" aria-label="Options Markets{#sec-c:options}">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Options Markets{#sec-c:options}</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Chapter_Intro_Arbitrage.html" class="pagination-link" aria-label="Arbitrage and Trees">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Arbitrage and Trees</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions"><ul><li><a href="https://github.com/math-finance-book/book-published-code.git/blob/main/Chapter_Intro_Futures.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div></div></footer></body></html>